(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FURNITURE=exports.TILE_CURSOR=exports.AVATAR=exports.RoomModelVisualization=exports.WallRight=exports.WallLeft=exports.FurnitureVisualization=exports.FurnitureBottleVisualization=exports.BasicFurnitureVisualization=exports.StaticFurnitureVisualization=exports.FurnitureGuildCustomizedVisualization=exports.AnimatedFurnitureVisualization=exports.BaseAvatar=exports.BaseFurniture=exports.FurnitureRoomVisualization=exports.AvatarAction=exports.AvatarLoader=exports.FurnitureLoader=exports.AnimationTicker=exports.Landscape=exports.Shroom=exports.FurnitureData=exports.parseTileMapString=exports.loadRoomTexture=exports.RoomCamera=exports.Room=exports.WallFurniture=exports.FloorFurniture=exports.Avatar=exports.RoomObject=void 0;var RoomObject_1=__webpack_require__(203);Object.defineProperty(exports,"RoomObject",{enumerable:!0,get:function get(){return RoomObject_1.RoomObject}});var Avatar_1=__webpack_require__(968);Object.defineProperty(exports,"Avatar",{enumerable:!0,get:function get(){return Avatar_1.Avatar}});var FloorFurniture_1=__webpack_require__(979);Object.defineProperty(exports,"FloorFurniture",{enumerable:!0,get:function get(){return FloorFurniture_1.FloorFurniture}});var WallFurniture_1=__webpack_require__(989);Object.defineProperty(exports,"WallFurniture",{enumerable:!0,get:function get(){return WallFurniture_1.WallFurniture}});var Room_1=__webpack_require__(991);Object.defineProperty(exports,"Room",{enumerable:!0,get:function get(){return Room_1.Room}});var RoomCamera_1=__webpack_require__(1010);Object.defineProperty(exports,"RoomCamera",{enumerable:!0,get:function get(){return RoomCamera_1.RoomCamera}});var loadRoomTexture_1=__webpack_require__(1012);Object.defineProperty(exports,"loadRoomTexture",{enumerable:!0,get:function get(){return loadRoomTexture_1.loadRoomTexture}});var parseTileMapString_1=__webpack_require__(532);Object.defineProperty(exports,"parseTileMapString",{enumerable:!0,get:function get(){return parseTileMapString_1.parseTileMapString}});var FurnitureData_1=__webpack_require__(536);Object.defineProperty(exports,"FurnitureData",{enumerable:!0,get:function get(){return FurnitureData_1.FurnitureData}});var Shroom_1=__webpack_require__(1038);Object.defineProperty(exports,"Shroom",{enumerable:!0,get:function get(){return Shroom_1.Shroom}});var Landscape_1=__webpack_require__(1091);Object.defineProperty(exports,"Landscape",{enumerable:!0,get:function get(){return Landscape_1.Landscape}});var AnimationTicker_1=__webpack_require__(549);Object.defineProperty(exports,"AnimationTicker",{enumerable:!0,get:function get(){return AnimationTicker_1.AnimationTicker}});var FurnitureLoader_1=__webpack_require__(561);Object.defineProperty(exports,"FurnitureLoader",{enumerable:!0,get:function get(){return FurnitureLoader_1.FurnitureLoader}});var AvatarLoader_1=__webpack_require__(550);Object.defineProperty(exports,"AvatarLoader",{enumerable:!0,get:function get(){return AvatarLoader_1.AvatarLoader}});var AvatarAction_1=__webpack_require__(205);Object.defineProperty(exports,"AvatarAction",{enumerable:!0,get:function get(){return AvatarAction_1.AvatarAction}});var FurnitureRoomVisualization_1=__webpack_require__(1092);Object.defineProperty(exports,"FurnitureRoomVisualization",{enumerable:!0,get:function get(){return FurnitureRoomVisualization_1.FurnitureRoomVisualization}});var BaseFurniture_1=__webpack_require__(332);Object.defineProperty(exports,"BaseFurniture",{enumerable:!0,get:function get(){return BaseFurniture_1.BaseFurniture}});var BaseAvatar_1=__webpack_require__(493);Object.defineProperty(exports,"BaseAvatar",{enumerable:!0,get:function get(){return BaseAvatar_1.BaseAvatar}});var AnimatedFurnitureVisualization_1=__webpack_require__(243);Object.defineProperty(exports,"AnimatedFurnitureVisualization",{enumerable:!0,get:function get(){return AnimatedFurnitureVisualization_1.AnimatedFurnitureVisualization}});var FurnitureGuildCustomizedVisualization_1=__webpack_require__(1093);Object.defineProperty(exports,"FurnitureGuildCustomizedVisualization",{enumerable:!0,get:function get(){return FurnitureGuildCustomizedVisualization_1.FurnitureGuildCustomizedVisualization}});var BasicFurnitureVisualization_1=__webpack_require__(1095);Object.defineProperty(exports,"StaticFurnitureVisualization",{enumerable:!0,get:function get(){return BasicFurnitureVisualization_1.StaticFurnitureVisualization}}),Object.defineProperty(exports,"BasicFurnitureVisualization",{enumerable:!0,get:function get(){return BasicFurnitureVisualization_1.BasicFurnitureVisualization}});var FurnitureBottleVisualization_1=__webpack_require__(1096);Object.defineProperty(exports,"FurnitureBottleVisualization",{enumerable:!0,get:function get(){return FurnitureBottleVisualization_1.FurnitureBottleVisualization}});var FurnitureVisualization_1=__webpack_require__(206);Object.defineProperty(exports,"FurnitureVisualization",{enumerable:!0,get:function get(){return FurnitureVisualization_1.FurnitureVisualization}});var WallLeft_1=__webpack_require__(336);Object.defineProperty(exports,"WallLeft",{enumerable:!0,get:function get(){return WallLeft_1.WallLeft}});var WallRight_1=__webpack_require__(534);Object.defineProperty(exports,"WallRight",{enumerable:!0,get:function get(){return WallRight_1.WallRight}});var RoomModelVisualization_1=__webpack_require__(533);Object.defineProperty(exports,"RoomModelVisualization",{enumerable:!0,get:function get(){return RoomModelVisualization_1.RoomModelVisualization}});var IEventGroup_1=__webpack_require__(125);Object.defineProperty(exports,"AVATAR",{enumerable:!0,get:function get(){return IEventGroup_1.AVATAR}}),Object.defineProperty(exports,"TILE_CURSOR",{enumerable:!0,get:function get(){return IEventGroup_1.TILE_CURSOR}}),Object.defineProperty(exports,"FURNITURE",{enumerable:!0,get:function get(){return IEventGroup_1.FURNITURE}})},10:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createShroom}));var pixi_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(75),_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(270);function createShroom(cb){var App=function App(){var containerRef=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),canvasRef=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);return react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect((function(){var element=canvasRef.current,container=containerRef.current;if(null!=element&&null!=container){var application=new pixi_js__WEBPACK_IMPORTED_MODULE_0__.a({view:element,width:1400,height:850}),shroom=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Shroom.create({resourcePath:"https://psociety.github.io/shroom-static",application:application,configuration:{placeholder:pixi_js__WEBPACK_IMPORTED_MODULE_0__.d.from("./images/placeholder.png")}}),cleanup=cb({application:application,shroom:shroom,container:container});return function(){cleanup&&cleanup(),application.destroy()}}}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{ref:containerRef,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("canvas",{ref:canvasRef})})};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(App,{})}createShroom.displayName="createShroom";try{createShroom.displayName="createShroom",createShroom.__docgenInfo={description:"",displayName:"createShroom",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/common/createShroom.tsx#createShroom"]={docgenInfo:createShroom.__docgenInfo,name:"createShroom",path:"stories/common/createShroom.tsx#createShroom"})}catch(__react_docgen_typescript_loader_error){}},1e3:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.WallOuterCorner=void 0;var PIXI=__importStar(__webpack_require__(59)),WallOuterCorner=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WallOuterCorner,_PIXI$Container);var _super=_createSuper(WallOuterCorner);function WallOuterCorner(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WallOuterCorner),(_this=_super.call(this))._borderWidth=0,_this._wallHeight=0,_this._roomZ=0,_this._wallTopColor=0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WallOuterCorner,[{key:"roomZ",get:function get(){return this._roomZ},set:function set(value){this._roomZ=value,this._update()}},{key:"wallY",get:function get(){return-this._wallHeight}},{key:"update",value:function update(data){this._borderWidth=data.borderWidth,this._wallHeight=data.wallHeight,this._wallTopColor=data.wallTopColor,this._update()}},{key:"_createTopSprite",value:function _createTopSprite(){var border=new PIXI.TilingSprite(PIXI.Texture.WHITE,this._borderWidth,this._borderWidth);return border.transform.setFromMatrix(new PIXI.Matrix(1,.5,1,-.5)),border.tint=this._wallTopColor,border.x=-this._borderWidth,border.y=-this._wallHeight+32*this.roomZ-16+this._borderWidth/2+(32-this._borderWidth),border}},{key:"_update",value:function _update(){this.removeChildren(),this.addChild(this._createTopSprite())}}]),WallOuterCorner}(PIXI.Container);exports.WallOuterCorner=WallOuterCorner},1001:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(15),__webpack_require__(19),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTileMapBounds=void 0;var getPosition_1=__webpack_require__(1002);exports.getTileMapBounds=function getTileMapBounds(tilemap,wallOffsets){var minX,minY,maxX,maxY;if(tilemap.forEach((function(row,y){row.forEach((function(column,x){if("tile"===column.type){var position=getPosition_1.getPosition(x,y,column.z,wallOffsets),localMaxX=position.x+64,localMaxY=position.y+32;(null==minX||position.x<minX)&&(minX=position.x),(null==minY||position.y<minY)&&(minY=position.y),(null==maxX||localMaxX>maxX)&&(maxX=localMaxX),(null==maxY||localMaxY>maxY)&&(maxY=localMaxY)}}))})),null==minX||null==minY||null==maxX||null==maxY)throw new Error("Couldnt figure out dimensions");return{minX:minX,minY:minY-32,maxX:maxX,maxY:maxY-32}}},1002:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPosition=void 0,exports.getPosition=function getPosition(roomX,roomY,roomZ,wallOffsets){return{x:32*(roomX+=wallOffsets.x)-32*(roomY+=wallOffsets.y),y:16*roomX+16*roomY-32*roomZ}}},1003:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParsedTileMap=void 0;var parseTileMap_1=__webpack_require__(1004),ParsedTileMap=function(){function ParsedTileMap(tilemap){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ParsedTileMap),this.tilemap=tilemap,this._data=parseTileMap_1.parseTileMap(tilemap)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ParsedTileMap,[{key:"largestDiff",get:function get(){return this._data.largestDiff}},{key:"parsedTileTypes",get:function get(){return this._data.tilemap}},{key:"wallOffsets",get:function get(){return this._data.wallOffsets}}]),ParsedTileMap}();exports.ParsedTileMap=ParsedTileMap},1004:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(20),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(13),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseTileMap=void 0;var getTileInfo_1=__webpack_require__(337),getColumnWalls_1=__webpack_require__(1006),getRowWalls_1=__webpack_require__(1007),padTileMap_1=__webpack_require__(1008);exports.parseTileMap=function parseTileMap(tilemap){var _a,wallInfo=new Walls(getRowWalls_1.getRowWalls(tilemap),getColumnWalls_1.getColumnWalls(tilemap));padTileMap_1.padTileMap(tilemap);var lowestTile,highestTile,result=tilemap.map((function(row){return row.map((function(){return{type:"hidden"}}))})),hasDoor=!1;function applyHighLowTile(current){(null==highestTile||current>highestTile)&&(highestTile=current),(null==lowestTile||current<lowestTile)&&(lowestTile=current)}for(var y=0;y<tilemap.length;y++)for(var x=0;x<tilemap[y].length;x++){var resultX=x,resultY=y,tileInfo=getTileInfo_1.getTileInfo(tilemap,x,y),tileInfoBelow=getTileInfo_1.getTileInfo(tilemap,x,y+1),tileInfoRight=getTileInfo_1.getTileInfo(tilemap,x+1,y),wall=wallInfo.getWall(x,y);if(null!=wall)switch(wall.kind){case"column":var colWallHeightDiff=null!=tileInfoBelow.height?Math.abs(tileInfoBelow.height-wall.height):0;result[resultY][resultX]={kind:"colWall",type:"wall",height:wall.height,hideBorder:colWallHeightDiff>0};break;case"row":var rowWallHeightDiff=null!=tileInfoRight.height?Math.abs(tileInfoRight.height-wall.height):0;result[resultY][resultX]={kind:"rowWall",type:"wall",height:wall.height,hideBorder:tileInfoBelow.rowDoor||rowWallHeightDiff>0};break;case"innerCorner":result[resultY][resultX]={kind:"innerCorner",type:"wall",height:wall.height};break;case"outerCorner":result[resultY][resultX]={kind:"outerCorner",type:"wall",height:wall.height}}!tileInfo.rowDoor||hasDoor?null!=tileInfo.stairs&&null!=tileInfo.height?(tileInfo.stairs.isCorner?result[resultY][resultX]={type:"stairCorner",kind:tileInfo.stairs.cornerType,z:tileInfo.height}:null!=tileInfo.stairs.direction&&(result[resultY][resultX]={type:"stairs",kind:tileInfo.stairs.direction,z:tileInfo.height}),applyHighLowTile(tileInfo.height)):null!=tileInfo.height&&(result[resultY][resultX]={type:"tile",z:tileInfo.height},applyHighLowTile(tileInfo.height)):(hasDoor=!0,result[resultY][resultX]={type:"door",z:null!==(_a=tileInfo.height)&&void 0!==_a?_a:0})}var largestDiff=0;null!=lowestTile&&null!=highestTile&&(largestDiff=highestTile-lowestTile);var wallOffsets={x:1,y:1};return{tilemap:result,largestDiff:largestDiff,wallOffsets:wallOffsets,positionOffsets:{x:0,y:0},maskOffsets:{x:-wallOffsets.x,y:-wallOffsets.y}}};var Walls=function(){function Walls(rowWalls,colWalls){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Walls),this._rowWalls=new Map,this._colWalls=new Map,rowWalls.forEach((function(info){for(var y=info.startY;y<=info.endY;y++)_this._rowWalls.set("".concat(info.x,"_").concat(y),info)})),colWalls.forEach((function(info){for(var x=info.startX;x<=info.endX;x++)_this._colWalls.set("".concat(x,"_").concat(info.y),info)}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Walls,[{key:"getWall",value:function getWall(x,y){var rightColWall=this._getColWall(x+1,y),bottomRowWall=this._getRowWall(x,y+1);if(null!=rightColWall&&null!=bottomRowWall)return{kind:"outerCorner",height:Math.min(rightColWall.height,bottomRowWall.height)};var leftColWall=this._getColWall(x,y),topRowWall=this._getRowWall(x,y);if(null!=leftColWall&&null!=topRowWall)return{kind:"innerCorner",height:Math.min(leftColWall.height,topRowWall.height)};var rowWall=this._getRowWall(x,y);if(null!=rowWall)return{kind:"row",height:rowWall.height};var colWall=this._getColWall(x,y);return null!=colWall?{kind:"column",height:colWall.height}:void 0}},{key:"_getRowWall",value:function _getRowWall(x,y){return this._rowWalls.get("".concat(x,"_").concat(y))}},{key:"_getColWall",value:function _getColWall(x,y){return this._colWalls.get("".concat(x,"_").concat(y))}}]),Walls}()},1005:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(57),Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTile=void 0;exports.isTile=function isTile(type){return!isNaN(Number(type))}},1006:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getColumnWalls=void 0;var getTileInfo_1=__webpack_require__(337);exports.getColumnWalls=function getColumnWalls(tilemap){for(var _a,wallEndX,wallStartX,height,lastX=tilemap[0].length-1,walls=[],y=0;y<tilemap.length;y++)for(var x=lastX;x>=0;x--){var current=getTileInfo_1.getTileInfo(tilemap,x,y);current.colEdge&&!current.rowDoor?(null==wallEndX&&(wallEndX=x),wallStartX=x,lastX=x-1,(null==height||(null!==(_a=current.height)&&void 0!==_a?_a:0)<height)&&(height=current.height)):null!=wallEndX&&null!=wallStartX&&(walls.push({startX:wallStartX,endX:wallEndX,y:y-1,height:null!=height?height:0}),wallEndX=void 0,wallStartX=void 0,height=void 0)}return walls}},1007:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRowWalls=void 0;var getTileInfo_1=__webpack_require__(337);exports.getRowWalls=function getRowWalls(tilemap){for(var _a,wallEndY,wallStartY,height,lastY=tilemap.length-1,walls=[],x=0;x<tilemap[0].length;x++)for(var y=lastY;y>=0;y--){var current=getTileInfo_1.getTileInfo(tilemap,x,y);current.rowEdge&&!current.rowDoor?(null==wallEndY&&(wallEndY=y),wallStartY=y,lastY=y-1,(null==height||(null!==(_a=current.height)&&void 0!==_a?_a:0)<height)&&(height=current.height)):null!=wallEndY&&null!=wallStartY&&(walls.push({startY:wallStartY,endY:wallEndY,x:x-1,height:null!=height?height:0}),wallEndY=void 0,wallStartY=void 0,height=void 0)}return walls}},1008:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__(3),__webpack_require__(469),__webpack_require__(13),__webpack_require__(20),__webpack_require__(49),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(5),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.padTileMap=void 0,exports.padTileMap=function padTileMap(tilemap){var firstRow=tilemap[0];if(null==firstRow)throw new Error("Invalid row");var offsetY=0,offsetX=0;return firstRow.some((function(type){return"x"!==type}))&&(tilemap=[firstRow.map((function(){return"x"}))].concat(_toConsumableArray(tilemap)),offsetY+=1),tilemap.filter((function(row){return"x"!==row[0]})).length>1&&(tilemap=tilemap.map((function(row){return["x"].concat(_toConsumableArray(row))})),offsetX+=1),{tilemap:tilemap,offsetX:offsetX,offsetY:offsetY}}},1009:function(module,exports,__webpack_require__){"use strict";function fromHex(color){return parseInt(color.replace("#","0x"),16)}function adjust(color,amount){return"#"+color.replace(/^#/,"").replace(/../g,(function(color){return("0"+Math.min(255,Math.max(0,parseInt(color,16)+amount)).toString(16)).substr(-2)}))}__webpack_require__(3),__webpack_require__(204),__webpack_require__(67),__webpack_require__(28),__webpack_require__(5),__webpack_require__(71),__webpack_require__(35),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getWallColors=exports.getTileColors=void 0,exports.getTileColors=function getTileColors(color){return{tileTint:fromHex(color),borderLeftTint:fromHex(adjust(color,-20)),borderRightTint:fromHex(adjust(color,-40))}},exports.getWallColors=function getWallColors(color){var leftTint=fromHex(color);return{topTint:fromHex(adjust(color,-103)),leftTint:leftTint,rightTint:fromHex(adjust(color,-52))}}},1010:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(11),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoomCamera=void 0;var PIXI=__importStar(__webpack_require__(59)),TWEEN=__webpack_require__(1011),RoomCamera=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RoomCamera,_PIXI$Container);var _super=_createSuper(RoomCamera);function RoomCamera(_room,_parentBounds,_options){var _this,_a,_b;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RoomCamera),(_this=_super.call(this))._room=_room,_this._parentBounds=_parentBounds,_this._options=_options,_this._state={type:"WAITING"},_this._offsets={x:0,y:0},_this._animatedOffsets={x:0,y:0},_this._handlePointerUp=function(event){if("WAITING"!==_this._state.type&&"ANIMATE_ZERO"!==_this._state.type&&_this._state.pointerId===event.pointerId){var animatingBack=!1;"DRAGGING"===_this._state.type&&(animatingBack=_this._stopDragging(_this._state)),animatingBack||_this._resetDrag()}},_this._handlePointerDown=function(event){var position=event.data.getLocalPosition(_this.parent);"WAITING"===_this._state.type?_this._enterWaitingForDistance(position,event.data.pointerId):"ANIMATE_ZERO"===_this._state.type&&_this._changingDragWhileAnimating(position,event.data.pointerId)},_this._handlePointerMove=function(event){var box=_this._room.application.view.getBoundingClientRect(),position=new PIXI.Point(event.clientX-box.x-_this.parent.worldTransform.tx,event.clientY-box.y-_this.parent.worldTransform.tx);switch(_this._state.type){case"WAIT_FOR_DISTANCE":_this._tryUpgradeWaitForDistance(_this._state,position,event.pointerId);break;case"DRAGGING":_this._updateDragging(_this._state,position,event.pointerId)}};var last,target=null!==(_b=null===(_a=_this._options)||void 0===_a?void 0:_a.target)&&void 0!==_b?_b:window;return _this._target=target,_this._parentContainer=new PIXI.Container,_this._parentContainer.hitArea=_this._parentBounds(),_this._parentContainer.interactive=!0,_this._container=new PIXI.Container,_this._container.addChild(_this._room),_this._parentContainer.addChild(_this._container),_this.addChild(_this._parentContainer),_this._parentContainer.addListener("pointerdown",_this._handlePointerDown),_this._target.addEventListener("pointermove",_this._handlePointerMove),_this._target.addEventListener("pointerup",_this._handlePointerUp),_this._room.application.ticker.add((function(){null==last&&(last=performance.now());var value=performance.now()-last;TWEEN.update(value)})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RoomCamera,[{key:"destroy",value:function destroy(){this._parentContainer.removeListener("pointerdown",this._handlePointerDown),this._target.removeEventListener("pointermove",this._handlePointerMove),this._target.removeEventListener("pointerup",this._handlePointerUp)}},{key:"container",get:function get(){return this._container}},{key:"_updatePosition",value:function _updatePosition(){switch(this._state.type){case"DRAGGING":var diffX=this._state.currentX-this._state.startX,diffY=this._state.currentY-this._state.startY;this._container.x=this._offsets.x+diffX,this._container.y=this._offsets.y+diffY;break;case"ANIMATE_ZERO":this._container.x=this._animatedOffsets.x,this._container.y=this._animatedOffsets.y;break;default:this._container.x=this._offsets.x,this._container.y=this._offsets.y}}},{key:"_isOutOfBounds",value:function _isOutOfBounds(offsets){var roomX=this.parent.transform.position.x+this._room.x,roomY=this.parent.transform.position.y+this._room.y;return roomX+this._room.roomWidth+offsets.x<=0||(roomX+offsets.x>=this._parentBounds().width||(roomY+this._room.roomHeight+offsets.y<=0||roomY+offsets.y>=this._parentBounds().height))}},{key:"_returnToZero",value:function _returnToZero(state,current){var _a,_b,_this2=this;this._state=Object.assign({},state,{type:"ANIMATE_ZERO"});var duration=null!==(_b=null===(_a=this._options)||void 0===_a?void 0:_a.duration)&&void 0!==_b?_b:500;this._animatedOffsets=current,this._offsets={x:0,y:0};var newPos=Object.assign({},this._animatedOffsets),tween=new TWEEN.Tween(newPos).to({x:0,y:0},duration).easing(TWEEN.Easing.Quadratic.Out).onUpdate((function(value){_this2._animatedOffsets=newPos,value>=1&&(_this2._state={type:"WAITING"}),_this2._updatePosition()})).start();this._tween=tween,this._updatePosition()}},{key:"_stopDragging",value:function _stopDragging(state){var diffX=state.currentX-state.startX,diffY=state.currentY-state.startY,currentOffsets={x:this._offsets.x+diffX,y:this._offsets.y+diffY};return this._isOutOfBounds(currentOffsets)||null!=state.skipBoundsCheck&&state.skipBoundsCheck?(this._returnToZero(state,currentOffsets),!0):(this._offsets=currentOffsets,!1)}},{key:"_resetDrag",value:function _resetDrag(){this._state={type:"WAITING"},this._updatePosition()}},{key:"_changingDragWhileAnimating",value:function _changingDragWhileAnimating(position,pointerId){this._offsets=this._animatedOffsets,this._animatedOffsets={x:0,y:0},this._tween.stop(),this._state={currentX:position.x,currentY:position.y,startX:position.x,startY:position.y,pointerId:pointerId,type:"DRAGGING",skipBoundsCheck:!0},this._updatePosition()}},{key:"_enterWaitingForDistance",value:function _enterWaitingForDistance(position,pointerId){this._state={type:"WAIT_FOR_DISTANCE",pointerId:pointerId,startX:position.x,startY:position.y}}},{key:"_tryUpgradeWaitForDistance",value:function _tryUpgradeWaitForDistance(state,position,pointerId){state.pointerId===pointerId&&(Math.sqrt(Math.pow(position.x-state.startX,2)+Math.pow(position.y-state.startY,2))>=10&&(this._state={currentX:position.x,currentY:position.y,startX:position.x,startY:position.y,pointerId:pointerId,type:"DRAGGING"},this._updatePosition()))}},{key:"_updateDragging",value:function _updateDragging(state,position,pointerId){state.pointerId===pointerId&&(this._state=Object.assign({},state,{currentX:position.x,currentY:position.y}),this._updatePosition())}}],[{key:"forScreen",value:function forScreen(room,options){return new RoomCamera(room,(function(){return room.application.screen}),options)}}]),RoomCamera}(PIXI.Container);exports.RoomCamera=RoomCamera},1012:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_require__(33),__webpack_require__(3),__webpack_require__(31),__webpack_require__(5);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadRoomTexture=void 0;var PIXI=__importStar(__webpack_require__(59)),applyTextureProperties_1=__webpack_require__(535);function _loadRoomTexture(){return(_loadRoomTexture=_asyncToGenerator(regeneratorRuntime.mark((function _callee(url){var image,texture;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return(image=new Image).crossOrigin="anonymous",image.src=url,_context.next=5,new Promise((function(resolve){image.onload=function(){resolve()}}));case 5:return texture=PIXI.Texture.from(image),applyTextureProperties_1.applyTextureProperties(texture),_context.abrupt("return",texture);case 8:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}exports.loadRoomTexture=function loadRoomTexture(_x){return _loadRoomTexture.apply(this,arguments)}},1028:function(module,exports){},1030:function(module,exports){},1037:function(module,exports,__webpack_require__){"use strict";function transformFirst(transform,defaultValue){return function(arr){var value=arr[0];return""===value?defaultValue:transform(value)}}function booleanTransform(value){return"1"===value}function numberTransform(value){return Number(value)}function stringTransform(value){return value}__webpack_require__(3),__webpack_require__(57),__webpack_require__(27),__webpack_require__(15),__webpack_require__(19),Object.defineProperty(exports,"__esModule",{value:!0}),exports.furnitureDataTransformers=exports.formatFurnitureData=exports.transformFirst=void 0,exports.transformFirst=transformFirst,exports.formatFurnitureData=function formatFurnitureData(data){var keys=Object.keys(data),obj={};return keys.forEach((function(key){var castedKey=key,transformer=exports.furnitureDataTransformers[castedKey];if(null!=transformer){var value=data[key];obj[castedKey]=transformer(value)}})),obj},exports.furnitureDataTransformers={adurl:transformFirst(stringTransform,void 0),bc:transformFirst(booleanTransform,!1),buyout:transformFirst(booleanTransform,!1),canlayon:transformFirst(booleanTransform,!1),cansiton:transformFirst(booleanTransform,!1),canstandon:transformFirst(booleanTransform,!1),defaultdir:transformFirst(numberTransform,0),description:transformFirst(stringTransform,void 0),environment:transformFirst(stringTransform,void 0),excludeddynamic:transformFirst(booleanTransform,!1),furniline:transformFirst(stringTransform,void 0),name:transformFirst(stringTransform,void 0),offerid:transformFirst(numberTransform,void 0),rare:transformFirst(booleanTransform,!1),rentbuyout:transformFirst(booleanTransform,!1),rentofferid:transformFirst(numberTransform,void 0),revision:transformFirst(numberTransform,void 0),specialtype:transformFirst(numberTransform,void 0),xdim:transformFirst(numberTransform,void 0),ydim:transformFirst(numberTransform,void 0)}},1038:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Shroom=void 0;var AnimationTicker_1=__webpack_require__(549),AvatarLoader_1=__webpack_require__(550),FurnitureLoader_1=__webpack_require__(561),FurnitureData_1=__webpack_require__(536),Shroom=function(){function Shroom(dependencies){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Shroom),this.dependencies=dependencies}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Shroom,null,[{key:"create",value:function create(options){return this.createShared(options).for(options.application)}},{key:"createShared",value:function createShared(_ref){var resourcePath=_ref.resourcePath,configuration=_ref.configuration,animationTicker=_ref.animationTicker,avatarLoader=_ref.avatarLoader,furnitureData=_ref.furnitureData,furnitureLoader=_ref.furnitureLoader,_furnitureData=null!=furnitureData?furnitureData:FurnitureData_1.FurnitureData.create(resourcePath),_avatarLoader=null!=avatarLoader?avatarLoader:AvatarLoader_1.AvatarLoader.createForAssetBundle(resourcePath),_furnitureLoader=null!=furnitureLoader?furnitureLoader:FurnitureLoader_1.FurnitureLoader.createForJson(_furnitureData,resourcePath),_configuration=null!=configuration?configuration:{};return{for:function _for(application){return new Shroom({animationTicker:null!=animationTicker?animationTicker:AnimationTicker_1.AnimationTicker.create(application),avatarLoader:_avatarLoader,furnitureLoader:_furnitureLoader,configuration:_configuration,furnitureData:_furnitureData,application:application})}}}}]),Shroom}();exports.Shroom=Shroom},1040:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLookServer=void 0;var createLookServer_1=__webpack_require__(1041);Object.defineProperty(exports,"createLookServer",{enumerable:!0,get:function get(){return createLookServer_1.createLookServer}})},1041:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_require__(3),__webpack_require__(31),__webpack_require__(5),Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLookServer=void 0;var getAvatarDrawDefinition_1=__webpack_require__(1042),parseLookString_1=__webpack_require__(555);function _createLookServer(){return(_createLookServer=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dependencies){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",(function(_ref,effect){var look=_ref.look,actions=_ref.actions,direction=_ref.direction,headDirection=_ref.headDirection,item=_ref.item;return getAvatarDrawDefinition_1.getAvatarDrawDefinition({parsedLook:parseLookString_1.parseLookString(look),actions:actions,direction:direction,headDirection:headDirection,frame:0,item:item,effect:effect},dependencies)}));case 1:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}exports.createLookServer=function createLookServer(_x){return _createLookServer.apply(this,arguments)}},1042:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAvatarDrawDefinition=exports.basePartSet=void 0;var AvatarAction_1=__webpack_require__(205),AvatarFigurePartType_1=__webpack_require__(242),AvatarDrawDefinition_1=__webpack_require__(1043);exports.basePartSet=new Set([AvatarFigurePartType_1.AvatarFigurePartType.LeftHand,AvatarFigurePartType_1.AvatarFigurePartType.RightHand,AvatarFigurePartType_1.AvatarFigurePartType.Body,AvatarFigurePartType_1.AvatarFigurePartType.Head]),exports.getAvatarDrawDefinition=function getAvatarDrawDefinition(_ref,deps){var parsedLook=_ref.parsedLook,initialActions=_ref.actions,direction=_ref.direction,headDirection=_ref.headDirection,itemId=_ref.item,effect=_ref.effect,actions=new Set(initialActions).add(AvatarAction_1.AvatarAction.Default);return new AvatarDrawDefinition_1.AvatarDrawDefinition({actions:actions,direction:direction,frame:0,look:parsedLook,item:itemId,headDirection:headDirection,effect:effect},deps)}},1043:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(138),__webpack_require__(139),__webpack_require__(49),__webpack_require__(20),__webpack_require__(167),__webpack_require__(13),__webpack_require__(55),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarDrawDefinition=void 0;var notNullOrUndefined_1=__webpack_require__(169),AvatarAction_1=__webpack_require__(205),getAvatarDirection_1=__webpack_require__(249),getDrawOrderForActions_1=__webpack_require__(1044),AvatarBodyPartList_1=__webpack_require__(1045),AvatarEffectPart_1=__webpack_require__(553),AvatarPartList_1=__webpack_require__(1049),BodyPartDrawOrder_1=__webpack_require__(1052),AvatarDrawDefinition=function(){function AvatarDrawDefinition(_options,_ref){var _a,_b,_this=this,figureData=_ref.figureData,actionsData=_ref.actionsData,geometry=_ref.geometry,partSetsData=_ref.partSetsData,animationData=_ref.animationData,offsetsData=_ref.offsetsData,figureMap=_ref.figureMap;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarDrawDefinition),this._options=_options,this._directionOffset=0,this._drawParts=void 0,this._direction=_options.direction,this._figureData=figureData,this._actionsData=actionsData,this._geometry=geometry,this._partSetsData=partSetsData,this._animationData=animationData,this._offsetsData=offsetsData,this._figureMap=figureMap;var effect=_options.effect,partList=this._getPartsForLook(_options.look),bodyParts=AvatarBodyPartList_1.AvatarBodyPartList.create(partList,null!=this._options.item,{actionsData:actionsData,geometry:geometry,partSetsData:partSetsData,offsetsData:offsetsData}),activeActions=this._getActiveActions();this._bodyParts=bodyParts,bodyParts.applyActions(activeActions),bodyParts.setBodyPartDirection(this._options.direction,this._options.headDirection);var effectParts=new Map;if(this._effectParts=[],null!=effect){bodyParts.applyEffectAdditions(effect),effect.getSprites().forEach((function(sprite){if("avatar"!==sprite.id){var effectPart=new AvatarEffectPart_1.AvatarEffectPart(sprite,_this._actionsData,_this._offsetsData,effect);effectParts.set(sprite.id,effectPart),_this._effectParts.push(effectPart)}else effectParts.set(sprite.id,_this)}));for(var _loop=function _loop(i){bodyParts.setEffectFrame(effect,i),effectParts.forEach((function(effectPart){return effectPart.setEffectFrame(effect,i)}))},i=0;i<effect.getFrameCount();i++)_loop(i);effectParts.forEach((function(effectPart){effectPart.setEffectFrameDefaultIfNotSet(),effectPart.setDirection(_options.direction)})),bodyParts.setAdditionsDirection(_options.direction)}var directionOffset=null!==(_b=null===(_a=null==effect?void 0:effect.getDirection())||void 0===_a?void 0:_a.offset)&&void 0!==_b?_b:0;null!=directionOffset&&(effectParts.forEach((function(part){part.setDirectionOffset(directionOffset)})),bodyParts.setDirectionOffset(directionOffset)),this._activeActions=activeActions,this._partList=partList}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarDrawDefinition,[{key:"setDirection",value:function setDirection(direction){this._direction=direction}},{key:"setDirectionOffset",value:function setDirectionOffset(offset){this._directionOffset=offset}},{key:"setEffectFrame",value:function setEffectFrame(effect,frame){var avatarFrameData=effect.getFrameEffectPart("avatar",frame);null!=avatarFrameData&&(this._bodyParts.setAvatarOffsets(avatarFrameData,frame),this._effectParts.forEach((function(effectPart){effectPart.setAvatarOffsets(avatarFrameData,frame)})))}},{key:"setEffectFrameDefaultIfNotSet",value:function setEffectFrameDefaultIfNotSet(){}},{key:"getDrawDefinition",value:function getDrawDefinition(){var _this2=this;if(null!=this._drawParts)return this._drawParts;var drawOrderId=getDrawOrderForActions_1.getDrawOrderForActions(this._activeActions,{hasItem:null!=this._options.item}),drawOrderDirection=getAvatarDirection_1.getAvatarDirection(this._direction+this._directionOffset),drawOrderBodyParts=BodyPartDrawOrder_1.BodyPartDrawOrder.getDrawOrder(drawOrderDirection,drawOrderId);if(null==drawOrderBodyParts)return[];var drawParts=drawOrderBodyParts.map((function(id){return _this2._bodyParts.getBodyPartById(id)})).filter(notNullOrUndefined_1.notNullOrUndefined).flatMap((function(bodyPart){return bodyPart.getSortedParts("vertical")})).map((function(part){return part.getDrawDefinition()})).filter(notNullOrUndefined_1.notNullOrUndefined),effectDrawParts=this._effectParts.map((function(part){return part.getDrawDefinition()})).filter(notNullOrUndefined_1.notNullOrUndefined),sortedDrawParts=[].concat(_toConsumableArray(drawParts),_toConsumableArray(effectDrawParts)).sort((function(a,b){return a.z-b.z}));return this._drawParts=sortedDrawParts,sortedDrawParts}},{key:"_getPartsForLook",value:function _getPartsForLook(look){return new AvatarPartList_1.AvatarPartList(look,this._options.item,{figureData:this._figureData,animationData:this._animationData,figureMap:this._figureMap,offsetsData:this._offsetsData,partSetsData:this._partSetsData})}},{key:"_getActiveActions",value:function _getActiveActions(){var actions=new Set(this._options.actions).add(AvatarAction_1.AvatarAction.Default);return this._actionsData.getActions().filter((function(info){return actions.has(info.id)})).sort((function(a,b){return a.precedence<b.precedence?1:a.precedence>b.precedence?-1:0}))}}]),AvatarDrawDefinition}();exports.AvatarDrawDefinition=AvatarDrawDefinition},1044:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDrawOrderForActions=void 0,exports.getDrawOrderForActions=function getDrawOrderForActions(activeActions,options){var activePartSets=new Set;return activeActions.forEach((function(info){null!=info.activepartset&&activePartSets.add(info.activepartset)})),options.hasItem&&activePartSets.add("itemRight"),activePartSets.has("handLeft")?"lh-up":activePartSets.has("handRightAndHead")||activePartSets.has("handRight")?"rh-up":"std"}},1045:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(13),__webpack_require__(167),__webpack_require__(20),__webpack_require__(49),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarBodyPartList=void 0;var associateBy_1=__webpack_require__(1046),notNullOrUndefined_1=__webpack_require__(169),AvatarAdditionPart_1=__webpack_require__(1047),AvatarBodyPart_1=__webpack_require__(1048),AvatarBodyPartList=function(){function AvatarBodyPartList(_bodyParts,_ref){var actionsData=_ref.actionsData,offsetsData=_ref.offsetsData,partSetsData=_ref.partSetsData;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarBodyPartList),this._bodyParts=_bodyParts,this._bodyPartsById=new Map,this._additions=new Map,this._additionsArr=[],this._bodyPartsById=associateBy_1.associateBy(this._bodyParts,(function(bodyPart){return bodyPart.id})),this._actionsData=actionsData,this._offsetsData=offsetsData,this._partSetsData=partSetsData}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarBodyPartList,[{key:"applyActions",value:function applyActions(actions){var _this=this;actions.forEach((function(action){_this._bodyParts.forEach((function(bodyPart){bodyPart.setActiveAction(action)}))}))}},{key:"applyEffectAdditions",value:function applyEffectAdditions(effect){var _this2=this;effect.getAddtions().forEach((function(sprite){var _a,bodyPart=null!=sprite.align?_this2._getBodyPartById(sprite.align):void 0;if(null!=bodyPart){var current=null!==(_a=_this2._additions.get(bodyPart))&&void 0!==_a?_a:[],additionPart=new AvatarAdditionPart_1.AvatarAdditionPart(sprite,_this2._actionsData,_this2._offsetsData,_this2._partSetsData);_this2._additions.set(bodyPart,[].concat(_toConsumableArray(current),[additionPart])),_this2._additionsArr.push(additionPart),bodyPart.addAddition(additionPart)}}))}},{key:"setEffectFrame",value:function setEffectFrame(effect,frame){this._bodyParts.forEach((function(bodyPart){bodyPart.setEffectFrame(effect,frame),bodyPart.setFrameRepeat(2)})),this._additionsArr.forEach((function(addition){addition.setEffectFrame(effect,frame)}))}},{key:"setAvatarOffsets",value:function setAvatarOffsets(avatarFrameData,frame){this._bodyParts.forEach((function(bodyPart){return bodyPart.setAvatarOffsets(avatarFrameData,frame)}))}},{key:"setAdditionsDirection",value:function setAdditionsDirection(direction){this._additionsArr.forEach((function(addition){return addition.setDirection(direction)}))}},{key:"setDirectionOffset",value:function setDirectionOffset(offset){this._additionsArr.forEach((function(addition){return addition.setDirectionOffset(offset)})),this._bodyParts.forEach((function(bodyPart){return bodyPart.setDirectionOffset(offset)}))}},{key:"setBodyPartDirection",value:function setBodyPartDirection(direction,headDirection){this._bodyParts.forEach((function(bodyPart){"head"===bodyPart.id?bodyPart.setDirection(null!=headDirection?headDirection:direction):bodyPart.setDirection(direction)}))}},{key:"getBodyPartById",value:function getBodyPartById(id){return this._getBodyPartById(id)}},{key:"_getBodyPartById",value:function _getBodyPartById(id){return this._bodyPartsById.get(id)}}],[{key:"create",value:function create(partList,hasItem,_ref2){var geometry=_ref2.geometry,partSetsData=_ref2.partSetsData,actionsData=_ref2.actionsData,offsetsData=_ref2.offsetsData,bodyPartIds=_toConsumableArray(geometry.getBodyParts("full"));return hasItem&&bodyPartIds.push("rightitem"),new AvatarBodyPartList(bodyPartIds.map((function(id){return geometry.getBodyPart("vertical",id)})).filter(notNullOrUndefined_1.notNullOrUndefined).map((function(bodyPart){return new AvatarBodyPart_1.AvatarBodyPart(bodyPart,partList.getPartsForBodyBart(bodyPart),partSetsData,actionsData,geometry)})).sort((function(a,b){return a.z-b.z})),{actionsData:actionsData,offsetsData:offsetsData,partSetsData:partSetsData})}}]),AvatarBodyPartList}();exports.AvatarBodyPartList=AvatarBodyPartList},1046:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),Object.defineProperty(exports,"__esModule",{value:!0}),exports.associateBy=void 0,exports.associateBy=function associateBy(arr,getKey){var map=new Map;return arr.forEach((function(value){var key=getKey(value);map.set(key,value)})),map}},1047:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(138),__webpack_require__(139),__webpack_require__(13),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarAdditionPart=void 0;var getAssetFromPartMeta_1=__webpack_require__(357),getAvatarDirection_1=__webpack_require__(249),getEffectSprite_1=__webpack_require__(551),AvatarAdditionPart=function(){function AvatarAdditionPart(_addition,_actionsData,_offsetsData,_partSetsData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarAdditionPart),this._addition=_addition,this._actionsData=_actionsData,this._offsetsData=_offsetsData,this._partSetsData=_partSetsData,this._directionOffset=0,this._customFrames=[],this._offsets=new Map}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarAdditionPart,[{key:"getDirection",value:function getDirection(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(null!=this._direction)return getAvatarDirection_1.getAvatarDirection(this._direction+this._directionOffset+offset)}},{key:"getDrawDefinition",value:function getDrawDefinition(){var _this=this,assets=[];if(this._customFrames.forEach((function(customFrame,index){if(null==customFrame.action)throw new Error("Invalid action");var direction=_this.getDirection(customFrame.dd);if(null!=direction){var asset=_this._getAsset(direction,customFrame.frame,index,customFrame);null!=asset&&assets.push(asset)}})),0!==assets.length)return{kind:"EFFECT_DRAW_PART",addition:!1,assets:assets.flatMap((function(asset){return[asset,asset]})),z:0}}},{key:"setEffectFrame",value:function setEffectFrame(effect,frame){var bodyPart=null!=this._addition.base?effect.getFrameBodyPartByBase(this._addition.base,frame):void 0,fx=effect.getFrameEffectPart(this._addition.id,frame);null!=bodyPart?this._handleBodyPart(effect,frame,bodyPart):null!=fx&&this._handleFxPart(effect,frame,fx)}},{key:"setDirection",value:function setDirection(direction){this._direction=direction}},{key:"setDirectionOffset",value:function setDirectionOffset(offset){this._directionOffset=offset}},{key:"setAvatarOffsets",value:function setAvatarOffsets(avatarFrame,frame){this._offsets.set(frame,avatarFrame)}},{key:"_getAsset",value:function _getAsset(direction,frame,frameIndex,customFrame){var _a,_b,_c,_d,_e,partType=this._addition.id,base=(this._partSetsData.getPartInfo(partType),null!==(_a=customFrame.base)&&void 0!==_a?_a:this._addition.base),member=null!=base?"".concat(customFrame.action.assetpartdefinition,"_").concat(this._addition.id,"_").concat(base):"".concat(customFrame.action.assetpartdefinition,"_").concat(this._addition.id,"_1");if(null!=member){var _getEffectSprite_1$ge=getEffectSprite_1.getEffectSprite(member,direction,frame,this._offsetsData,!0,"fx"===this._mode),id=_getEffectSprite_1$ge.id,offsets=_getEffectSprite_1$ge.offsets,flip=_getEffectSprite_1$ge.flip;if(null==offsets)return;var avatarOffsets=this._offsets.get(frameIndex),_getAssetFromPartMeta=getAssetFromPartMeta_1.applyOffsets({offsets:{offsetX:offsets.offsetX,offsetY:offsets.offsetY},customOffsets:{offsetX:(null!==(_b=customFrame.dx)&&void 0!==_b?_b:0)+(null!==(_c=null==avatarOffsets?void 0:avatarOffsets.dx)&&void 0!==_c?_c:0),offsetY:(null!==(_d=customFrame.dy)&&void 0!==_d?_d:0)+(null!==(_e=null==avatarOffsets?void 0:avatarOffsets.dy)&&void 0!==_e?_e:0)},lay:!1,flipped:flip});return{fileId:id,library:"",mirror:flip,x:_getAssetFromPartMeta.x,y:_getAssetFromPartMeta.y}}}},{key:"_setMode",value:function _setMode(mode){if(null!=this._mode&&this._mode!==mode)throw new Error("Can't change mode once it is set.");this._mode=mode}},{key:"_handleBodyPart",value:function _handleBodyPart(effect,frame,bodyPart){var _a;this._setMode("bodypart");var action=this._actionsData.getAction(bodyPart.action);if(null==action)throw new Error("Invalid action "+bodyPart.action);this._customFrames.push({action:action,frame:null!==(_a=bodyPart.frame)&&void 0!==_a?_a:0,dd:bodyPart.dd,dx:bodyPart.dx,dy:bodyPart.dy})}},{key:"_handleFxPart",value:function _handleFxPart(effect,frame,fx){var _a;this._setMode("fx");var action=this._actionsData.getAction(fx.action);if(null==action)throw new Error("Invalid action "+fx.action);this._customFrames.push({action:action,frame:null!==(_a=fx.frame)&&void 0!==_a?_a:0,dd:fx.dd,dx:fx.dx,dy:fx.dy})}}]),AvatarAdditionPart}();exports.AvatarAdditionPart=AvatarAdditionPart},1048:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(20),__webpack_require__(167),__webpack_require__(49),__webpack_require__(13),__webpack_require__(15),__webpack_require__(19),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(5),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarBodyPart=void 0;var notNullOrUndefined_1=__webpack_require__(169),AvatarBodyPart=function(){function AvatarBodyPart(_bodyPart,_parts,_partSets,_actions,_geometry){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarBodyPart),this._bodyPart=_bodyPart,this._parts=_parts,this._partSets=_partSets,this._actions=_actions,this._geometry=_geometry,this._additions=[]}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarBodyPart,[{key:"z",get:function get(){return this._bodyPart.z}},{key:"id",get:function get(){return this._bodyPart.id}},{key:"parts",get:function get(){return this._parts}},{key:"addAddition",value:function addAddition(addition){this._additions.push(addition)}},{key:"getSortedParts",value:function getSortedParts(geometry){var _this=this,baseParts=this._parts.map((function(part){var item=_this._geometry.getBodyPartItem(geometry,_this._bodyPart.id,part.type);if(null!=item)return{part:part,item:item}})).filter(notNullOrUndefined_1.notNullOrUndefined).sort((function(a,b){return a.item.radius-b.item.radius})).map((function(bodyPartItem){return bodyPartItem.part}));return[].concat(_toConsumableArray(baseParts),_toConsumableArray(this._additions))}},{key:"setActiveAction",value:function setActiveAction(action){if(null!=action.activepartset){var activePart=this._partSets.getActivePartSet(action.activepartset);this._parts.forEach((function(part){activePart.has(part.type)&&part.setActiveAction(action)}))}}},{key:"setDirection",value:function setDirection(direction){this._parts.forEach((function(part){part.setDirection(direction)}))}},{key:"setDirectionOffset",value:function setDirectionOffset(offset){this._parts.forEach((function(part){part.setDirectionOffset(offset)}))}},{key:"setFrameRepeat",value:function setFrameRepeat(frameRepeat){this._parts.forEach((function(part){part.setFrameRepeat(frameRepeat)}))}},{key:"setEffectFrame",value:function setEffectFrame(effect,frame){var effectBodyPart=effect.getFrameBodyPart(this.id,frame);if(null!=effectBodyPart){var action=this._actions.getAction(effectBodyPart.action);this._parts.forEach((function(part){var _a;null!=action&&part.addCustomFrame({action:action,frame:null!==(_a=effectBodyPart.frame)&&void 0!==_a?_a:0,dd:effectBodyPart.dd,dx:effectBodyPart.dx,dy:effectBodyPart.dy})}))}}},{key:"setAvatarOffsets",value:function setAvatarOffsets(avatarFrame,frame){this._parts.forEach((function(part){part.setAvatarOffsets(avatarFrame,frame)})),this._additions.forEach((function(addition){addition.setAvatarOffsets(avatarFrame,frame)}))}}]),AvatarBodyPart}();exports.AvatarBodyPart=AvatarBodyPart},1049:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(26),__webpack_require__(15),__webpack_require__(19),__webpack_require__(71),__webpack_require__(35),__webpack_require__(49),__webpack_require__(138),__webpack_require__(139),__webpack_require__(167),__webpack_require__(13),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarPartList=exports.basePartSet=void 0;var AvatarFigurePartType_1=__webpack_require__(242),AvatarPart_1=__webpack_require__(1050);exports.basePartSet=new Set([AvatarFigurePartType_1.AvatarFigurePartType.LeftHand,AvatarFigurePartType_1.AvatarFigurePartType.RightHand,AvatarFigurePartType_1.AvatarFigurePartType.Body,AvatarFigurePartType_1.AvatarFigurePartType.Head]);var AvatarPartList=function(){function AvatarPartList(look,itemId,_deps){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarPartList),this._deps=_deps,this._parts=[],this._hiddenLayers=new Set,this._partsByType=new Map;var figureData=_deps.figureData;look.forEach((function(_ref,setType){var setId=_ref.setId,colorId=_ref.colorId,parts=figureData.getParts(setType,setId.toString()),colorValue=figureData.getColor(setType,colorId.toString());figureData.getHiddenLayers(setType,setId.toString()).forEach((function(layer){return _this._hiddenLayers.add(layer)})),null!=parts&&parts.length>0&&parts.forEach((function(part){var avatarPart=new AvatarPart_1.AvatarPart(part,colorValue,_deps);_this._registerPart(avatarPart)}))})),null!=itemId&&this._addItem(itemId),exports.basePartSet.forEach((function(partType){var partsForType=_this._partsByType.get(partType);null!=partsForType&&0!==partsForType.length||_this._registerPart(new AvatarPart_1.AvatarPart({id:"1",type:partType,colorable:!1,index:0},void 0,_deps))}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarPartList,[{key:"getPartsForBodyBart",value:function getPartsForBodyBart(bodyPart){var _this2=this;return bodyPart.items.flatMap((function(bodyPartItem){var _a;return null!==(_a=_this2._partsByType.get(bodyPartItem.id))&&void 0!==_a?_a:[]})).filter((function(part){return!_this2._hiddenLayers.has(part.type)}))}},{key:"getPartsForType",value:function getPartsForType(type){var parts=this._partsByType.get(type);return null==parts?[]:_toConsumableArray(parts).sort((function(a,b){return a.index-b.index}))}},{key:"parts",get:function get(){return this._parts}},{key:"_addItem",value:function _addItem(itemId){this._registerPart(new AvatarPart_1.AvatarPart({type:"ri",colorable:!1,id:itemId.toString(),index:0},void 0,this._deps))}},{key:"_registerPart",value:function _registerPart(avatarPart){var _a,type=avatarPart.type;this._parts.push(avatarPart);var current=null!==(_a=this._partsByType.get(type))&&void 0!==_a?_a:[];this._partsByType.set(type,[].concat(_toConsumableArray(current),[avatarPart]))}}]),AvatarPartList}();exports.AvatarPartList=AvatarPartList},1050:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(138),__webpack_require__(139),__webpack_require__(20),__webpack_require__(554),__webpack_require__(15),__webpack_require__(19),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarPart=void 0;var getAvatarDirection_1=__webpack_require__(249),getAssetForFrame_1=__webpack_require__(1051),AvatarPart=function(){function AvatarPart(_figureDataPart,_color,_ref){var animationData=_ref.animationData,figureData=_ref.figureData,figureMap=_ref.figureMap,offsetsData=_ref.offsetsData,partSetsData=_ref.partSetsData;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarPart),this._figureDataPart=_figureDataPart,this._color=_color,this._directionOffset=0,this._assets=[],this._customFrames=[],this._frameRepeat=1,this._offsets=new Map,this._animationData=animationData,this._figureData=figureData,this._figureMap=figureMap,this._offsetsData=offsetsData,this._partSetsData=partSetsData}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarPart,[{key:"type",get:function get(){return this._figureDataPart.type}},{key:"index",get:function get(){return this._figureDataPart.index}},{key:"setFrameRepeat",value:function setFrameRepeat(value){this._frameRepeat=value}},{key:"setActiveAction",value:function setActiveAction(action){this._action=action}},{key:"setDirection",value:function setDirection(direction){this._direction=getAvatarDirection_1.getAvatarDirection(direction)}},{key:"addCustomFrame",value:function addCustomFrame(customFrame){this._customFrames.push(customFrame)}},{key:"setDirectionOffset",value:function setDirectionOffset(offset){this._directionOffset=offset}},{key:"setAvatarOffsets",value:function setAvatarOffsets(avatarFrame,frame){this._offsets.set(frame,avatarFrame)}},{key:"getDirection",value:function getDirection(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(null!=this._direction)return getAvatarDirection_1.getAvatarDirection(this._direction+this._directionOffset+offset)}},{key:"getDrawDefinition",value:function getDrawDefinition(){var _this=this;if(this._update(),0!==this._assets.length)return{assets:this._assets.flatMap((function(asset){return new Array(_this._frameRepeat).fill(0).map((function(){return asset}))})),color:this._figureDataPart.colorable?"#".concat(this._color):void 0,index:this._figureDataPart.index,kind:"AVATAR_DRAW_PART",mode:"ey"!==this._figureDataPart.type&&this._figureDataPart.colorable?"colored":"just-image",type:this._figureDataPart.type,z:0}}},{key:"_getOffsetForFrame",value:function _getOffsetForFrame(frame){var _a,_b,data=this._offsets.get(frame);return null==data?{x:0,y:0}:{x:null!==(_a=data.dx)&&void 0!==_a?_a:0,y:null!==(_b=data.dy)&&void 0!==_b?_b:0}}},{key:"_update",value:function _update(){var _this2=this,partInfo=this._partSetsData.getPartInfo(this.type);if(this._assets=[],this._customFrames.length>0)this._customFrames.forEach((function(customFrame,i){var _a,_b,action=customFrame.action,direction=_this2.getDirection(customFrame.dd);if(null==direction)throw new Error("Invalid direction");var frame=_this2._animationData.getAnimationFrame(action.id,_this2.type,customFrame.frame),offset=_this2._getOffsetForFrame(i),asset=getAssetForFrame_1.getAssetForFrame({animationFrame:frame,actionData:action,direction:direction,offsetsData:_this2._offsetsData,partId:_this2._figureDataPart.id,partType:_this2._figureDataPart.type,partTypeFlipped:null==partInfo?void 0:partInfo.flippedSetType,offsetX:(null!==(_a=customFrame.dx)&&void 0!==_a?_a:0)+offset.x,offsetY:(null!==(_b=customFrame.dy)&&void 0!==_b?_b:0)+offset.y});null!=asset&&_this2._assets.push(asset)}));else{var action=this._action,direction=this.getDirection();if(null!=action&&null!=direction){var framesIndexed=this._animationData.getAnimationFrames(action.id,this.type).flatMap((function(frame){return new Array(frame.repeats).fill(frame)}));if(0===framesIndexed.length&&(framesIndexed=[void 0]),this._offsets.size>0)this._offsets.forEach((function(offset){var _a,animationFrame=_this2._animationData.getAnimationFrame(action.id,_this2.type,null!==(_a=offset.frame)&&void 0!==_a?_a:0),asset=getAssetForFrame_1.getAssetForFrame({animationFrame:animationFrame,actionData:action,direction:direction,offsetsData:_this2._offsetsData,partId:_this2._figureDataPart.id,partType:_this2._figureDataPart.type,partTypeFlipped:null==partInfo?void 0:partInfo.flippedSetType,offsetX:offset.dx,offsetY:offset.dy});null!=asset&&_this2._assets.push(asset)}));else for(var i=0;i<framesIndexed.length;i++){var frame=framesIndexed[i],asset=getAssetForFrame_1.getAssetForFrame({animationFrame:frame,actionData:action,direction:direction,offsetsData:this._offsetsData,partId:this._figureDataPart.id,partType:this._figureDataPart.type,partTypeFlipped:null==partInfo?void 0:partInfo.flippedSetType});null!=asset&&this._assets.push(asset)}}}}}]),AvatarPart}();exports.AvatarPart=AvatarPart},1051:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(13),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAssetForFrame=void 0;var getFlippedMetaData_1=__webpack_require__(552),getAssetFromPartMeta_1=__webpack_require__(357);function generateAssetName(assetPartDef,partType,partId,direction,frame){return"h_".concat(assetPartDef,"_").concat(partType,"_").concat(partId,"_").concat(direction,"_").concat(frame)}exports.getAssetForFrame=function getAssetForFrame(_ref){var animationFrame=_ref.animationFrame,actionData=_ref.actionData,partTypeFlipped=_ref.partTypeFlipped,direction=_ref.direction,partType=_ref.partType,partId=_ref.partId,offsetsData=_ref.offsetsData,_ref$offsetX=_ref.offsetX,offsetX=void 0===_ref$offsetX?0:_ref$offsetX,_ref$offsetY=_ref.offsetY,offsetY=void 0===_ref$offsetY?0:_ref$offsetY,avatarFlipped=getFlippedMetaData_1.DIRECTION_IS_FLIPPED[direction],assetPartDefinition=actionData.assetpartdefinition,frameNumber=0;null!=animationFrame&&(frameNumber=animationFrame.number,animationFrame.assetpartdefinition&&""!==animationFrame.assetpartdefinition&&(assetPartDefinition=animationFrame.assetpartdefinition));var flippedMeta=getFlippedMetaData_1.getFlippedMetaData({assetPartDefinition:assetPartDefinition,flippedPartType:partTypeFlipped,direction:direction,partType:partType}),assetId=generateAssetName(assetPartDefinition,flippedMeta.partType,partId,flippedMeta.direction,frameNumber),offset=offsetsData.getOffsets(assetId);if(null==offset&&(assetId=generateAssetName("std",flippedMeta.partType,partId,flippedMeta.direction,0),offset=offsetsData.getOffsets(assetId)),null!=offset){var flipH=flippedMeta.flip;avatarFlipped&&(flipH=!flipH);var asset=getAssetFromPartMeta_1.getAssetFromPartMeta(assetPartDefinition,{flipped:flipH,swapped:!1,asset:assetId},offsetsData,{offsetX:offsetX,offsetY:offsetY});if(null!=asset)return asset}}},1052:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(11),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BodyPartDrawOrder=void 0;var BodyPartDrawOrder=function(){function BodyPartDrawOrder(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BodyPartDrawOrder)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BodyPartDrawOrder,null,[{key:"getDrawOrder",value:function getDrawOrder(direction,drawOrderType){switch(drawOrderType){case"std":return drawOrdersDefault[direction];case"rh-up":return drawOrdersRightHandActive[direction];case"lh-up":return drawOrdersLeftHandActive[direction]}throw new Error("Invalid draw order type ".concat(drawOrderType))}}]),BodyPartDrawOrder}();exports.BodyPartDrawOrder=BodyPartDrawOrder;var drawOrdersDefault={0:["behind","bottom","leftitem","leftarm","torso","rightitem","rightarm","head","top"],1:["behind","bottom","leftitem","leftarm","torso","rightitem","rightarm","head","top"],2:["behind","bottom","leftitem","leftarm","torso","rightitem","rightarm","head","top"],3:["behind","bottom","torso","leftitem","leftarm","rightitem","rightarm","head","top"],4:["behind","bottom","rightarm","rightitem","torso","leftitem","leftarm","head","top"],5:["behind","bottom","rightarm","rightitem","torso","leftitem","leftarm","head","top"],6:["bottom","rightarm","rightitem","torso","leftitem","leftarm","head","behind","top"],7:["bottom","rightarm","rightitem","leftitem","leftarm","torso","head","behind","top"]},drawOrdersRightHandActive=Object.assign({},drawOrdersDefault,{2:["behind","bottom","leftitem","leftarm","torso","head","rightitem","rightarm","top"],3:["behind","bottom","leftitem","leftarm","torso","head","rightitem","rightarm","top"],4:["behind","bottom","rightarm","torso","leftitem","leftarm","head","rightitem","top"]}),drawOrdersLeftHandActive=Object.assign({},drawOrdersDefault,{5:["behind","bottom","rightarm","rightitem","torso","head","leftitem","leftarm","top"],6:["behind","bottom","rightarm","rightitem","torso","head","leftitem","leftarm","top"]})},1054:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(13),__webpack_require__(57),__webpack_require__(31),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarAnimationData=void 0;var animation_xml_1=__webpack_require__(1055),AvatarAnimationData=function(){function AvatarAnimationData(xml){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarAnimationData),this._animationFrames=new Map,this._animationFramesCount=new Map,(new DOMParser).parseFromString(xml,"text/xml").querySelectorAll("action").forEach((function(action){var actionId=action.getAttribute("id");if(null!=actionId){action.querySelectorAll("part").forEach((function(part){var setType=part.getAttribute("set-type");if(null!=setType){var frames=[];part.querySelectorAll("frame").forEach((function(frame){var animationFrame=_this._getAnimationFrameFromElement(frame);frames.push(animationFrame)})),_this._animationFrames.set("".concat(actionId,"_").concat(setType),frames)}}));var partFrameCount=action.querySelectorAll("part:first-child frame").length,offsetsFrameCount=action.querySelectorAll("offsets frame").length,frameCount=Math.max(partFrameCount,offsetsFrameCount);_this._animationFramesCount.set(actionId,frameCount),action.querySelectorAll("offsets frame").forEach((function(frame){null!=frame.getAttribute("id")&&frame.querySelectorAll("directions direction").forEach((function(direction){null!=direction.getAttribute("id")&&direction.querySelectorAll("bodypart").forEach((function(bodypart){bodypart.getAttribute("id")}))}))}))}}))}var _fromUrl;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarAnimationData,[{key:"getAnimationFrame",value:function getAnimationFrame(id,type,frame){var frames=this._animationFrames.get("".concat(id,"_").concat(type));if(null!=frames){var animationFrameElement=frames[frame];if(null!=animationFrameElement)return animationFrameElement}}},{key:"getAnimationFrames",value:function getAnimationFrames(id,type){var _a,key="".concat(id,"_").concat(type);return null!==(_a=this._animationFrames.get(key))&&void 0!==_a?_a:[]}},{key:"getAnimationFramesCount",value:function getAnimationFramesCount(id){var _a;return null!==(_a=this._animationFramesCount.get(id))&&void 0!==_a?_a:0}},{key:"getAnimationOffset",value:function getAnimationOffset(id,geometryId,frame,direction){}},{key:"_getAnimationOffsetFromElement",value:function _getAnimationOffsetFromElement(bodypart){if(null==bodypart)return{x:0,y:0};var dx=Number(bodypart.getAttribute("dx")),dy=Number(bodypart.getAttribute("dy"));return isNaN(dx)||isNaN(dy)?{x:0,y:0}:{x:dx,y:dy}}},{key:"_getAnimationFrameFromElement",value:function _getAnimationFrameFromElement(element){var number=Number(element.getAttribute("number"));if(isNaN(number))throw new Error("number was NaN");var repeatsString=element.getAttribute("repeats"),repeats=2;null!=repeatsString&&(repeats=Number(repeatsString));var assetpartdefinition=element.getAttribute("assetpartdefinition");if(null==assetpartdefinition)throw new Error("assetpartdefinition was null");return{number:number,assetpartdefinition:assetpartdefinition,repeats:repeats}}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new AvatarAnimationData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})},{key:"default",value:function _default(){return new AvatarAnimationData(atob(animation_xml_1.animationXml))}}]),AvatarAnimationData}();exports.AvatarAnimationData=AvatarAnimationData},1055:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.animationXml=void 0,exports.animationXml="PGFuaW1hdGlvblNldD4KCiAgICA8YWN0aW9uIGlkPSJNb3ZlIj4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJiZCI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMiIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImJkcyI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMiIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9InNzIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIyIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICA8L3BhcnQ+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0ibGciPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgIDwvcGFydD4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJzaCI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMiIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImxoIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIyIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICA8L3BhcnQ+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0ibGhzIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIyIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICA8L3BhcnQ+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0ibHMiPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgIDwvcGFydD4KCgkJIDxwYXJ0IHNldC10eXBlPSJsYyI+CgkJCSA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KCQkJIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgoJCQkgPGZyYW1lIG51bWJlcj0iMiIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CgkJCSA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KCQkgPC9wYXJ0PgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9InJoIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIyIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICA8L3BhcnQ+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0icmhzIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIyIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICA8L3BhcnQ+CgkJCgkJPHBhcnQgc2V0LXR5cGU9InJzIj4KCQkJPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CgkJCTxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgoJCQk8ZnJhbWUgbnVtYmVyPSIyIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KCQkJPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CgkJPC9wYXJ0PgoKCQk8cGFydCBzZXQtdHlwZT0icmMiPgoJCQk8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KCQkJPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CgkJCTxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgoJCQk8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KCQk8L3BhcnQ+CgogICAgICAgIDxwYXJ0IHNldC10eXBlPSJjaCI+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3bGsiLz4KICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMiIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIi8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249IndsayIvPgogICAgICAgIDwvcGFydD4KCiAgICA8L2FjdGlvbj4KCiAgICA8YWN0aW9uIGlkPSJXYXZlIj4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJsaCI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3YXYiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249IndhdiIvPgogICAgICAgICA8L3BhcnQ+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0ibGhzIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndhdiIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2F2Ii8+CiAgICAgICAgIDwvcGFydD4KCiAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImxzIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndhdiIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2F2Ii8+CiAgICAgICAgIDwvcGFydD4KCgkJPHBhcnQgc2V0LXR5cGU9ImxjIj4KCQkJIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndhdiIvPgoJCQkgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2F2Ii8+CgkJIDwvcGFydD4KCiAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImNoIj4KICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2F2Ii8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249IndhdiIvPgogICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIyIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3YXYiLz4KICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2F2Ii8+CiAgICAgICAgPC9wYXJ0PgoKICAgIDwvYWN0aW9uPgoKICAgIDxhY3Rpb24gaWQ9IlRhbGsiPgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImhkIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InNwayIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3BrIi8+CiAgICAgICAgIDwvcGFydD4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJmYyI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzcGsiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InNwayIvPgogICAgICAgICA8L3BhcnQ+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0iZmEiPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3BrIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzcGsiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgIDwvYWN0aW9uPgoKCiAgICA8YWN0aW9uIGlkPSJTd2ltIj4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJiZHMiPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dtIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd20iLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249InN3bSIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dtIi8+CiAgICAgICAgIDwvcGFydD4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJzcyI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd20iLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3bSIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMiIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dtIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd20iLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImxocyI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd20iLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3bSIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMiIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dtIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd20iLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9InJocyI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd20iLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3bSIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMiIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dtIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd20iLz4KICAgICAgICAgPC9wYXJ0PgoKICAgIDwvYWN0aW9uPgoKCiAgICA8YWN0aW9uIGlkPSJGbG9hdCI+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0iYmRzIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249InN3cyIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dzIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIyIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3cyIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dzIi8+CiAgICAgICAgIDwvcGFydD4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJzcyI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImxocyI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InN3cyIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dzIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249InN3cyIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dzIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249InN3cyIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dzIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9InJocyI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InN3cyIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dzIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249InN3cyIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dzIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIzIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249InN3cyIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dzIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgIDwvYWN0aW9uPgoKICAgIDxhY3Rpb24gaWQ9IlNpZ24iPgogICAgICAgIDxwYXJ0IHNldC10eXBlPSJsaCI+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InNpZyIvPgogICAgICAgIDwvcGFydD4KICAgICAgICA8cGFydCBzZXQtdHlwZT0ibGkiPgogICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzaWciLz4KICAgICAgICA8L3BhcnQ+CiAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImxzIj4KICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2F2Ii8+CiAgICAgICAgPC9wYXJ0PgogICAgICAgIDxwYXJ0IHNldC10eXBlPSJsYyI+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndhdiIvPgogICAgICAgIDwvcGFydD4KICAgIDwvYWN0aW9uPgoKICAgIDxhY3Rpb24gaWQ9IlJlc3BlY3QiPgogICAgICAgIDxwYXJ0IHNldC10eXBlPSJsaCI+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InJlc3BlY3QiIHJlcGVhdHM9IjE1Ii8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InJlc3BlY3QiIHJlcGVhdHM9IjE1Ii8+CiAgICAgICAgPC9wYXJ0PgogICAgICAgIDxwYXJ0IHNldC10eXBlPSJscyI+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IndhdiIgcmVwZWF0cz0iMTUiLz4KICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2F2IiByZXBlYXRzPSIxNSIvPgogICAgICAgIDwvcGFydD4KICAgICAgICA8cGFydCBzZXQtdHlwZT0ibGMiPgogICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJ3YXYiIHJlcGVhdHM9IjE1Ii8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249IndhdiIgcmVwZWF0cz0iMTUiLz4KICAgICAgICA8L3BhcnQ+CiAgICA8L2FjdGlvbj4KCgk8YWN0aW9uIGlkPSJCbG93Ij4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJyaCI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJibHciIHJlcGVhdHM9IjEwIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJibHciIHJlcGVhdHM9IjEwIi8+CiAgICAgICAgIDwvcGFydD4KCiAgICAgICAgPHBhcnQgc2V0LXR5cGU9InJzIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249ImRyayIvPgogICAgICAgIDwvcGFydD4KCgkJPHBhcnQgc2V0LXR5cGU9InJjIj4KCQkJIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249ImRyayIvPgoJCTwvcGFydD4KCgkJPHBhcnQgc2V0LXR5cGU9InJpIj4KCQkJIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IiIvPgoJCTwvcGFydD4KCgkJPHBhcnQgc2V0LXR5cGU9ImV5Ij4KCQkJPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3RkIiByZXBlYXRzPSIxMCIvPgoJCQk8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJleWIiIHJlcGVhdHM9IjEwIi8+CgkJPC9wYXJ0PgoKCQk8cGFydCBzZXQtdHlwZT0iZmMiPgoJCQk8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzdGQiIHJlcGVhdHM9IjEwIi8+CgkJCTxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249ImJsdyIgcmVwZWF0cz0iMTAiLz4KCQk8L3BhcnQ+CiAgICA8L2FjdGlvbj4KCiAgICA8YWN0aW9uIGlkPSJMYXVnaCI+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0icmgiPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0iYmx3Ii8+CiAgICAgICAgIDwvcGFydD4KCiAgICAgICAgPHBhcnQgc2V0LXR5cGU9InJzIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249ImRyayIvPgogICAgICAgIDwvcGFydD4KCiAgICAgICAgPHBhcnQgc2V0LXR5cGU9InJjIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249ImRyayIvPgogICAgICAgIDwvcGFydD4KCiAgICAgICAgPHBhcnQgc2V0LXR5cGU9InJpIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249IiIvPgogICAgICAgIDwvcGFydD4KCiAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImV5Ij4KICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3RkIiByZXBlYXRzPSIyIi8+CiAgICAgICAgPC9wYXJ0PgoKICAgICAgICA8cGFydCBzZXQtdHlwZT0iZmMiPgogICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzbWwiLz4KICAgICAgICA8L3BhcnQ+CgogICAgICAgIDxvZmZzZXRzPgogICAgICAgICAgICA8ZnJhbWUgaWQ9IjAiPgogICAgICAgICAgICAgICAgPGRpcmVjdGlvbnM+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMCI+PGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMCIgZHk9IjEiLz48L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSIxIj48Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMSIvPjwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjIiPjxib2R5cGFydCBpZD0iaGVhZCIgZHg9IjAiIGR5PSIxIi8+PC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMyI+PGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMCIgZHk9IjEiLz48L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI0Ij48Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMSIvPjwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjUiPjxib2R5cGFydCBpZD0iaGVhZCIgZHg9IjAiIGR5PSIxIi8+PC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNiI+PGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMCIgZHk9IjEiLz48L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI3Ij48Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMSIvPjwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgPC9kaXJlY3Rpb25zPgogICAgICAgICAgICA8L2ZyYW1lPgoKICAgICAgICAgICAgPGZyYW1lIGlkPSIxIj4KICAgICAgICAgICAgICAgIDxkaXJlY3Rpb25zPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjAiPjxib2R5cGFydCBpZD0iaGVhZCIgZHg9IjAiIGR5PSIwIi8+PC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMSI+PGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMCIgZHk9IjAiLz48L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSIyIj48Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMCIvPjwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjMiPjxib2R5cGFydCBpZD0iaGVhZCIgZHg9IjAiIGR5PSIwIi8+PC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNCI+PGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMCIgZHk9IjAiLz48L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI1Ij48Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMCIvPjwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjYiPjxib2R5cGFydCBpZD0iaGVhZCIgZHg9IjAiIGR5PSIwIi8+PC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNyI+PGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMCIgZHk9IjAiLz48L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9ucz4KICAgICAgICAgICAgPC9mcmFtZT4KCiAgICAgICAgPC9vZmZzZXRzPgogICAgPC9hY3Rpb24+CgkKCQogICAgPGFjdGlvbiBpZD0iU25vd1dhclJ1biI+CgogICAgICAgICA8cGFydCBzZXQtdHlwZT0iY2giPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMyIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dydW4iLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249InN3cnVuIi8+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3J1biIvPgogICAgICAgICAgICAgPGZyYW1lIG51bWJlcj0iMCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3dydW4iLz4KICAgICAgICAgPC9wYXJ0PgoKICAgIDwvYWN0aW9uPgoKICAgIDxhY3Rpb24gaWQ9IlNub3dXYXJEaWVGcm9udCI+CgogICAgICAgIDxwYXJ0IHNldC10eXBlPSJjaCI+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InN3ZGllIi8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InN3ZGllIi8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3ZGllIi8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3ZGllIiByZXBlYXRzPSIxMDAiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICA8b2Zmc2V0cz4KICAgICAgICAgICAgPGZyYW1lIGlkPSIwIj4KICAgICAgICAgICAgICAgIDxkaXJlY3Rpb25zPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjAiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIxMCIgZHk9IjQiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSIyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMTAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI2Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwIiBkeT0iNCIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgPC9kaXJlY3Rpb25zPgogICAgICAgICAgICA8L2ZyYW1lPgogICAgICAgICAgICA8ZnJhbWUgaWQ9IjEiPgogICAgICAgICAgICAgICAgPGRpcmVjdGlvbnM+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9IjEwIiBkeT0iNCIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjIiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIxMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwIiBkeT0iNSIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjYiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSItMTAiIGR5PSI0Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbnM+CiAgICAgICAgICAgIDwvZnJhbWU+CiAgICAgICAgICAgIDxmcmFtZSBpZD0iMiI+CiAgICAgICAgICAgICAgICA8ZGlyZWN0aW9ucz4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSIwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSIyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI2Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9ucz4KICAgICAgICAgICAgPC9mcmFtZT4KICAgICAgICAgICAgPGZyYW1lIGlkPSIzIiByZXBlYXRzPSIxMDAiPgogICAgICAgICAgICAgICAgPGRpcmVjdGlvbnM+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMDAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMDAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMDAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMDAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbnM+CiAgICAgICAgICAgIDwvZnJhbWU+CiAgICAgICAgPC9vZmZzZXRzPgoKCiAgICA8L2FjdGlvbj4KCiAgICA8YWN0aW9uIGlkPSJTbm93V2FyRGllQmFjayI+CgogICAgICAgIDxwYXJ0IHNldC10eXBlPSJjaCI+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249InN3ZGllIi8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjIiIGFzc2V0cGFydGRlZmluaXRpb249InN3ZGllIi8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249InN3ZGllIi8+CiAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjMiIGFzc2V0cGFydGRlZmluaXRpb249InN3ZGllIiByZXBlYXRzPSIxMDAiLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICA8b2Zmc2V0cz4KICAgICAgICAgICAgPGZyYW1lIGlkPSIwIj4KICAgICAgICAgICAgICAgIDxkaXJlY3Rpb25zPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjAiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSItMTAiIGR5PSI0Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMTAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9IjEwIiBkeT0iNCIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgPC9kaXJlY3Rpb25zPgogICAgICAgICAgICA8L2ZyYW1lPgogICAgICAgICAgICA8ZnJhbWUgaWQ9IjEiPgogICAgICAgICAgICAgICAgPGRpcmVjdGlvbnM+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMCIgZHk9IjQiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSIyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwIiBkeT0iNSIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjQiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIxMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI2Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iMTAiIGR5PSI0Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbnM+CiAgICAgICAgICAgIDwvZnJhbWU+CiAgICAgICAgICAgIDxmcmFtZSBpZD0iMiI+CiAgICAgICAgICAgICAgICA8ZGlyZWN0aW9ucz4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSIwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSIyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgICAgICA8ZGlyZWN0aW9uIGlkPSI2Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJoZWFkIiBkeD0iLTEwMCIgZHk9IjUiLz4KICAgICAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbj4KICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9ucz4KICAgICAgICAgICAgPC9mcmFtZT4KICAgICAgICAgICAgPGZyYW1lIGlkPSIzIiByZXBlYXRzPSIxMDAiPgogICAgICAgICAgICAgICAgPGRpcmVjdGlvbnM+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMDAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iMiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMDAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMDAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICAgICAgPGRpcmVjdGlvbiBpZD0iNiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgZHg9Ii0xMDAiIGR5PSI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9kaXJlY3Rpb24+CiAgICAgICAgICAgICAgICA8L2RpcmVjdGlvbnM+CiAgICAgICAgICAgIDwvZnJhbWU+CiAgICAgICAgPC9vZmZzZXRzPgoKICAgIDwvYWN0aW9uPgoKICAgIDxhY3Rpb24gaWQ9IlNub3dXYXJQaWNrIj4KCiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJjaCI+CiAgICAgICAgICAgICA8ZnJhbWUgbnVtYmVyPSIwIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3BpY2siLz4KICAgICAgICAgPC9wYXJ0PgoKICAgICAgICA8b2Zmc2V0cz4KICAgICAgICAgICAgPGZyYW1lIGlkPSIwIj4KICAgICAgICAgICAgICAgIDxkaXJlY3Rpb25zPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjAiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMyIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMyIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjIiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMyIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjMiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMyIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjQiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMyIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjUiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMyIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjYiPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMyIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgICAgIDxkaXJlY3Rpb24gaWQ9IjciPgogICAgICAgICAgICAgICAgICAgICAgICA8Ym9keXBhcnQgaWQ9ImhlYWQiIGR4PSIwIiBkeT0iMyIvPgogICAgICAgICAgICAgICAgICAgIDwvZGlyZWN0aW9uPgogICAgICAgICAgICAgICAgPC9kaXJlY3Rpb25zPgogICAgICAgICAgICA8L2ZyYW1lPgogICAgICAgIDwvb2Zmc2V0cz4KCiAgICA8L2FjdGlvbj4KCiAgICA8YWN0aW9uIGlkPSJTbm93V2FyVGhyb3ciPgoKICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImNoIj4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjEiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciLz4KICAgICAgICAgICAgIDxmcmFtZSBudW1iZXI9IjAiIGFzc2V0cGFydGRlZmluaXRpb249InN3dGhyb3ciIHJlcGVhdHM9IjEwMCIvPgogICAgICAgICA8L3BhcnQ+CgogICAgPC9hY3Rpb24+CjwvYW5pbWF0aW9uU2V0Pg=="},1056:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _getLibraryForPartKey(id,type){return"".concat(id,"_").concat(type)}__webpack_require__(3),__webpack_require__(13),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(36),__webpack_require__(31),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FigureMapData=void 0;var FigureMapData=function(_AvatarData_1$AvatarD){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FigureMapData,_AvatarData_1$AvatarD);var _fromUrl,_super=_createSuper(FigureMapData);function FigureMapData(xml){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FigureMapData),(_this=_super.call(this,xml))._libraryForPartMap=new Map,_this._allLibraries=[],_this._cacheData(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FigureMapData,[{key:"getLibraryOfPart",value:function getLibraryOfPart(id,type){var typeProcessed="hrb"===type?"hr":type;return this._libraryForPartMap.get(_getLibraryForPartKey(id,typeProcessed))}},{key:"getLibraries",value:function getLibraries(){return this._allLibraries}},{key:"_cacheData",value:function _cacheData(){var _this2=this;this.querySelectorAll("lib").forEach((function(element){var libraryId=element.getAttribute("id");null!=libraryId&&(_this2._allLibraries.push(libraryId),Array.from(element.querySelectorAll("part")).forEach((function(part){var partId=part.getAttribute("id"),partType=part.getAttribute("type");null!=partId&&null!=partType&&_this2._libraryForPartMap.set(_getLibraryForPartKey(partId,partType),libraryId)})))}))}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new FigureMapData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})}]),FigureMapData}(__webpack_require__(250).AvatarData);exports.FigureMapData=FigureMapData},1057:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(20),__webpack_require__(31),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarPartSetsData=void 0;var AvatarData_1=__webpack_require__(250),partsets_xml_1=__webpack_require__(1058),AvatarPartSetsData=function(_AvatarData_1$AvatarD){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AvatarPartSetsData,_AvatarData_1$AvatarD);var _fromUrl,_super=_createSuper(AvatarPartSetsData);function AvatarPartSetsData(xml){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarPartSetsData),_super.call(this,xml)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarPartSetsData,[{key:"getPartInfo",value:function getPartInfo(id){var _a,_b,element=this.querySelector('partSet part[set-type="'.concat(id,'"]'));if(null!=element)return{flippedSetType:null!==(_a=element.getAttribute("flipped-set-type"))&&void 0!==_a?_a:void 0,removeSetType:null!==(_b=element.getAttribute("remove-set-type"))&&void 0!==_b?_b:void 0}}},{key:"getActivePartSet",value:function getActivePartSet(id){var partSet=this.querySelectorAll('activePartSet[id="'.concat(id,'"] activePart'));return new Set(partSet.map((function(value){var setType=value.getAttribute("set-type");if(null==setType)throw new Error("Invalid set type");return setType})))}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new AvatarPartSetsData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})},{key:"default",value:function _default(){return new AvatarPartSetsData(atob(partsets_xml_1.partsetsXml))}}]),AvatarPartSetsData}(AvatarData_1.AvatarData);exports.AvatarPartSetsData=AvatarPartSetsData},1058:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.partsetsXml=void 0,exports.partsetsXml="PHBhcnRTZXRzPgoKICAgIDxwYXJ0U2V0PgogICAgICAgICA8cGFydCBzZXQtdHlwZT0icmkiIGZsaXBwZWQtc2V0LXR5cGU9InJpIi8+CiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJyaCIgZmxpcHBlZC1zZXQtdHlwZT0ibGgiLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9InJocyIgZmxpcHBlZC1zZXQtdHlwZT0ibGhzIi8+CgkJIDxwYXJ0IHNldC10eXBlPSJycyIgc3dpbT0iMCIgZmxpcHBlZC1zZXQtdHlwZT0ibHMiLz4KCQkgPHBhcnQgc2V0LXR5cGU9InJjIiBzd2ltPSIwIiBmbGlwcGVkLXNldC10eXBlPSJsYyIvPgogICAgICAgICA8cGFydCBzZXQtdHlwZT0iYmQiLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImJkcyIvPgogICAgICAgICA8cGFydCBzZXQtdHlwZT0ic3MiLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9InNoIiBzd2ltPSIwIi8+CiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJsZyIgc3dpbT0iMCIvPgogICAgICAgICA8cGFydCBzZXQtdHlwZT0iY2giLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImNwIi8+CiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJjYyIvPgogICAgICAgICA8cGFydCBzZXQtdHlwZT0iaGQiLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImZjIi8+CiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJleSIvPgogICAgICAgICA8cGFydCBzZXQtdHlwZT0iaHIiLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImhyYiIgcmVtb3ZlLXNldC10eXBlPSJociIvPgogICAgICAgICA8cGFydCBzZXQtdHlwZT0ibGkiIGZsaXBwZWQtc2V0LXR5cGU9ImxpIi8+CiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJsaCIgZmxpcHBlZC1zZXQtdHlwZT0icmgiLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImxocyIgZmxpcHBlZC1zZXQtdHlwZT0icmhzIi8+CgkJIDxwYXJ0IHNldC10eXBlPSJscyIgc3dpbT0iMCIgZmxpcHBlZC1zZXQtdHlwZT0icnMiLz4KCQkgPHBhcnQgc2V0LXR5cGU9ImxjIiBzd2ltPSIwIiBmbGlwcGVkLXNldC10eXBlPSJyYyIvPgoJCSA8cGFydCBzZXQtdHlwZT0id2EiIHN3aW09IjAiLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImVhIi8+CiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJjYSIgc3dpbT0iMCIvPgogICAgICAgICA8cGFydCBzZXQtdHlwZT0iZmEiLz4KICAgICAgICAgPHBhcnQgc2V0LXR5cGU9ImhhIi8+CiAgICAgICAgIDxwYXJ0IHNldC10eXBlPSJoZSIvPgogICAgPC9wYXJ0U2V0PgoKCiAgICA8YWN0aXZlUGFydFNldCBpZD0iZmlndXJlIj4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InJoIi8+CiAgICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJyaHMiLz4KCQkgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InJzIi8+CgkJIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJyYyIvPgogICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iYmQiLz4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImJkcyIvPgogICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0ic3MiLz4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InNoIi8+CiAgICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJsZyIvPgogICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iY2giLz4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImNwIi8+CiAgICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJjYyIvPgogICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0id2EiLz4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImhkIi8+CiAgICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJmYyIvPgogICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iZXkiLz4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImhyIi8+CiAgICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJocmIiLz4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImxoIi8+CiAgICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJsaHMiLz4KCQkgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImxzIi8+CgkJIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJsYyIvPgogICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iZWEiLz4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImNhIi8+CiAgICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJmYSIvPgogICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iaGEiLz4KICAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImhlIi8+CiAgICA8L2FjdGl2ZVBhcnRTZXQ+CgogICAgPGFjdGl2ZVBhcnRTZXQgaWQ9ImhlYWQiPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJoZCIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJmYyIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJleSIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJociIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJocmIiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iZWEiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iZmEiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iaGEiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iaGUiLz4KICAgIDwvYWN0aXZlUGFydFNldD4KCiAgICA8YWN0aXZlUGFydFNldCBpZD0ic3BlYWsiPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJoZCIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJociIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJocmIiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iZmMiLz4KCQk8YWN0aXZlUGFydCBzZXQtdHlwZT0iZmEiLz4KCQk8YWN0aXZlUGFydCBzZXQtdHlwZT0iaGEiLz4JCiAgICA8L2FjdGl2ZVBhcnRTZXQ+CgogICAgPGFjdGl2ZVBhcnRTZXQgaWQ9Imdlc3R1cmUiPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJleSIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJmYyIvPgogICAgPC9hY3RpdmVQYXJ0U2V0PgoKICAgIDxhY3RpdmVQYXJ0U2V0IGlkPSJleWUiPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJleSIvPgogICAgPC9hY3RpdmVQYXJ0U2V0PgoKICAgIDxhY3RpdmVQYXJ0U2V0IGlkPSJoYW5kUmlnaHQiPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJyaCIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJyaHMiLz4KCQk8YWN0aXZlUGFydCBzZXQtdHlwZT0icnMiLz4KCQk8YWN0aXZlUGFydCBzZXQtdHlwZT0icmMiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0icmkiLz4KICAgIDwvYWN0aXZlUGFydFNldD4KCgk8YWN0aXZlUGFydFNldCBpZD0iaGFuZFJpZ2h0QW5kSGVhZCI+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InJoIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InJocyIvPgoJCTxhY3RpdmVQYXJ0IHNldC10eXBlPSJycyIvPgoJCTxhY3RpdmVQYXJ0IHNldC10eXBlPSJyYyIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJyaSIvPgoJCTxhY3RpdmVQYXJ0IHNldC10eXBlPSJleSIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJmYyIvPgoJCTxhY3RpdmVQYXJ0IHNldC10eXBlPSJoZCIvPgogICAgPC9hY3RpdmVQYXJ0U2V0PgoKICAgIDxhY3RpdmVQYXJ0U2V0IGlkPSJoYW5kTGVmdCI+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImxoIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImxocyIvPgoJCTxhY3RpdmVQYXJ0IHNldC10eXBlPSJscyIvPgoJCTxhY3RpdmVQYXJ0IHNldC10eXBlPSJsYyIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJsaSIvPgogICAgPC9hY3RpdmVQYXJ0U2V0PgoKICAgIDxhY3RpdmVQYXJ0U2V0IGlkPSJ3YWxrIj4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iYmQiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iYmRzIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InNzIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImxnIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImxoIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImxocyIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJyaCIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJyaHMiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0ibHMiLz4KCQk8YWN0aXZlUGFydCBzZXQtdHlwZT0ibGMiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0icnMiLz4KCQk8YWN0aXZlUGFydCBzZXQtdHlwZT0icmMiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0ic2giLz4KICAgIDwvYWN0aXZlUGFydFNldD4KCiAgICA8YWN0aXZlUGFydFNldCBpZD0ic2l0Ij4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iYmQiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iYmRzIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InNzIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImxnIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InNoIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImNjIi8+CiAgICA8L2FjdGl2ZVBhcnRTZXQ+CgogICAgPGFjdGl2ZVBhcnRTZXQgaWQ9Iml0ZW1SaWdodCI+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InJpIi8+CiAgICA8L2FjdGl2ZVBhcnRTZXQ+CgogICAgPGFjdGl2ZVBhcnRTZXQgaWQ9InN3aW0iPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJiZHMiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0ic3MiLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0ibGhzIi8+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9InJocyIvPgogICAgPC9hY3RpdmVQYXJ0U2V0PgoJCgk8YWN0aXZlUGFydFNldCBpZD0ic25vd3dhcnJ1biI+CiAgICAgICAgPGFjdGl2ZVBhcnQgc2V0LXR5cGU9ImNoIi8+CiAgICA8L2FjdGl2ZVBhcnRTZXQ+CgogICAgPGFjdGl2ZVBhcnRTZXQgaWQ9InNub3d3YXJwaWNrIj4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iY2giLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iaGQiLz4KICAgIDwvYWN0aXZlUGFydFNldD4KCiAgICA8YWN0aXZlUGFydFNldCBpZD0ic25vd3dhcmRpZWZyb250Ij4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iY2giLz4KICAgICAgICA8YWN0aXZlUGFydCBzZXQtdHlwZT0iaGQiLz4KICAgIDwvYWN0aXZlUGFydFNldD4KCiAgICA8YWN0aXZlUGFydFNldCBpZD0ic25vd3dhcmRpZWJhY2siPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJjaCIvPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJoZCIvPgogICAgPC9hY3RpdmVQYXJ0U2V0PgoKICAgIDxhY3RpdmVQYXJ0U2V0IGlkPSJzbm93d2FydGhyb3ciPgogICAgICAgIDxhY3RpdmVQYXJ0IHNldC10eXBlPSJjaCIvPgogICAgPC9hY3RpdmVQYXJ0U2V0Pgo8L3BhcnRTZXRzPg=="},1059:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(13),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(36),__webpack_require__(20),__webpack_require__(57),__webpack_require__(31),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FigureData=void 0;var AvatarData_1=__webpack_require__(250),_getColorKey=function _getColorKey(paletteId,colorId){return"".concat(paletteId,"_").concat(colorId)},_getPartsKey=function _getPartsKey(setType,id){return"".concat(setType,"_").concat(id)},FigureData=function(_AvatarData_1$AvatarD){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FigureData,_AvatarData_1$AvatarD);var _fromUrl,_super=_createSuper(FigureData);function FigureData(xml){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FigureData),(_this=_super.call(this,xml))._parts=new Map,_this._paletteIdForSetType=new Map,_this._colors=new Map,_this._hiddenLayers=new Map,_this._cacheData(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FigureData,[{key:"getColor",value:function getColor(setType,colorId){var paletteId=this._paletteIdForSetType.get(setType);if(null!=paletteId)return this._colors.get(_getColorKey(paletteId,colorId))}},{key:"getParts",value:function getParts(setType,id){return this._parts.get(_getPartsKey(setType,id))}},{key:"getHiddenLayers",value:function getHiddenLayers(setType,id){var _a;return null!==(_a=this._hiddenLayers.get(_getPartsKey(setType,id)))&&void 0!==_a?_a:[]}},{key:"_cacheData",value:function _cacheData(){var _this2=this,setTypes=this.querySelectorAll("sets settype");this.querySelectorAll("colors palette").forEach((function(palette){var paletteId=palette.getAttribute("id");null!=paletteId&&Array.from(palette.querySelectorAll("color")).forEach((function(color){var colorId=color.getAttribute("id");null!=colorId&&_this2._colors.set(_getColorKey(paletteId,colorId),color.innerHTML)}))})),setTypes.forEach((function(element){var setType=element.getAttribute("type"),paletteId=element.getAttribute("paletteid"),sets=_this2.querySelectorAll("set");null!=setType&&(null!=paletteId&&_this2._paletteIdForSetType.set(setType,paletteId),sets.forEach((function(set){var setId=set.getAttribute("id");if(null!=setId){var parts=Array.from(set.querySelectorAll("part")),partArr=[],hiddenLayers=[];set.querySelectorAll("hiddenlayers layer").forEach((function(hiddenLayerElement){var partType=hiddenLayerElement.getAttribute("parttype");null!=partType&&hiddenLayers.push(partType)})),_this2._hiddenLayers.set(_getPartsKey(setType,setId),hiddenLayers),parts.map((function(part){var id=part.getAttribute("id"),type=part.getAttribute("type"),colorable=part.getAttribute("colorable"),index=Number(part.getAttribute("index"));if(isNaN(index)&&(index=0),null==id)throw new Error("Invalid id");if(null==type)throw new Error("Invalid type");return{id:id,type:type,colorable:"1"===colorable,index:index}})).forEach((function(part){partArr.push(part)})),_this2._parts.set(_getPartsKey(setType,setId),partArr)}})))}))}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new FigureData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})}]),FigureData}(AvatarData_1.AvatarData);exports.FigureData=FigureData},1060:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(57),__webpack_require__(13),__webpack_require__(36),__webpack_require__(31),__webpack_require__(70),__webpack_require__(28),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarActionsData=void 0;var actions_xml_1=__webpack_require__(1061),AvatarActionsData=function(){function AvatarActionsData(xml){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarActionsData),this._map=new Map,this._handItems=new Map,(new DOMParser).parseFromString(xml,"text/xml").querySelectorAll("action").forEach((function(action){var actionId=action.getAttribute("id");if(null!=actionId){var info=function getAvatarActionInfoFromElement(action){var _a,id=action.getAttribute("id"),state=action.getAttribute("state"),precedenceString=action.getAttribute("precedence"),geometrytype=action.getAttribute("geometrytype"),activepartset=action.getAttribute("activepartset"),assetpartdefinition=action.getAttribute("assetpartdefinition"),preventsString=action.getAttribute("prevents"),animation=action.getAttribute("animation"),main=action.getAttribute("main"),isdefault=action.getAttribute("isdefault");if(null==id)throw new Error("Invalid id");if(null==state)throw new Error("Invalid state");if(null==precedenceString)throw new Error("Invalid precedence");if(null==geometrytype)throw new Error("Invalid geometry type");if(null==assetpartdefinition)throw new Error("Invalid asset part definition");var prevents=null!==(_a=null==preventsString?void 0:preventsString.split(","))&&void 0!==_a?_a:[],precedence=Number(precedenceString);if(isNaN(precedence))throw new Error("Invalid precedence");return{id:id,state:state,precedence:precedence,geometrytype:geometrytype,activepartset:activepartset,assetpartdefinition:assetpartdefinition,prevents:prevents,animation:"1"===animation,main:"1"===main,isdefault:"1"===isdefault}}(action);_this._map.set(actionId,info),action.querySelectorAll("param").forEach((function(param){var paramId=param.getAttribute("id");if(null!=paramId){var value=Number(null==param?void 0:param.getAttribute("value"));isNaN(value)||_this._handItems.set("".concat(actionId,"_").concat(paramId),value)}}))}}))}var _fromUrl;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarActionsData,[{key:"getHandItemId",value:function getHandItemId(actionId,id){return this._handItems.get("".concat(actionId,"_").concat(id))}},{key:"getActions",value:function getActions(){return Array.from(this._map.values())}},{key:"getAction",value:function getAction(id){return this._map.get(id)}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new AvatarActionsData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})},{key:"default",value:function _default(){return new AvatarActionsData(atob(actions_xml_1.actionsXml))}}]),AvatarActionsData}();exports.AvatarActionsData=AvatarActionsData},1061:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.actionsXml=void 0,exports.actionsXml="PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxhY3Rpb25zPgoKICAgIDwhLS0gTWFpbiBhY3Rpb25zIC0tPgogICAgPGFjdGlvbiAgaWQ9IkxheSIgc3RhdGU9ImxheSIgcHJlY2VkZW5jZT0iMTAwIiBtYWluPSIxIiBnZW9tZXRyeXR5cGU9Imhvcml6b250YWwiIGFjdGl2ZXBhcnRzZXQ9ImZpZ3VyZSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ibGF5IiBwcmV2ZW50cz0iZnguMSxmeC4yLGZ4LjMsZnguNSxmeC42LGZ4LjE0LGZ4LjE1LGZ4LjE2LGZ4LjE3LGZ4LjE4LGZ4LjE5LGZ4LjIwLGZ4LjIxLGZ4LjIyLGZ4LjI2LGZ4LjI3LGZ4LjMxLGZ4LjMyLGZ4LjMzLGZ4LjM0LGZ4LjM1LGZ4LjM2LGZ4LjM4LGZ4LjM5LGZ4LjQ1LGZ4LjQ2LGZ4LjQ3LGZ4LjQ4LGZ4LjUzLGZ4LjU0LGZ4LjU1LGZ4LjU2LGZ4LjU3LGZ4LjU4LGZ4LjYwLGZ4LjYxLGZ4LjYyLGZ4LjYzLGZ4LjY0LGZ4LjY1LGZ4LjY2LGZ4LjY3LGZ4LjY5LGZ4LjcwLGZ4LjcxLGZ4LjcyLGZ4LjczLGZ4Ljc0LGZ4Ljc1LGZ4Ljc2LGZ4Ljc4LGZ4Ljc5LGZ4LjgwLGZ4LjgxLGZ4LjgyLGZ4LjgzLGZ4Ljg0LGZ4Ljg1LGZ4Ljg2LGZ4Ljg3LGZ4Ljg4LGZ4Ljg5LGZ4LjkwLGZ4LjkxLGZ4LjkyLGZ4LjkzLGZ4Ljk0LGZ4Ljk3LGZ4Ljk5LGZ4LjEwMCxmeC4xMDEsZnguMTA0LGZ4LjEwNSxmeC4xMDYsZnguMTA3LGZ4LjEwOCxmeC4xMDksZnguMTEwLGZ4LjExMSxmeC4xMTIsZnguMTEzLGZ4LjExNCxmeC4xMTUsZnguMTE2LGZ4LjExNyxmeC4xMTgsZnguMTE5LGZ4LjEyMCxmeC4xMjEsZnguMTIyLGZ4LjEyMyxmeC4xMjQsZnguMTI1LGZ4LjEyNixmeC4xMjcsZnguMTI4LGZ4LjEyOSxmeC4xMzAsZnguMTMxLGZ4LjEzMixmeC4xMzMsZnguMTM0LGZ4LjEzNSxmeC4xMzYsZnguMTM3LGZ4LjEzOCxmeC4xMzksZnguMTQwLGZ4LjE0MSxmeC4xNDIsZnguMTQzLGZ4LjE0NCxmeC4xNDUsZnguMTQ2LGZ4LjE0NyxmeC4xNDgsZnguMTQ5LGZ4LjE1MCxmeC4xNTEsZnguMTUyLGZ4LjE1MyxmeC4xNTQsZnguMTU1LGZ4LjE1NixmeC4xNTcsZnguMTU4LGZ4LjE1OSxmeC4xNjAsZnguMTYxLGZ4LjE2MixmeC4xNjQsZnguMTY1LGZ4LjE2NixmeC4xNjcsZnguMTY4LGZ4LjE2OSxmeC4xNzEsZnguMTcyLGZ4LjE3MyxmeC4xNzQsZnguMTc1LGZ4LjE3NixmeC4xNzcsZnguMTc5LGZ4LjE4MCxmeC4xODEsZnguMTgyLGZ4LjE4MyxmeC4xODQsZnguMTg1LGZ4LjE4NixmeC4xODgsZnguMTg5LGZ4LjE5MCxmeC4xOTEsZnguMTkyLGZ4LjE5MyxmeC4xOTQsZnguMTk1LGZ4LjE5NixmeDE5NyxmeDE5OCxmeDE5OSxzcGssZ2VzdCxzbWwsc2FkLGFncixzcnAsdXNlaSxjcmksYmxvdyIvPgogICAgPGFjdGlvbiAgaWQ9IkZsb2F0IiBzdGF0ZT0iZmxvYXQiIHByZWNlZGVuY2U9IjEwMSIgbWFpbj0iMSIgZ2VvbWV0cnl0eXBlPSJzd2ltIiBhY3RpdmVwYXJ0c2V0PSJzd2ltIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd3MiIHByZXZlbnRzPSJmeC4yLGZ4LjMsZnguNSxmeC42LGZ4LjE0LGZ4LjE1LGZ4LjE2LGZ4LjE3LGZ4LjE4LGZ4LjE5LGZ4LjIwLGZ4LjIxLGZ4LjIyLGZ4LjIzLGZ4LjI2LGZ4LjI3LGZ4LjMxLGZ4LjMyLGZ4LjMzLGZ4LjM0LGZ4LjM1LGZ4LjM2LGZ4LjM4LGZ4LjM5LGZ4LjQ1LGZ4LjQ2LGZ4LjQ4LGZ4LjU0LGZ4LjU1LGZ4LjU2LGZ4LjU3LGZ4LjU4LGZ4LjYzLGZ4LjY1LGZ4LjY2LGZ4LjY5LGZ4LjcxLGZ4LjcyLGZ4Ljc0LGZ4Ljc1LGZ4Ljc2LGZ4Ljg5LGZ4LjkwLGZ4LjkxLGZ4LjkyLGZ4Ljk0LGZ4Ljk3LGZ4Ljk5LGZ4LjEwMCxmeC4xMDEsZnguMTA0LGZ4LjEwNSxmeC4xMDYsZnguMTA3LGZ4LjEwOSxmeC4xMTAsZnguMTExLGZ4LjExMyxmeC4xMTQsZnguMTE1LGZ4LjExNixmeC4xMTcsZnguMTE4LGZ4LjExOSxmeC4xMjAsZnguMTIxLGZ4LjEyMixmeC4xMjMsZnguMTI0LGZ4LjEyNSxmeC4xMjcsZnguMTI5LGZ4LjEzMCxmeC4xMzEsZnguMTMyLGZ4LjEzNCxmeC4xMzUsZnguMTM2LGZ4LjEzOSxmeC4xNDAsZnguMTQxLGZ4LjE0MixmeC4xNDMsZnguMTQ0LGZ4LjE0NSxmeC4xNDYsZnguMTQ3LGZ4LjE0OCxmeC4xNDksZnguMTUwLGZ4LjE1MSxmeC4xNTIsZnguMTUzLGZ4LjE1NCxmeC4xNTUsZnguMTU2LGZ4LjE1NyxmeC4xNTgsZnguMTU5LGZ4LjE2MCxmeC4xNjEsZnguMTYyLGZ4LjE2NCxmeC4xNjUsZnguMTY2LGZ4LjE2NyxmeC4xNjgsZnguMTY5LGZ4LjE3MCxmeC4xNzEsZnguMTcyLGZ4LjE3MyxmeC4xNzQsZnguMTc1LGZ4LjE3NixmeC4xNzcsZnguMTAyLGZ4LjE3OCxmeC4xNzksZnguMTgwLGZ4LjE4MSxmeC4xODIsZnguMTgzLGZ4LjE4NixmeC4xODgsZnguMTg5LGZ4LjE5MCxmeC4xOTEsZnguMTkyLGZ4LjE5MyxmeC4xOTQsZnguMTk1LGZ4LjE5NixmeDE5NyxmeDE5OCxmeDE5OSxkYW5jZSx1c2VpLGNyaSxzaWduIi8+CiAgICA8YWN0aW9uICBpZD0iU3dpbSIgc3RhdGU9InN3aW0iIHByZWNlZGVuY2U9IjEwMiIgbWFpbj0iMSIgZ2VvbWV0cnl0eXBlPSJzd2ltIiBhY3RpdmVwYXJ0c2V0PSJzd2ltIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzd20iIHByZXZlbnRzPSJmeC4yLGZ4LjMsZnguNSxmeC42LGZ4LjE0LGZ4LjE1LGZ4LjE2LGZ4LjE3LGZ4LjE4LGZ4LjE5LGZ4LjIwLGZ4LjIxLGZ4LjIyLGZ4LjIzLGZ4LjI2LGZ4LjI3LGZ4LjMyLGZ4LjMzLGZ4LjM0LGZ4LjM1LGZ4LjM2LGZ4LjM4LGZ4LjM5LGZ4LjQ1LGZ4LjQ2LGZ4LjQ4LGZ4LjU0LGZ4LjU1LGZ4LjU2LGZ4LjU3LGZ4LjU4LGZ4LjYzLGZ4LjY1LGZ4LjY2LGZ4LjY5LGZ4LjcxLGZ4LjcyLGZ4Ljc0LGZ4Ljc1LGZ4Ljc2LGZ4Ljg5LGZ4LjkwLGZ4LjkxLGZ4LjkyLGZ4Ljk0LGZ4Ljk3LGZ4LjEwMCxmeC4xMDEsZnguMTA0LGZ4LjEwNSxmeC4xMDYsZnguMTA3LGZ4LjEwOSxmeC4xMTAsZnguMTExLGZ4LjExMyxmeC4xMTQsZnguMTE1LGZ4LjExNixmeC4xMTcsZnguMTE4LGZ4LjExOSxmeC4xMjAsZnguMTIxLGZ4LjEyMixmeC4xMjMsZnguMTI0LGZ4LjEyNSxmeC4xMjcsZnguMTI5LGZ4LjEzMCxmeC4xMzEsZnguMTMyLGZ4LjEzNCxmeC4xMzUsZnguMTM2LGZ4LjEzOSxmeC4xNDAsZnguMTQxLGZ4LjE0MixmeC4xNDMsZnguMTQ0LGZ4LjE0NSxmeC4xNDYsZnguMTQ3LGZ4LjE0OCxmeC4xNDksZnguMTUwLGZ4LjE1MSxmeC4xNTIsZnguMTUzLGZ4LjE1NCxmeC4xNTUsZnguMTU2LGZ4LjE1NyxmeC4xNTgsZnguMTU5LGZ4LjE2MCxmeC4xNjEsZnguMTYyLGZ4LjE2NCxmeC4xNjUsZnguMTY2LGZ4LjE2NyxmeC4xNjgsZnguMTY4LGZ4LjE3MCxmeC4xNzEsZnguMTcyLGZ4LjE3MyxmeC4xNzQsZnguMTc1LGZ4LjE3NixmeC4xNzcsZnguMTAyLGZ4LjE3OCxmeC4xNzksZnguMTgwLGZ4LjE4MSxmeC4xODIsZnguMTgzLGZ4LjE4NixmeC4xODgsZnguMTg5LGZ4LjE5MCxmeC4xOTEsZnguMTkyLGZ4LjE5MyxmeC4xOTQsZnguMTk1LGZ4LjE5NixmeDE5NyxmeDE5OCxmeDE5OSxkYW5jZSx1c2VpLGNyaSxzaWduIi8+CiAgICA8YWN0aW9uICBpZD0iU2l0IiBzdGF0ZT0ic2l0IiBwcmVjZWRlbmNlPSIxMDMiIG1haW49IjEiIGdlb21ldHJ5dHlwZT0ic2l0dGluZyIgYWN0aXZlcGFydHNldD0ic2l0IiBhc3NldHBhcnRkZWZpbml0aW9uPSJzaXQiIHByZXZlbnRzPSJmeC4yLGZ4LjMsZnguNixmeC4xNCxmeC4xNSxmeC4xNyxmeC4xOCxmeC4xOSxmeC4yMCxmeC4yMSxmeC4yMixmeC4zMyxmeC4zNCxmeC4zNSxmeC4zNixmeC4zOCxmeC4zOSxmeC40OCxmeC41NCxmeC41NSxmeC41NixmeC42OSxmeC43MSxmeC43MixmeC45MixmeC45NCxmeC45NyxmeC4xMDAsZnguMTA0LGZ4LjExNSxmeC4xMTcsZnguMTMyLGZ4LjEzNCxmeC4xMzUsZnguMTM2LGZ4LjE0MCxmeC4xNTYsZnguMTc0LGZ4LjE3NSxmeC4xNzYsZnguMTg4LGZ4LjE4OSxmeC4xOTAsZnguMTkxLGZ4LjE5MyxmeC4xOTQsZnguMTk1LGZ4MTk3LGZ4MTk4LGZ4MTk5LGRhbmNlIi8+CgogICAgPGFjdGlvbiAgaWQ9IlNub3dib2FyZDM2MCIgc3RhdGU9InNiMzYwIiBwcmVjZWRlbmNlPSIxNDAiIGFuaW1hdGlvbj0iMSIgbWFpbj0iMSIgZ2VvbWV0cnl0eXBlPSJ2ZXJ0aWNhbCIgYWN0aXZlcGFydHNldD0iZmlndXJlIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzYjM2MCIgc3RhcnRmcm9tZnJhbWV6ZXJvPSJ0cnVlIiBwcmV2ZW50cz0idXNlaSxjcmksd2F2ZSxzaWduIi8+CiAgICA8YWN0aW9uICBpZD0iU25vd2JvYXJkT2xsaWUiIHN0YXRlPSJzYm9sbGllIiBwcmVjZWRlbmNlPSIxNDEiIGFuaW1hdGlvbj0iMSIgbWFpbj0iMSIgZ2VvbWV0cnl0eXBlPSJ2ZXJ0aWNhbCIgYWN0aXZlcGFydHNldD0iZmlndXJlIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzYm9sbGllIiBzdGFydGZyb21mcmFtZXplcm89InRydWUiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlLHNpZ24iLz4KICAgIDxhY3Rpb24gIGlkPSJTbm93Ym9hcmRVcCIgc3RhdGU9InNidXAiIHByZWNlZGVuY2U9IjE0MiIgYW5pbWF0aW9uPSIxIiBtYWluPSIxIiBnZW9tZXRyeXR5cGU9InZlcnRpY2FsIiBhY3RpdmVwYXJ0c2V0PSJmaWd1cmUiIGFzc2V0cGFydGRlZmluaXRpb249InN0ZCIgc3RhcnRmcm9tZnJhbWV6ZXJvPSJ0cnVlIiAvPgogICAgPGFjdGlvbiAgaWQ9IlNub3dib2FyZFNxdWF0IiBzdGF0ZT0ic2JzcSIgcHJlY2VkZW5jZT0iMTQzIiBhbmltYXRpb249IjEiIG1haW49IjEiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9ImZpZ3VyZSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3RkIiBzdGFydGZyb21mcmFtZXplcm89InRydWUiIC8+CgogICAgPGFjdGlvbiAgaWQ9IlJpZGVKdW1wIiBzdGF0ZT0icmlkZWp1bXAiIHByZWNlZGVuY2U9IjE0NCIgYW5pbWF0aW9uPSIxIiBtYWluPSIxIiBnZW9tZXRyeXR5cGU9InZlcnRpY2FsIiBhY3RpdmVwYXJ0c2V0PSJmaWd1cmUiIGFzc2V0cGFydGRlZmluaXRpb249InN0ZCIgc3RhcnRmcm9tZnJhbWV6ZXJvPSJ0cnVlIiAvPgoKICAgIDxhY3Rpb24gIGlkPSJSZXNwZWN0IiBzdGF0ZT0icmVzcGVjdCIgcHJlY2VkZW5jZT0iMjA0IiBnZW9tZXRyeXR5cGU9InZlcnRpY2FsIiBhY3RpdmVwYXJ0c2V0PSJoYW5kTGVmdCIgc3RhcnRmcm9tZnJhbWV6ZXJvPSJ0cnVlIiBhc3NldHBhcnRkZWZpbml0aW9uPSJyZXNwZWN0IiBwcmV2ZW50cz0iZGFuY2UiLz4KICAgIDxhY3Rpb24gIGlkPSJXYXZlIiBzdGF0ZT0id2F2ZSIgcHJlY2VkZW5jZT0iMjA1IiBnZW9tZXRyeXR5cGU9InZlcnRpY2FsIiBhY3RpdmVwYXJ0c2V0PSJoYW5kTGVmdCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2F2IiBwcmV2ZW50cz0iZGFuY2UiLz4KICAgIDxhY3Rpb24gIGlkPSJTaWduIiBzdGF0ZT0ic2lnbiIgcHJlY2VkZW5jZT0iMjEwIiBnZW9tZXRyeXR5cGU9InZlcnRpY2FsIiBhY3RpdmVwYXJ0c2V0PSJoYW5kTGVmdCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic2lnIiBwcmV2ZW50cz0iZGFuY2UiLz4KICAgIDxhY3Rpb24gIGlkPSJCbG93IiBzdGF0ZT0iYmxvdyIgcHJlY2VkZW5jZT0iMjExIiBnZW9tZXRyeXR5cGU9InZlcnRpY2FsIiBhY3RpdmVwYXJ0c2V0PSJoYW5kUmlnaHRBbmRIZWFkIiBhc3NldHBhcnRkZWZpbml0aW9uPSJibHciIHN0YXJ0ZnJvbWZyYW1lemVybz0idHJ1ZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIiBwcmV2ZW50cz0iZGFuY2UiLz4KICAgIDxhY3Rpb24gIGlkPSJMYXVnaCIgc3RhdGU9ImxhdWdoIiBwcmVjZWRlbmNlPSIyMTEiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9ImhhbmRSaWdodEFuZEhlYWQiIGFzc2V0cGFydGRlZmluaXRpb249ImxnaCIgc3RhcnRmcm9tZnJhbWV6ZXJvPSJ0cnVlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiIHByZXZlbnRzPSJkYW5jZSIvPgogICAgPGFjdGlvbiAgaWQ9IklkbGUiIHN0YXRlPSJpZGxlIiBwcmVjZWRlbmNlPSIyMTEiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9ImhlYWQiIGFzc2V0cGFydGRlZmluaXRpb249ImlkbCIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIiBwcmV2ZW50cz0iZGFuY2UiLz4KCiAgICA8YWN0aW9uICBpZD0iQXZhdGFyRWZmZWN0IiBzdGF0ZT0iZngiIHByZWNlZGVuY2U9IjIyMCIgZ2VvbWV0cnl0eXBlPSJ2ZXJ0aWNhbCIgYW5pbWF0aW9uPSIxIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzdGQiIHByZXZlbnRzPSJkYW5jZSxibG93LGxhdWdoIj4KICAgICAgICA8dHlwZSBpZD0iMSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI1IiBwcmV2ZW50cz0idXNlaSxjcmkiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjExIiBhbmltYXRlZD0iZmFsc2UiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjEyIiBhbmltYXRlZD0iZmFsc2UiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjEzIiBhbmltYXRlZD0iZmFsc2UiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjE2IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRzPSJ1c2VpLGNyaSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTkiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMjAiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMjEiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMjIiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMjYiIHByZXZlbnRzPSJ1c2VpLGNyaSIgLz4KICAgICAgICA8dHlwZSBpZD0iMjciIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMjgiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlLHNpZ24iLz4KICAgICAgICA8dHlwZSBpZD0iMjkiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlLHNpZ24iLz4KICAgICAgICA8dHlwZSBpZD0iMzEiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMzIiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjMzIiBwcmV2ZW50aGVhZHR1cm49InRydWUiIHByZXZlbnRzPSJTbGVlcCxnZXN0LHNtbCxzYWQsYWdyLHNycCIvPgogICAgICAgIDx0eXBlIGlkPSIzNCIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIiBwcmV2ZW50cz0iU2xlZXAsZ2VzdCxzbWwsc2FkLGFncixzcnAiLz4KICAgICAgICA8dHlwZSBpZD0iMzUiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIgcHJldmVudHM9IlNsZWVwLGdlc3Qsc21sLHNhZCxhZ3Isc3JwIi8+CiAgICAgICAgPHR5cGUgaWQ9IjM2IiBwcmV2ZW50aGVhZHR1cm49InRydWUiIHByZXZlbnRzPSJTbGVlcCxnZXN0LHNtbCxzYWQsYWdyLHNycCIvPgogICAgICAgIDx0eXBlIGlkPSIzOCIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSIzOSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI0MCIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI0MSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI0MiIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI0MyIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI0NyIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI0OCIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI1NSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI1NiIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI1NyIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI1OCIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI2MCIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI2NCIgcHJldmVudHM9InVzZWksY3JpIiAvPgogICAgICAgIDx0eXBlIGlkPSI2OSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI3MSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI3MiIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI3NCIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI3NSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI3NiIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSI3OSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iODAiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjgxIiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSI4MiIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iODMiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9Ijg0IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSI4NSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iODYiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9Ijg3IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSI4OCIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iODkiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iOTAiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iOTEiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iOTQiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iOTciIC8+CiAgICAgICAgPHR5cGUgaWQ9IjEwMCIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxMDEiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50cz0idXNlaSxjcmkiLz4KICAgICAgICA8dHlwZSBpZD0iMTAyIiBhbmltYXRlZD0idHJ1ZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTA0IiBhbmltYXRlZD0iZmFsc2UiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjEwNSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxMDYiIHByZXZlbnRzPSJ1c2VpLGNyaSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTA3IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxMDgiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50cz0id2F2ZSxzaWduLHNpdCxTd2ltIiAvPgogICAgICAgIDx0eXBlIGlkPSIxMDkiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTEwIiBhbmltYXRlZD0iZmFsc2UiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjExMSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxMTQiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlLHNpZ24iIC8+CiAgICAgICAgPHR5cGUgaWQ9IjExNSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlLHNpZ24sU2xlZXAsZ2VzdCxzbWwsc2FkLGFncixzcnAiLz4KICAgICAgICA8dHlwZSBpZD0iMTE2IiBhbmltYXRlZD0iZmFsc2UiLz4KICAgICAgICA8dHlwZSBpZD0iMTE3IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxMTgiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjExOSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTIwIiBhbmltYXRlZD0idHJ1ZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjEyMSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTIyIiBhbmltYXRlZD0idHJ1ZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjEyMyIgYW5pbWF0ZWQ9InRydWUiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxMjQiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjEyNSIgYW5pbWF0ZWQ9InRydWUiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxMjYiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjEyNyIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTI4IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxMjkiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTMwIiBhbmltYXRlZD0iZmFsc2UiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjEzMSIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxMzIiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTM0IiBhbmltYXRlZD0iZmFsc2UiLz4KICAgICAgICA8dHlwZSBpZD0iMTM1IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxMzYiIGFuaW1hdGVkPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjEzNyIgYW5pbWF0ZWQ9ImZhbHNlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjEzOCIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTM5IiBhbmltYXRlZD0idHJ1ZSIgcHJldmVudHM9InVzZWksY3JpIiAvPgogICAgICAgIDx0eXBlIGlkPSIxNDAiIGFuaW1hdGVkPSJ0cnVlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxNDEiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE0MiIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTQzIiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxNDQiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE0NSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTQ2IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxNDciIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE0OCIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTQ5IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxNTAiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE1MSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTUyIiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxNTMiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE1NCIgYW5pbWF0ZWQ9ImZhbHNlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxNTUiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTU2IiBhbmltYXRlZD0idHJ1ZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTU3IiBhbmltYXRlZD0idHJ1ZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE1OCIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50cz0idXNlaSxjcmkiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxNTkiIGFuaW1hdGVkPSJmYWxzZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTYwIiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIgcHJldmVudHM9InVzZWkiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjE2MSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiIHByZXZlbnRzPSJ1c2VpLGNyaSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTYyIiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRzPSJ1c2VpLGNyaSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTY0IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRzPSJ1c2VpLGNyaSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTY1IiBhbmltYXRlZD0idHJ1ZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTY2IiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxNjciIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE2OCIgYW5pbWF0ZWQ9InRydWUiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjE2OSIgYW5pbWF0ZWQ9InRydWUiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjE3MCIgYW5pbWF0ZWQ9InRydWUiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlLHNpZ24iIC8+CiAgICAgICAgPHR5cGUgaWQ9IjE3MSIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiIHByZXZlbnRzPSJ1c2VpIiAvPgogICAgICAgIDx0eXBlIGlkPSIxNzIiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiIHByZXZlbnRzPSJ1c2VpIiAvPgogICAgICAgIDx0eXBlIGlkPSIxNzMiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50aGVhZHR1cm49InRydWUiIHByZXZlbnRzPSJ1c2VpIiAvPgogICAgICAgIDx0eXBlIGlkPSIxNzUiIGFuaW1hdGVkPSJ0cnVlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxNzYiIGFuaW1hdGVkPSJ0cnVlIiAvPgogICAgICAgIDx0eXBlIGlkPSIxNzciIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIiBwcmV2ZW50cz0idXNlaSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTc4IiBhbmltYXRlZD0idHJ1ZSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTc5IiBhbmltYXRlZD0idHJ1ZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIiBwcmV2ZW50cz0idXNlaSIgLz4KICAgICAgICA8dHlwZSBpZD0iMTgwIiBhbmltYXRlZD0iZmFsc2UiIHByZXZlbnRoZWFkdHVybj0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxODEiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE4MiIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50cz0idXNlaSxjcmkiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjE4MyIgYW5pbWF0ZWQ9ImZhbHNlIiBwcmV2ZW50cz0idXNlaSxjcmkiIC8+CiAgICAgICAgPHR5cGUgaWQ9IjE4NCIgYW5pbWF0ZWQ9InRydWUiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlLHNpZ24iLz4KICAgICAgICA8dHlwZSBpZD0iMTg1IiBhbmltYXRlZD0idHJ1ZSIgcHJldmVudHM9InVzZWksY3JpLHdhdmUsc2lnbiIvPgogICAgICAgIDx0eXBlIGlkPSIxODYiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50cz0idXNlaSxjcmkiLz4KICAgICAgICA8dHlwZSBpZD0iMTg3IiBhbmltYXRlZD0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxODgiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50cz0idXNlaSxjcmksd2F2ZSxzaWduIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE4OSIgYW5pbWF0ZWQ9InRydWUiIHByZXZlbnRzPSJ1c2VpLGNyaSx3YXZlLHNpZ24scmVzcGVjdCIvPgogICAgICAgIDx0eXBlIGlkPSIxOTAiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50cz0idXNlaSxjcmksd2F2ZSxzaWduLHJlc3BlY3QiLz4KICAgICAgICA8dHlwZSBpZD0iMTkxIiBhbmltYXRlZD0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxOTIiIGFuaW1hdGVkPSJmYWxzZSIgcHJldmVudHM9InVzZWksY3JpIiAvPgogICAgICAgIDx0eXBlIGlkPSIxOTMiIGFuaW1hdGVkPSJ0cnVlIi8+CiAgICAgICAgPHR5cGUgaWQ9IjE5NCIgYW5pbWF0ZWQ9InRydWUiLz4KICAgICAgICA8dHlwZSBpZD0iMTk1IiBhbmltYXRlZD0idHJ1ZSIvPgogICAgICAgIDx0eXBlIGlkPSIxOTYiIGFuaW1hdGVkPSJ0cnVlIiBwcmV2ZW50cz0idXNlaSxjcmkiIC8+Lz4KICAgICAgICA8dHlwZSBpZD0iMTk4IiBhbmltYXRlZD0idHJ1ZSIgcHJldmVudHM9InVzZWksY3JpLHdhdmUsc2lnbixyZXNwZWN0Ii8+CgoKCgoKCgoKCiAgICA8L2FjdGlvbj4KCiAgICA8YWN0aW9uICBpZD0iRGFuY2UiIHN0YXRlPSJkYW5jZSIgcHJlY2VkZW5jZT0iMjMwIiBnZW9tZXRyeXR5cGU9InZlcnRpY2FsIiBhY3RpdmVwYXJ0c2V0PSJmaWd1cmUiIGFuaW1hdGlvbj0iMSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3RkIiBwcmV2ZW50cz0iY3JpLHVzZWkiLz4KCiAgICA8IS0tIEhhbmQgYWN0aW9ucyAtLT4KICAgIDxhY3Rpb24gIGlkPSJVc2VJdGVtIiBzdGF0ZT0idXNlaSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIiBwcmVjZWRlbmNlPSIyMDAiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9ImhhbmRSaWdodCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0iZHJrIj4KICAgICAgICA8cGFyYW0gaWQ9ImRlZmF1bHQiIHZhbHVlPSIxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxIiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMiIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjMiIHZhbHVlPSIyIi8+CiAgICAgICAgPHBhcmFtIGlkPSI0IiB2YWx1ZT0iMyIvPgogICAgICAgIDxwYXJhbSBpZD0iOCIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjkiIHZhbHVlPSI2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMCIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjExIiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTIiIHZhbHVlPSI2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMyIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjE0IiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTUiIHZhbHVlPSI2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxNiIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjE3IiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTgiIHZhbHVlPSIxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxOSIgdmFsdWU9IjUiLz4KICAgICAgICA8cGFyYW0gaWQ9IjIwIiB2YWx1ZT0iNzUiLz4KICAgICAgICA8cGFyYW0gaWQ9IjIxIiB2YWx1ZT0iNCIvPgogICAgICAgIDxwYXJhbSBpZD0iMjIiIHZhbHVlPSI3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIyMyIgdmFsdWU9IjgiLz4KICAgICAgICA8cGFyYW0gaWQ9IjI0IiB2YWx1ZT0iNjY3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIyNSIgdmFsdWU9IjkiLz4KICAgICAgICA8cGFyYW0gaWQ9IjI2IiB2YWx1ZT0iMzMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjI3IiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMjgiIHZhbHVlPSI0MiIvPgogICAgICAgIDxwYXJhbSBpZD0iMjkiIHZhbHVlPSI0MyIvPgogICAgICAgIDxwYXJhbSBpZD0iMzAiIHZhbHVlPSI0NCIvPgogICAgICAgIDxwYXJhbSBpZD0iMzEiIHZhbHVlPSI0NSIvPgogICAgICAgIDxwYXJhbSBpZD0iMzIiIHZhbHVlPSI0NSIvPgogICAgICAgIDxwYXJhbSBpZD0iMzMiIHZhbHVlPSI1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIzNCIgdmFsdWU9IjQ2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIzNSIgdmFsdWU9IjQ3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIzNiIgdmFsdWU9IjUwIi8+CiAgICAgICAgPHBhcmFtIGlkPSIzNyIgdmFsdWU9IjUxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIzOCIgdmFsdWU9IjUyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIzOSIgdmFsdWU9IjUzIi8+CiAgICAgICAgPHBhcmFtIGlkPSI0MCIgdmFsdWU9IjU0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI0MSIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQyIiB2YWx1ZT0iNDgiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQzIiB2YWx1ZT0iNTUiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQ0IiB2YWx1ZT0iNTYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQ1IiB2YWx1ZT0iNTciLz4KICAgICAgICA8cGFyYW0gaWQ9IjQ2IiB2YWx1ZT0iNTgiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQ3IiB2YWx1ZT0iNTkiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQ4IiB2YWx1ZT0iNjAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQ5IiB2YWx1ZT0iNjEiLz4KICAgICAgICA8cGFyYW0gaWQ9IjUwIiB2YWx1ZT0iNjIiLz4KICAgICAgICA8cGFyYW0gaWQ9IjUxIiB2YWx1ZT0iNjMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjUyIiB2YWx1ZT0iNjQiLz4KICAgICAgICA8cGFyYW0gaWQ9IjUzIiB2YWx1ZT0iNjUiLz4KICAgICAgICA8cGFyYW0gaWQ9IjU0IiB2YWx1ZT0iNjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjU1IiB2YWx1ZT0iNjciLz4KICAgICAgICA8cGFyYW0gaWQ9IjU2IiB2YWx1ZT0iNjQiLz4KICAgICAgICA8cGFyYW0gaWQ9IjU3IiB2YWx1ZT0iNDMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjU4IiB2YWx1ZT0iNjgiLz4KICAgICAgICA8cGFyYW0gaWQ9IjU5IiB2YWx1ZT0iNjkiLz4KICAgICAgICA8cGFyYW0gaWQ9IjYwIiB2YWx1ZT0iNzAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjYxIiB2YWx1ZT0iNzEiLz4KICAgICAgICA8cGFyYW0gaWQ9IjYyIiB2YWx1ZT0iNzIiLz4KICAgICAgICA8cGFyYW0gaWQ9IjYzIiB2YWx1ZT0iNzMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjY0IiB2YWx1ZT0iNDQiLz4KCiAgICAgICAgPHBhcmFtIGlkPSI2NiIgdmFsdWU9Ijc1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI2NyIgdmFsdWU9IjkyIi8+CiAgICAgICAgPHBhcmFtIGlkPSI2OCIgdmFsdWU9IjkzIi8+CiAgICAgICAgPHBhcmFtIGlkPSI2OSIgdmFsdWU9Ijk0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI3MCIgdmFsdWU9IjEwNSIvPgogICAgICAgIDxwYXJhbSBpZD0iNzEiIHZhbHVlPSIxMDYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjcyIiB2YWx1ZT0iMTA5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI3MyIgdmFsdWU9IjEyNiIvPgogICAgICAgIDxwYXJhbSBpZD0iNzQiIHZhbHVlPSIxMjciLz4KICAgICAgICA8cGFyYW0gaWQ9Ijc1IiB2YWx1ZT0iMTI4Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI3NiIgdmFsdWU9IjEyOSIvPgogICAgICAgIDxwYXJhbSBpZD0iNzciIHZhbHVlPSIxMzAiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijc5IiB2YWx1ZT0iMTMyIi8+CiAgICAgICAgPHBhcmFtIGlkPSI4MCIgdmFsdWU9IjEzMyIvPgogICAgICAgIDxwYXJhbSBpZD0iODEiIHZhbHVlPSIxMzQiLz4KICAgICAgICA8cGFyYW0gaWQ9IjgyIiB2YWx1ZT0iMTM2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI4MyIgdmFsdWU9IjEzNyIvPgogICAgICAgIDxwYXJhbSBpZD0iODQiIHZhbHVlPSIxMzkiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijg1IiB2YWx1ZT0iMTQ0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI4NiIgdmFsdWU9IjE0NSIvPgogICAgICAgIDxwYXJhbSBpZD0iODciIHZhbHVlPSIxNTIiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijg4IiB2YWx1ZT0iMTUzIi8+CiAgICAgICAgPHBhcmFtIGlkPSI4OSIgdmFsdWU9IjE1OSIvPgogICAgICAgIDxwYXJhbSBpZD0iOTAiIHZhbHVlPSIxNjAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjkxIiB2YWx1ZT0iMTY0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI5MiIgdmFsdWU9IjE2OCIvPgogICAgICAgIDxwYXJhbSBpZD0iOTMiIHZhbHVlPSIxNjkiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijk0IiB2YWx1ZT0iMTcwIi8+CiAgICAgICAgPHBhcmFtIGlkPSI5NSIgdmFsdWU9IjE3MSIvPgogICAgICAgIDxwYXJhbSBpZD0iOTYiIHZhbHVlPSIxNzgiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijk3IiB2YWx1ZT0iMTc5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI5OCIgdmFsdWU9IjE4MCIvPiAgICAgCiAgICAgICAgPHBhcmFtIGlkPSI5OSIgdmFsdWU9IjE4MSIvPiAgICAgCiAgICAgICAgPHBhcmFtIGlkPSIxMDAiIHZhbHVlPSIxODIiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwMSIgdmFsdWU9IjE4MyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAyIiB2YWx1ZT0iMTg1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDMiIHZhbHVlPSIxODYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwNCIgdmFsdWU9IjE4NyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1IiB2YWx1ZT0iMTg4Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDYiIHZhbHVlPSIxODkiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwNyIgdmFsdWU9IjE5MCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA4IiB2YWx1ZT0iMTkxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDkiIHZhbHVlPSIxOTIiLz4KICAgICAgICA8cGFyYW0gaWQ9IjExMCIgdmFsdWU9IjE5MyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTExIiB2YWx1ZT0iMTk0Ii8+ICAKICAgICAgICA8cGFyYW0gaWQ9IjExMiIgdmFsdWU9IjE5NiIvPiAKICAgICAgICA8cGFyYW0gaWQ9IjExMyIgdmFsdWU9IjE5NyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTE0IiB2YWx1ZT0iMTk4Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMTUiIHZhbHVlPSIxOTkiLz4KICAgICAgICA8cGFyYW0gaWQ9IjExNiIgdmFsdWU9IjIwMCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTE3IiB2YWx1ZT0iMjAxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMTgiIHZhbHVlPSIyMDIiLz4KICAgICAgICA8cGFyYW0gaWQ9IjExOSIgdmFsdWU9IjIwMyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTIwIiB2YWx1ZT0iMjA2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMjEiIHZhbHVlPSIyMDciLz4KICAgICAgICA8cGFyYW0gaWQ9IjEyMiIgdmFsdWU9IjIwOCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTIzIiB2YWx1ZT0iMjA5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMjQiIHZhbHVlPSIyMTAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEyNSIgdmFsdWU9IjIxMSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTI2IiB2YWx1ZT0iMjEyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMjciIHZhbHVlPSIyMTMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEyOCIgdmFsdWU9IjIxNCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTI5IiB2YWx1ZT0iMjE4Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMzAiIHZhbHVlPSIyMTkiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEzMSIgdmFsdWU9IjIyMCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTMyIiB2YWx1ZT0iMjIxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMzMiIHZhbHVlPSIyMjIiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEzNCIgdmFsdWU9IjIyMyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTM1IiB2YWx1ZT0iMjI1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMzYiIHZhbHVlPSIyMjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEzNyIgdmFsdWU9IjIzMSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTM4IiB2YWx1ZT0iMjMyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxNDIiIHZhbHVlPSIyMzQiLz4KICAgICAgICA8cGFyYW0gaWQ9IjE0MyIgdmFsdWU9IjIzOCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTQ0IiB2YWx1ZT0iMjM5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxNDUiIHZhbHVlPSIyNDMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjE0NiIgdmFsdWU9IjI0NSIvPgoKCgogICAgICAgIAogICAgPC9hY3Rpb24+CiAgICA8YWN0aW9uICBpZD0iQ2FycnlJdGVtIiBzdGF0ZT0iY3JpIiBwcmVjZWRlbmNlPSIyMDUiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9ImhhbmRSaWdodCIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0iY3JyIj4KICAgICAgICA8cGFyYW0gaWQ9ImRlZmF1bHQiIHZhbHVlPSIxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxIiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMyIgdmFsdWU9IjIiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQiIHZhbHVlPSIzIi8+CiAgICAgICAgPHBhcmFtIGlkPSI4IiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iOSIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwIiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTEiIHZhbHVlPSI2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMiIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEzIiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTQiIHZhbHVlPSI2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxNSIgdmFsdWU9IjYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjE2IiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTciIHZhbHVlPSI2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxOCIgdmFsdWU9IjEiLz4KICAgICAgICA8cGFyYW0gaWQ9IjE5IiB2YWx1ZT0iNSIvPgogICAgICAgIDxwYXJhbSBpZD0iMjAiIHZhbHVlPSI3NSIvPgogICAgICAgIDxwYXJhbSBpZD0iMjEiIHZhbHVlPSI0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIyMiIgdmFsdWU9IjciLz4KICAgICAgICA8cGFyYW0gaWQ9IjIzIiB2YWx1ZT0iOCIvPgogICAgICAgIDxwYXJhbSBpZD0iMjQiIHZhbHVlPSI2NjciLz4KICAgICAgICA8cGFyYW0gaWQ9IjI1IiB2YWx1ZT0iOSIvPgogICAgICAgIDxwYXJhbSBpZD0iMjYiIHZhbHVlPSIzMyIvPgogICAgICAgIDxwYXJhbSBpZD0iMjciIHZhbHVlPSI2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIyOCIgdmFsdWU9IjQyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIyOSIgdmFsdWU9IjQzIi8+CiAgICAgICAgPHBhcmFtIGlkPSIzMCIgdmFsdWU9IjQ0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIzMSIgdmFsdWU9IjQ1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIzMiIgdmFsdWU9IjQ1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIzMyIgdmFsdWU9IjUiLz4KICAgICAgICA8cGFyYW0gaWQ9IjM0IiB2YWx1ZT0iNDYiLz4KICAgICAgICA8cGFyYW0gaWQ9IjM1IiB2YWx1ZT0iNDciLz4KICAgICAgICA8cGFyYW0gaWQ9IjM2IiB2YWx1ZT0iNTAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjM3IiB2YWx1ZT0iNTEiLz4KICAgICAgICA8cGFyYW0gaWQ9IjM4IiB2YWx1ZT0iNTIiLz4KICAgICAgICA8cGFyYW0gaWQ9IjM5IiB2YWx1ZT0iNTMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQwIiB2YWx1ZT0iNTQiLz4KICAgICAgICA8cGFyYW0gaWQ9IjQxIiB2YWx1ZT0iNiIvPgogICAgICAgIDxwYXJhbSBpZD0iNDIiIHZhbHVlPSI0OCIvPgogICAgICAgIDxwYXJhbSBpZD0iNDMiIHZhbHVlPSI1NSIvPgogICAgICAgIDxwYXJhbSBpZD0iNDQiIHZhbHVlPSI1NiIvPgogICAgICAgIDxwYXJhbSBpZD0iNDUiIHZhbHVlPSI1NyIvPgogICAgICAgIDxwYXJhbSBpZD0iNDYiIHZhbHVlPSI1OCIvPgogICAgICAgIDxwYXJhbSBpZD0iNDciIHZhbHVlPSI1OSIvPgogICAgICAgIDxwYXJhbSBpZD0iNDgiIHZhbHVlPSI2MCIvPgogICAgICAgIDxwYXJhbSBpZD0iNDkiIHZhbHVlPSI2MSIvPgogICAgICAgIDxwYXJhbSBpZD0iNTAiIHZhbHVlPSI2MiIvPgogICAgICAgIDxwYXJhbSBpZD0iNTEiIHZhbHVlPSI2MyIvPgogICAgICAgIDxwYXJhbSBpZD0iNTIiIHZhbHVlPSI2NCIvPgogICAgICAgIDxwYXJhbSBpZD0iNTMiIHZhbHVlPSI2NSIvPgogICAgICAgIDxwYXJhbSBpZD0iNTQiIHZhbHVlPSI2NiIvPgogICAgICAgIDxwYXJhbSBpZD0iNTUiIHZhbHVlPSI2NyIvPgogICAgICAgIDxwYXJhbSBpZD0iNTYiIHZhbHVlPSI2NCIvPgogICAgICAgIDxwYXJhbSBpZD0iNTciIHZhbHVlPSI0MyIvPgogICAgICAgIDxwYXJhbSBpZD0iNTgiIHZhbHVlPSI2OCIvPgogICAgICAgIDxwYXJhbSBpZD0iNTkiIHZhbHVlPSI2OSIvPgogICAgICAgIDxwYXJhbSBpZD0iNjAiIHZhbHVlPSI3MCIvPgogICAgICAgIDxwYXJhbSBpZD0iNjEiIHZhbHVlPSI3MSIvPgogICAgICAgIDxwYXJhbSBpZD0iNjIiIHZhbHVlPSI3MiIvPgogICAgICAgIDxwYXJhbSBpZD0iNjMiIHZhbHVlPSI3MyIvPgogICAgICAgIDxwYXJhbSBpZD0iNjQiIHZhbHVlPSI0NCIvPgogICAgICAgIDxwYXJhbSBpZD0iNjYiIHZhbHVlPSI3NSIvPgogICAgICAgIDxwYXJhbSBpZD0iNjciIHZhbHVlPSI5MiIvPgogICAgICAgIDxwYXJhbSBpZD0iNjgiIHZhbHVlPSI5MyIvPgogICAgICAgIDxwYXJhbSBpZD0iNjkiIHZhbHVlPSI5NCIvPgogICAgICAgIDxwYXJhbSBpZD0iNzAiIHZhbHVlPSIxMDUiLz4KICAgICAgICA8cGFyYW0gaWQ9IjcxIiB2YWx1ZT0iMTA2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI3MiIgdmFsdWU9IjEwOSIvPgogICAgICAgIDxwYXJhbSBpZD0iNzMiIHZhbHVlPSIxMjYiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijc0IiB2YWx1ZT0iMTI3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI3NSIgdmFsdWU9IjEyOCIvPgogICAgICAgIDxwYXJhbSBpZD0iNzYiIHZhbHVlPSIxMjkiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijc3IiB2YWx1ZT0iMTMwIi8+CiAgICAgICAgPHBhcmFtIGlkPSI3OSIgdmFsdWU9IjEzMiIvPgogICAgICAgIDxwYXJhbSBpZD0iODAiIHZhbHVlPSIxMzMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjgxIiB2YWx1ZT0iMTM0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI4MiIgdmFsdWU9IjEzNiIvPgogICAgICAgIDxwYXJhbSBpZD0iODMiIHZhbHVlPSIxMzciLz4KICAgICAgICA8cGFyYW0gaWQ9Ijg0IiB2YWx1ZT0iMTM5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI4NSIgdmFsdWU9IjE0NCIvPgogICAgICAgIDxwYXJhbSBpZD0iODYiIHZhbHVlPSIxNDUiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijg3IiB2YWx1ZT0iMTUyIi8+CiAgICAgICAgPHBhcmFtIGlkPSI4OCIgdmFsdWU9IjE1MyIvPgogICAgICAgIDxwYXJhbSBpZD0iODkiIHZhbHVlPSIxNTkiLz4KICAgICAgICA8cGFyYW0gaWQ9IjkwIiB2YWx1ZT0iMTYwIi8+CiAgICAgICAgPHBhcmFtIGlkPSI5MSIgdmFsdWU9IjE2NCIvPgogICAgICAgIDxwYXJhbSBpZD0iOTIiIHZhbHVlPSIxNjgiLz4KICAgICAgICA8cGFyYW0gaWQ9IjkzIiB2YWx1ZT0iMTY5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI5NCIgdmFsdWU9IjE3MCIvPgogICAgICAgIDxwYXJhbSBpZD0iOTUiIHZhbHVlPSIxNzEiLz4KICAgICAgICA8cGFyYW0gaWQ9Ijk2IiB2YWx1ZT0iMTc4Ii8+CiAgICAgICAgPHBhcmFtIGlkPSI5NyIgdmFsdWU9IjE3OSIvPgogICAgICAgIDxwYXJhbSBpZD0iOTgiIHZhbHVlPSIxODAiLz4gICAgIAogICAgICAgIDxwYXJhbSBpZD0iOTkiIHZhbHVlPSIxODEiLz4gICAgIAogICAgICAgIDxwYXJhbSBpZD0iMTAwIiB2YWx1ZT0iMTgyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDEiIHZhbHVlPSIxODMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwMiIgdmFsdWU9IjE4NSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzIiB2YWx1ZT0iMTg2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDQiIHZhbHVlPSIxODciLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwNSIgdmFsdWU9IjE4OCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA2IiB2YWx1ZT0iMTg5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDciIHZhbHVlPSIxOTAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwOCIgdmFsdWU9IjE5MSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA5IiB2YWx1ZT0iMTkyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMTAiIHZhbHVlPSIxOTMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjExMSIgdmFsdWU9IjE5NCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTEyIiB2YWx1ZT0iMTk2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMTMiIHZhbHVlPSIxOTciLz4KICAgICAgICA8cGFyYW0gaWQ9IjExNCIgdmFsdWU9IjE5OCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTE1IiB2YWx1ZT0iMTk5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMTYiIHZhbHVlPSIyMDAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjExNyIgdmFsdWU9IjIwMSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTE4IiB2YWx1ZT0iMjAyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMTkiIHZhbHVlPSIyMDMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEyMCIgdmFsdWU9IjIwNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTIxIiB2YWx1ZT0iMjA3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMjIiIHZhbHVlPSIyMDgiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEyMyIgdmFsdWU9IjIwOSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTI0IiB2YWx1ZT0iMjEwIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMjUiIHZhbHVlPSIyMTEiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEyNiIgdmFsdWU9IjIxMiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTI3IiB2YWx1ZT0iMjEzIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMjgiIHZhbHVlPSIyMTQiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEyOSIgdmFsdWU9IjIxOCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTMwIiB2YWx1ZT0iMjE5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMzEiIHZhbHVlPSIyMjAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEzMiIgdmFsdWU9IjIyMSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTMzIiB2YWx1ZT0iMjIyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMzQiIHZhbHVlPSIyMjMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEzNSIgdmFsdWU9IjIyNSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTM2IiB2YWx1ZT0iMjI2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMzciIHZhbHVlPSIyMzEiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEzOCIgdmFsdWU9IjIzMiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTQyIiB2YWx1ZT0iMjM0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxNDMiIHZhbHVlPSIyMzgiLz4KICAgICAgICA8cGFyYW0gaWQ9IjE0NCIgdmFsdWU9IjIzOSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTQ1IiB2YWx1ZT0iMjQzIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxNDYiIHZhbHVlPSIyNDUiLz4KCiAgIAogICAgICAgIDxwYXJhbSBpZD0iMTAwMCIgdmFsdWU9Ijc2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDAxIiB2YWx1ZT0iNzciLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwMDIiIHZhbHVlPSI3OCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAwMyIgdmFsdWU9Ijc5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDA0IiB2YWx1ZT0iODAiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwMDUiIHZhbHVlPSI4MSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAwNiIgdmFsdWU9IjgyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDA3IiB2YWx1ZT0iODMiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwMDgiIHZhbHVlPSI4NCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAwOSIgdmFsdWU9Ijg1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDExIiB2YWx1ZT0iODciLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwMTMiIHZhbHVlPSI4OSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAxNCIgdmFsdWU9IjkwIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDE1IiB2YWx1ZT0iOTEiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwMTkiIHZhbHVlPSI5NSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAyMSIgdmFsdWU9Ijk3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDIyIiB2YWx1ZT0iOTgiLz4KICAgICAgICA8cGFyYW0gaWQ9IjEwMjMiIHZhbHVlPSI5OSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAyNCIgdmFsdWU9IjEwMCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAyNSIgdmFsdWU9IjEwMSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAyNiIgdmFsdWU9IjEwMiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAyNyIgdmFsdWU9IjEwMyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAyOCIgdmFsdWU9IjEwNyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAyOSIgdmFsdWU9IjEwOCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzMCIgdmFsdWU9IjExMCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzMSIgdmFsdWU9IjExMSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzMiIgdmFsdWU9IjExMiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzMyIgdmFsdWU9IjExMyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzNCIgdmFsdWU9IjExNCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzNSIgdmFsdWU9IjExNSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzNiIgdmFsdWU9IjExNiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzNyIgdmFsdWU9IjExNyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzOCIgdmFsdWU9IjExOCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTAzOSIgdmFsdWU9IjExOSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0MCIgdmFsdWU9IjEyMCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0MSIgdmFsdWU9IjEyMSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0MiIgdmFsdWU9IjEyMiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0MyIgdmFsdWU9IjEyMyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0NCIgdmFsdWU9IjEyNCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0NSIgdmFsdWU9IjEyNSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0NiIgdmFsdWU9IjEzMSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0NyIgdmFsdWU9IjEzNSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0OCIgdmFsdWU9IjEzOCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA0OSIgdmFsdWU9IjE0MCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1MCIgdmFsdWU9IjE0MSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1MSIgdmFsdWU9IjE0MiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1MiIgdmFsdWU9IjE0MyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1MyIgdmFsdWU9IjE0NiIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1NCIgdmFsdWU9IjE0NyIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1NSIgdmFsdWU9IjE0OCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1NiIgdmFsdWU9IjE0OSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1NyIgdmFsdWU9IjE1MCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1OCIgdmFsdWU9IjE1MSIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA1OSIgdmFsdWU9IjE1NCIvPgogICAgICAgIDxwYXJhbSBpZD0iMTA2MCIgdmFsdWU9Ijc0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDYxIiB2YWx1ZT0iMTU1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDYyIiB2YWx1ZT0iMTU2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDYzIiB2YWx1ZT0iMTU3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDY0IiB2YWx1ZT0iMTU4Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDY1IiB2YWx1ZT0iMTYxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDY2IiB2YWx1ZT0iMTYyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDY3IiB2YWx1ZT0iMTYzIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDY4IiB2YWx1ZT0iMTY1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDY5IiB2YWx1ZT0iMTY2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDcwIiB2YWx1ZT0iMTY3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDcxIiB2YWx1ZT0iMTcyIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDcyIiB2YWx1ZT0iMTczIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDczIiB2YWx1ZT0iMTc0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDc0IiB2YWx1ZT0iMTc1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDc1IiB2YWx1ZT0iMTc2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDc2IiB2YWx1ZT0iMTc3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDc3IiB2YWx1ZT0iMTg0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDc4IiB2YWx1ZT0iMTk1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDc5IiB2YWx1ZT0iMjA0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDgwIiB2YWx1ZT0iMjA1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDgxIiB2YWx1ZT0iMjE1Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDgyIiB2YWx1ZT0iMjE2Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDgzIiB2YWx1ZT0iMjE3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDg0IiB2YWx1ZT0iMjI0Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDg1IiB2YWx1ZT0iMjI3Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDg2IiB2YWx1ZT0iMjI4Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDg3IiB2YWx1ZT0iMjI5Ii8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDg4IiB2YWx1ZT0iMjMwIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDg5IiB2YWx1ZT0iMjMzIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDkwIiB2YWx1ZT0iMjM1Ii8+Cgk8cGFyYW0gaWQ9IjEwOTEiIHZhbHVlPSIyMzYiLz4KCTxwYXJhbSBpZD0iMTA5MiIgdmFsdWU9IjIzNyIvPgoJPHBhcmFtIGlkPSIxMDkzIiB2YWx1ZT0iMjQwIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDk0IiB2YWx1ZT0iMjQxIi8+CiAgICAgICAgPHBhcmFtIGlkPSIxMDk1IiB2YWx1ZT0iMjQyIi8+Cgk8cGFyYW0gaWQ9IjEwOTYiIHZhbHVlPSIyNDQiLz4KCgogICAgICAgIDxwYXJhbSBpZD0iOTk5OTk5OTk5IiB2YWx1ZT0iLTEiLz48IS0tIFNjcmF0Y2hpbmcgLS0+CgogICAgPC9hY3Rpb24+CiAgICAKICAgIDwhLS0gRmFjZSBhY3Rpb25zIC0tPgogICAgPGFjdGlvbiAgaWQ9IlRhbGsiIHN0YXRlPSJ0YWxrIiBwcmVjZWRlbmNlPSI1MDAiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9InNwZWFrIiBhc3NldHBhcnRkZWZpbml0aW9uPSJzcGsiIGxheT0ibHNwIi8+CiAgICAKICAgIDxhY3Rpb24gIGlkPSJHZXN0dXJlIiBzdGF0ZT0iZ2VzdCIgcHJlY2VkZW5jZT0iNTEwIiBnZW9tZXRyeXR5cGU9InZlcnRpY2FsIiBhY3RpdmVwYXJ0c2V0PSJnZXN0dXJlIiBhc3NldHBhcnRkZWZpbml0aW9uPSJVU0VfUEFSQU1FVEVSIi8+CiAgICA8YWN0aW9uICBpZD0iR2VzdHVyZVNtaWxlIiBzdGF0ZT0ic21sIiBwcmVjZWRlbmNlPSI1MTAiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9Imdlc3R1cmUiIGFzc2V0cGFydGRlZmluaXRpb249InNtbCIgbGF5PSJsc20iLz4KICAgIDxhY3Rpb24gIGlkPSJHZXN0dXJlU2FkIiBzdGF0ZT0ic2FkIiBwcmVjZWRlbmNlPSI1MTAiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9Imdlc3R1cmUiIGFzc2V0cGFydGRlZmluaXRpb249InNhZCIgbGF5PSJsc2EiLz4KICAgIDxhY3Rpb24gIGlkPSJHZXN0dXJlQW5ncnkiIHN0YXRlPSJhZ3IiIHByZWNlZGVuY2U9IjUxMCIgZ2VvbWV0cnl0eXBlPSJ2ZXJ0aWNhbCIgYWN0aXZlcGFydHNldD0iZ2VzdHVyZSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0iYWdyIiBsYXk9ImxhZyIvPgogICAgPGFjdGlvbiAgaWQ9Ikdlc3R1cmVTdXJwcmlzZWQiIHN0YXRlPSJzcnAiIHByZWNlZGVuY2U9IjUxMCIgZ2VvbWV0cnl0eXBlPSJ2ZXJ0aWNhbCIgYWN0aXZlcGFydHNldD0iZ2VzdHVyZSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3JwIiBsYXk9ImxzciIvPgoKICAgIDxhY3Rpb24gIGlkPSJTbGVlcCIgc3RhdGU9IlNsZWVwIiBwcmVjZWRlbmNlPSI1MjAiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9ImV5ZSIgcHJldmVudGhlYWR0dXJuPSJ0cnVlIiBhc3NldHBhcnRkZWZpbml0aW9uPSJleWIiIGxheT0ibGV5Ii8+CgogICAgPCEtLSBMb3dlciBwcmlvcml0eSBmdWxsIGJvZHkgYWN0aW9ucyAtLT4KICAgIDxhY3Rpb24gIGlkPSJNb3ZlIiBzdGF0ZT0ibXYiIHByZWNlZGVuY2U9IjYwMCIgZ2VvbWV0cnl0eXBlPSJ2ZXJ0aWNhbCIgYWN0aXZlcGFydHNldD0id2FsayIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0id2xrIiBwcmV2ZW50cz0iU2xlZXAiLz4KICAgIDxhY3Rpb24gIGlkPSJEZWZhdWx0IiBwcmVjZWRlbmNlPSIxMDAwIiBzdGF0ZT0ic3RkIiBtYWluPSIxIiBpc2RlZmF1bHQ9IjEiIGdlb21ldHJ5dHlwZT0idmVydGljYWwiIGFjdGl2ZXBhcnRzZXQ9ImZpZ3VyZSIgYXNzZXRwYXJ0ZGVmaW5pdGlvbj0ic3RkIi8+Cgo8L2FjdGlvbnM+Cg=="},1062:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(13),__webpack_require__(11),__webpack_require__(57),__webpack_require__(31),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarGeometryData=void 0;var getNumberFromAttribute_1=__webpack_require__(556),geometry_xml_1=__webpack_require__(1063),AvatarGeometryData=function(){function AvatarGeometryData(string){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarGeometryData),this._bodypartMap=new Map,this._avatarSetMap=new Map,this._geometries=new Map,this._bodyPartItemMap=new Map;var document=(new DOMParser).parseFromString(string,"text/xml");document.querySelectorAll('canvas[scale="h"] geometry').forEach((function(element){var geometry=_this._getGeometryFromElement(element);_this._geometries.set(geometry.id,geometry)})),document.querySelectorAll("avatarset").forEach((function(element){var avatarSetId=element.getAttribute("id");null!=avatarSetId&&element.querySelectorAll("bodypart").forEach((function(bodyPart){var _a,id=bodyPart.getAttribute("id");if(null!=id){var current=null!==(_a=_this._avatarSetMap.get(avatarSetId))&&void 0!==_a?_a:[];_this._avatarSetMap.set(avatarSetId,[].concat(_toConsumableArray(current),[id]))}}))})),document.querySelectorAll("type").forEach((function(element){var typeId=element.getAttribute("id");null!=typeId&&element.querySelectorAll("bodypart").forEach((function(bodypart){var bodyPart=_this._getBodyPartFromElement(bodypart);if(null!=bodyPart){var bodyPartItems=[];bodypart.querySelectorAll("item").forEach((function(item){var bodyPartItem=_this._getBodyPartItemFromElement(item);null!=bodyPartItem&&(bodyPartItems.push(bodyPartItem),_this._bodyPartItemMap.set("".concat(typeId,"_").concat(bodyPart.id,"_").concat(bodyPartItem.id),bodyPartItem))})),_this._bodypartMap.set("".concat(typeId,"_").concat(bodyPart.id),Object.assign({},bodyPart,{items:bodyPartItems}))}}))}))}var _fromUrl;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarGeometryData,[{key:"getBodyPartItem",value:function getBodyPartItem(geometry,bodyPartId,itemId){return this._bodyPartItemMap.get("".concat(geometry,"_").concat(bodyPartId,"_").concat(itemId))}},{key:"getBodyPart",value:function getBodyPart(geometry,bodyPartId){return this._bodypartMap.get("".concat(geometry,"_").concat(bodyPartId))}},{key:"getBodyParts",value:function getBodyParts(avaterSet){var _a;return null!==(_a=this._avatarSetMap.get(avaterSet))&&void 0!==_a?_a:[]}},{key:"getGeometry",value:function getGeometry(geometry){return this._geometries.get(geometry)}},{key:"_getGeometryFromElement",value:function _getGeometryFromElement(element){var id=element.getAttribute("id"),width=Number(element.getAttribute("width")),height=Number(element.getAttribute("height")),dx=Number(element.getAttribute("dx")),dy=Number(element.getAttribute("dy"));if(null==id)throw new Error("Invalid id");return{id:id,width:width,height:height,dx:dx,dy:dy}}},{key:"_getBodyPartFromElement",value:function _getBodyPartFromElement(item){var id=item.getAttribute("id"),z=Number(item.getAttribute("z"));if(null!=id&&!isNaN(z))return{id:id,z:z}}},{key:"_getBodyPartItemFromElement",value:function _getBodyPartItemFromElement(item){var id=item.getAttribute("id"),z=getNumberFromAttribute_1.getNumberFromAttribute(item.getAttribute("z")),radius=getNumberFromAttribute_1.getNumberFromAttribute(item.getAttribute("radius"));if(null!=id&&null!=z&&null!=radius)return{id:id,z:z,radius:radius}}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new AvatarGeometryData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})},{key:"default",value:function _default(){return new AvatarGeometryData(atob(geometry_xml_1.geometryXml))}}]),AvatarGeometryData}();exports.AvatarGeometryData=AvatarGeometryData},1063:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.geometryXml=void 0,exports.geometryXml="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPGdlb21ldHJ5IGRpcmVjdGlvbj0iMCIgPgoKCTxjYW1lcmE+CgkJPHg+MDwveD4KCQk8eT4wPC95PgoJCTx6PjEwPC96PgoJPC9jYW1lcmE+CgkKCTxjYW52YXMgc2NhbGU9ImgiPgoJCTwhLS0gZHggYW5kIGR5IHZhbHVlcyBhcmUgb2Zmc2V0cyBmb3IgZmlndXJlIHBhcnRzIGluIGNhbnZhcywgdXNlZCBieSBBdmF0YXJJbWFnZSwgbWFpbmx5IGZvciBsYXkgYW5kIHN3aW0gLS0+CgkJPGdlb21ldHJ5IGlkPSJ2ZXJ0aWNhbCIgd2lkdGg9IjkwIiBoZWlnaHQ9IjEzMCIgZHk9IjAiIGR4PSIwIi8+CiAgICAgICAgPGdlb21ldHJ5IGlkPSJzaXR0aW5nIiB3aWR0aD0iOTAiIGhlaWdodD0iMTMwIiBkeT0iMCIgZHg9IjAiLz4KCQk8Z2VvbWV0cnkgaWQ9Imhvcml6b250YWwiIHdpZHRoPSIxMjgiIGhlaWdodD0iODAiIGR5PSIwIiBkeD0iMzAiLz4KCQk8Z2VvbWV0cnkgaWQ9InN3aG9yaXpvbnRhbCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxMjAiIGR5PSItNDAiIGR4PSIwIi8+Cgk8L2NhbnZhcz4KCgk8Y2FudmFzIHNjYWxlPSJzaCI+CgkJPGdlb21ldHJ5IGlkPSJ2ZXJ0aWNhbCIgd2lkdGg9IjQ1IiBoZWlnaHQ9IjcyIiBkeT0iMCIgZHg9IjAiLz4KICAgICAgICA8Z2VvbWV0cnkgaWQ9InNpdHRpbmciIHdpZHRoPSI0NSIgaGVpZ2h0PSI3MiIgZHk9IjAiIGR4PSIwIi8+CgkJPGdlb21ldHJ5IGlkPSJob3Jpem9udGFsIiB3aWR0aD0iNjQiIGhlaWdodD0iNTAiIGR5PSItMTAiIGR4PSIxNSIvPgoJCTxnZW9tZXRyeSBpZD0ic3dob3Jpem9udGFsIiB3aWR0aD0iOTYiIGhlaWdodD0iNzAiIGR5PSItMjAiIGR4PSIwIi8+CgkJPGdlb21ldHJ5IGlkPSJzd2ltIiB3aWR0aD0iNjQiIGhlaWdodD0iNzAiIGR5PSIxMCIgZHg9IjI1Ii8+Cgk8L2NhbnZhcz4KCgk8YXZhdGFyc2V0IGlkPSJmdWxsIj4KCQk8YXZhdGFyc2V0IGlkPSJib2R5IiBtYWluPSIxIj4KCQkJPGJvZHlwYXJ0IGlkPSJ0b3AiIC8+CgkJCTxib2R5cGFydCBpZD0iYm90dG9tIiAvPgoJCQk8Ym9keXBhcnQgaWQ9ImJlaGluZCIgLz4KCQkJPGJvZHlwYXJ0IGlkPSJ0b3JzbyIgLz4KCQkJPGJvZHlwYXJ0IGlkPSJsZWZ0aXRlbSIgLz4KICAgICAgICAgICAgPGJvZHlwYXJ0IGlkPSJyaWdodGl0ZW0iIC8+CgkJCTxib2R5cGFydCBpZD0ibGVmdGFybSIgLz4KCQkJPGJvZHlwYXJ0IGlkPSJyaWdodGFybSIgLz4KCQk8L2F2YXRhcnNldD4KCQk8YXZhdGFyc2V0IGlkPSJoZWFkIj4KCQkJPGJvZHlwYXJ0IGlkPSJoZWFkIiAvPgoJCTwvYXZhdGFyc2V0PgoJPC9hdmF0YXJzZXQ+CgkKCTx0eXBlIGlkPSJ2ZXJ0aWNhbCIgPgoJCTxib2R5cGFydCBpZD0idG9wIiB4PSIwIiB5PSIwIiB6PSIwLjAiIHJhZGl1cz0iMi4wIiAvPgoJCTxib2R5cGFydCBpZD0iYm90dG9tIiB4PSIwIiB5PSIwIiB6PSIwLjAiIHJhZGl1cz0iMC4wMDEiIC8+CgkJPGJvZHlwYXJ0IGlkPSJiZWhpbmQiIHg9IjAiIHk9IjAiIHo9IjAuMiIgcmFkaXVzPSIwLjMiIC8+CgkJPGJvZHlwYXJ0IGlkPSJ0b3JzbyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjQiID4KCQkJPCEtLSA8Ym91bmRhcnkgdHlwZT0iY2lyY2xlL3NwaGVyZS9ib3gvY3lsaW5kZXIiIHJhZGl1cz0iMC40IiAvPiAtLT4KCQkJPGl0ZW0gaWQ9ImJkIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMSIgLz4KCQkJPGl0ZW0gaWQ9ImJkcyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMSIgLz4KCQkJPGl0ZW0gaWQ9ImNoIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA0IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9InNoIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAyIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImxnIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAzIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9InNzIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA0IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9ImNwIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA0NSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9IndhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA1IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImNjIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA2IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9ImNhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA3IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQk8L2JvZHlwYXJ0PgoJCTxib2R5cGFydCBpZD0ibGVmdGl0ZW0iIHg9IjAiIHk9IjAiIHo9Ii0wLjI5IiByYWRpdXM9IjAuMyI+CgkJCTxpdGVtIGlkPSJsaSIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCTwvYm9keXBhcnQ+CiAgICAgICAgPGJvZHlwYXJ0IGlkPSJyaWdodGl0ZW0iIHg9IjAiIHk9IjAiIHo9Ii0wLjI5IiByYWRpdXM9IjAuMyI+CgkJCTxpdGVtIGlkPSJyaSIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCTwvYm9keXBhcnQ+CgkJPGJvZHlwYXJ0IGlkPSJsZWZ0YXJtIiB4PSItMSIgeT0iMCIgej0iLTAuNTEiIHJhZGl1cz0iMC41Ij4KCQkJPGl0ZW0gaWQ9ImxoIiAgeD0iMCIgeT0iMCIgej0iMCIgIHJhZGl1cz0iMC4wMSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImxocyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0ibHMiICB4PSIwIiB5PSIwIiB6PSIwIiAgcmFkaXVzPSIwLjAyIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0ibGMiICB4PSIwIiB5PSIwIiB6PSIwIiAgcmFkaXVzPSIwLjAyNSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQk8L2JvZHlwYXJ0PgoJCTxib2R5cGFydCBpZD0icmlnaHRhcm0iIHg9IjEiIHk9IjAiIHo9Ii0wLjUxIiByYWRpdXM9IjAuNSI+CgkJCTxpdGVtIGlkPSJyaCIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0icmhzIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJycyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAyIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0icmMiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMjUiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJPC9ib2R5cGFydD4KCQk8Ym9keXBhcnQgaWQ9ImhlYWQiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC41Ij4KCQkJPGl0ZW0gaWQ9ImhkIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iZmMiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDIiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJleSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMyIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImhyIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA0IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iaHJiIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDUiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjEiIC8+CgkJCTxpdGVtIGlkPSJmYSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wNiIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImVhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA3IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0iaGEiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDgiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJoZSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wOSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQk8L2JvZHlwYXJ0PgoJPC90eXBlPgoKICAgIDx0eXBlIGlkPSJzaXR0aW5nIiA+CiAgICAgICAgPGJvZHlwYXJ0IGlkPSJ0b3AiIHg9IjAiIHk9IjAiIHo9IjAuMCIgcmFkaXVzPSIyLjAiIC8+CiAgICAgICAgPGJvZHlwYXJ0IGlkPSJib3R0b20iIHg9IjAiIHk9IjAiIHo9IjAuMCIgcmFkaXVzPSIwLjAwMSIgLz4KICAgICAgICA8Ym9keXBhcnQgaWQ9ImJlaGluZCIgeD0iMCIgeT0iMCIgej0iMC4yIiByYWRpdXM9IjAuMyIgLz4KICAgICAgICA8Ym9keXBhcnQgaWQ9InRvcnNvIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuNCIgPgogICAgICAgICAgICA8IS0tIDxib3VuZGFyeSB0eXBlPSJjaXJjbGUvc3BoZXJlL2JveC9jeWxpbmRlciIgcmFkaXVzPSIwLjQiIC8+IC0tPgogICAgICAgICAgICA8aXRlbSBpZD0iYmQiIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDEiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iYmRzIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iY2giIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDMiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0ic2giIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDQiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0ibGciIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDIiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0ic3MiIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDQiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iY3AiIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDQ1IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0id2EiIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDUiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iY2MiIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDYiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iY2EiIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDciICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgIDwvYm9keXBhcnQ+CiAgICAgICAgPGJvZHlwYXJ0IGlkPSJsZWZ0aXRlbSIgeD0iMCIgeT0iMCIgej0iLTAuMjkiIHJhZGl1cz0iMC4zIj4KICAgICAgICAgICAgPGl0ZW0gaWQ9ImxpIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CiAgICAgICAgPC9ib2R5cGFydD4KICAgICAgICA8Ym9keXBhcnQgaWQ9InJpZ2h0aXRlbSIgeD0iMCIgeT0iMCIgej0iLTAuMjkiIHJhZGl1cz0iMC4zIj4KICAgICAgICAgICAgPGl0ZW0gaWQ9InJpIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CiAgICAgICAgPC9ib2R5cGFydD4KICAgICAgICA8Ym9keXBhcnQgaWQ9ImxlZnRhcm0iIHg9Ii0xIiB5PSIwIiB6PSItMC41MSIgcmFkaXVzPSIwLjUiPgogICAgICAgICAgICA8aXRlbSBpZD0ibGgiICB4PSIwIiB5PSIwIiB6PSIwIiAgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0ibGhzIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CiAgICAgICAgICAgIDxpdGVtIGlkPSJscyIgIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDIiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CiAgICAgICAgICAgIDxpdGVtIGlkPSJsYyIgIHg9IjAiIHk9IjAiIHo9IjAiICByYWRpdXM9IjAuMDI1IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgIDwvYm9keXBhcnQ+CiAgICAgICAgPGJvZHlwYXJ0IGlkPSJyaWdodGFybSIgeD0iMSIgeT0iMCIgej0iLTAuNTEiIHJhZGl1cz0iMC41Ij4KICAgICAgICAgICAgPGl0ZW0gaWQ9InJoIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CiAgICAgICAgICAgIDxpdGVtIGlkPSJyaHMiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9InJzIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDIiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CiAgICAgICAgICAgIDxpdGVtIGlkPSJyYyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAyNSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICA8L2JvZHlwYXJ0PgogICAgICAgIDxib2R5cGFydCBpZD0iaGVhZCIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjUiPgogICAgICAgICAgICA8aXRlbSBpZD0iaGQiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjEiIC8+CiAgICAgICAgICAgIDxpdGVtIGlkPSJmYyIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMiIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9ImV5IiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAzIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iaHIiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDQiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjEiIC8+CiAgICAgICAgICAgIDxpdGVtIGlkPSJocmIiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wNSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMSIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9ImZhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA2IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iZWEiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDciIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CiAgICAgICAgICAgIDxpdGVtIGlkPSJoYSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wOCIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9ImhlIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA5IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgIDwvYm9keXBhcnQ+CiAgICA8L3R5cGU+CgoKCTx0eXBlIGlkPSJob3Jpem9udGFsIiA+CgkJPGJvZHlwYXJ0IGlkPSJ0b3JzbyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjQiID4KCQkJPCEtLSA8Ym91bmRhcnkgdHlwZT0iY2lyY2xlL3NwaGVyZS9ib3gvY3lsaW5kZXIiIHJhZGl1cz0iMC40IiAvPiAtLT4KCQkJPGl0ZW0gaWQ9ImJkIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMSIgLz4KCQkJPGl0ZW0gaWQ9ImJkcyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMSIgLz4KCQkJPGl0ZW0gaWQ9ImNoIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAyIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9ImNwIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAyNSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9InNoIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA0IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImxnIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAzIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9InNzIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAzIiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9IndhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA1IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImNjIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA2IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KICAgICAgICAgICAgPGl0ZW0gaWQ9ImNhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA3IiAgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQk8L2JvZHlwYXJ0PgoJCTxib2R5cGFydCBpZD0ibGVmdGl0ZW0iIHg9IjAiIHk9IjAiIHo9Ii0wLjI5IiByYWRpdXM9IjAuMyI+CgkJCTxpdGVtIGlkPSJsaSIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCTwvYm9keXBhcnQ+CiAgICAgICAgPGJvZHlwYXJ0IGlkPSJyaWdodGl0ZW0iIHg9IjAiIHk9IjAiIHo9Ii0wLjI5IiByYWRpdXM9IjAuMyI+CgkJCTxpdGVtIGlkPSJyaSIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCTwvYm9keXBhcnQ+CgkJPGJvZHlwYXJ0IGlkPSJsZWZ0YXJtIiB4PSItMSIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjYiPgoJCQk8aXRlbSBpZD0ibGgiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImxocyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0ibHMiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMiIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImxjIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDI1IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCTwvYm9keXBhcnQ+CgkJPGJvZHlwYXJ0IGlkPSJyaWdodGFybSIgeD0iMSIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjYiPgoJCQk8aXRlbSBpZD0icmgiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9InJocyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0icnMiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMiIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9InJjIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDI1IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCTwvYm9keXBhcnQ+CgkJPGJvZHlwYXJ0IGlkPSJoZWFkIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuNSI+CgkJCTxpdGVtIGlkPSJoZCIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMSIgLz4KCQkJPGl0ZW0gaWQ9ImZjIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAyIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0iZXkiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDMiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJociIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wNCIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMSIgLz4KCQkJPGl0ZW0gaWQ9ImhyYiIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA1IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iZmEiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDYiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJlYSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wNyIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImhhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA4IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0iaGUiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDkiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJPC9ib2R5cGFydD4KCTwvdHlwZT4KCQkKCTx0eXBlIGlkPSJzd2hvcml6b250YWwiID4KCQk8Ym9keXBhcnQgaWQ9InRvcnNvIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuNCIgPgoJCQk8IS0tIDxib3VuZGFyeSB0eXBlPSJjaXJjbGUvc3BoZXJlL2JveC9jeWxpbmRlciIgcmFkaXVzPSIwLjQiIC8+IC0tPgoJCQk8aXRlbSBpZD0iYmQiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iYmRzIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iY2giICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDIiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iY3AiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDI1IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0ic2giICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDQiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0ibGciICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDMiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0ic3MiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDMiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0id2EiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDUiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0iY2MiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDYiICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgogICAgICAgICAgICA8aXRlbSBpZD0iY2EiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDciICBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCTwvYm9keXBhcnQ+CgkJPGJvZHlwYXJ0IGlkPSJsZWZ0aXRlbSIgeD0iMCIgeT0iMCIgej0iLTAuMjkiIHJhZGl1cz0iMC4zIj4KCQkJPGl0ZW0gaWQ9ImxpIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJPC9ib2R5cGFydD4KICAgICAgICA8Ym9keXBhcnQgaWQ9InJpZ2h0aXRlbSIgeD0iMCIgeT0iMCIgej0iLTAuMjkiIHJhZGl1cz0iMC4zIj4KCQkJPGl0ZW0gaWQ9InJpIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJPC9ib2R5cGFydD4KCQk8Ym9keXBhcnQgaWQ9ImxlZnRhcm0iIHg9Ii0xIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuNiI+CgkJCTxpdGVtIGlkPSJsaCIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0ibGhzIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJscyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAyIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0ibGMiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMjUiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJPC9ib2R5cGFydD4KCQk8Ym9keXBhcnQgaWQ9InJpZ2h0YXJtIiB4PSIxIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuNiI+CgkJCTxpdGVtIGlkPSJyaCIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0icmhzIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJycyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAyIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0icmMiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMjUiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJPC9ib2R5cGFydD4KCQk8Ym9keXBhcnQgaWQ9ImhlYWQiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC41Ij4KCQkJPGl0ZW0gaWQ9ImhkIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iZmMiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDIiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJleSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMyIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImhyIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA0IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iaHJiIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDUiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjEiIC8+CgkJCTxpdGVtIGlkPSJmYSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wNiIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImVhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA3IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0iaGEiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDgiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJoZSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wOSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQk8L2JvZHlwYXJ0PgoJPC90eXBlPgoKCTx0eXBlIGlkPSJzd2ltIiA+CgkJPGJvZHlwYXJ0IGlkPSJ0b3JzbyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjQiID4KCQkJPGl0ZW0gaWQ9ImJkcyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0ic3MiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMyIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQk8L2JvZHlwYXJ0PgoJCTxib2R5cGFydCBpZD0ibGVmdGFybSIgeD0iLTEiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC42Ij4KCQkJPGl0ZW0gaWQ9ImxocyIgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCTwvYm9keXBhcnQ+CgkJPGJvZHlwYXJ0IGlkPSJyaWdodGFybSIgeD0iMSIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjYiPgoJCQk8aXRlbSBpZD0icmhzIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDEiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJPC9ib2R5cGFydD4KCQk8Ym9keXBhcnQgaWQ9ImhlYWQiIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC41Ij4KCQkJPGl0ZW0gaWQ9ImhkIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjAxIiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iZmMiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDIiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJleSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wMyIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImhyIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA0IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIxIiAvPgoJCQk8aXRlbSBpZD0iaHJiIiB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDUiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjEiIC8+CgkJCTxpdGVtIGlkPSJmYSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wNiIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQkJPGl0ZW0gaWQ9ImVhIiAgeD0iMCIgeT0iMCIgej0iMCIgcmFkaXVzPSIwLjA3IiBueD0iMCIgbnk9IjAiIG56PSItMSIgZG91YmxlPSIwIiAvPgoJCQk8aXRlbSBpZD0iaGEiICB4PSIwIiB5PSIwIiB6PSIwIiByYWRpdXM9IjAuMDgiIG54PSIwIiBueT0iMCIgbno9Ii0xIiBkb3VibGU9IjAiIC8+CgkJCTxpdGVtIGlkPSJoZSIgIHg9IjAiIHk9IjAiIHo9IjAiIHJhZGl1cz0iMC4wOSIgbng9IjAiIG55PSIwIiBuej0iLTEiIGRvdWJsZT0iMCIgLz4KCQk8L2JvZHlwYXJ0PgoJPC90eXBlPgoKPC9nZW9tZXRyeT4K"},1066:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarEffectMap=void 0;var AvatarEffectMap=function(){function AvatarEffectMap(string){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarEffectMap),this._effects=new Map,this._effectsArray=[],(new DOMParser).parseFromString(string,"text/xml").querySelectorAll("effect").forEach((function(element){var effect=_this._getEffectFromElement(element);_this._effects.set(effect.id,effect),_this._effectsArray.push(effect)}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarEffectMap,[{key:"getEffects",value:function getEffects(){return this._effectsArray}},{key:"getEffectInfo",value:function getEffectInfo(id){return this._effects.get(id)}},{key:"_getEffectFromElement",value:function _getEffectFromElement(element){var id=element.getAttribute("id"),lib=element.getAttribute("lib"),type=element.getAttribute("type");if(null==lib)throw new Error("Invalid lib for effect");if(null==type)throw new Error("Invalid type for effect");if(null==id)throw new Error("Invalid id");return{id:id,lib:lib,type:type}}}]),AvatarEffectMap}();exports.AvatarEffectMap=AvatarEffectMap},1067:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(31),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarEffectBundle=void 0;var HitTexture_1=__webpack_require__(251),AvatarEffectData_1=__webpack_require__(1070),AvatarManifestData_1=__webpack_require__(560),AvatarEffectBundle=function(){function AvatarEffectBundle(_bundle){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarEffectBundle),this._bundle=_bundle,this._textures=new Map,this._data=_bundle.getString("animation.bin").then((function(xml){return new AvatarEffectData_1.AvatarEffectData(xml)})),this._manifest=_bundle.getString("manifest.bin").then((function(xml){return new AvatarManifestData_1.AvatarManifestData(xml)}))}var _getManifest,_getTexture,_getData;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarEffectBundle,[{key:"getData",value:(_getData=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this._data);case 1:case"end":return _context.stop()}}),_callee,this)}))),function getData(){return _getData.apply(this,arguments)})},{key:"getTexture",value:(_getTexture=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(name){var current,blob,texture;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null==(current=this._textures.get(name))){_context2.next=3;break}return _context2.abrupt("return",current);case 3:return _context2.next=5,this._bundle.getBlob("".concat(name,".png"));case 5:return blob=_context2.sent,texture=HitTexture_1.HitTexture.fromBlob(blob),this._textures.set(name,texture),_context2.abrupt("return",texture);case 9:case"end":return _context2.stop()}}),_callee2,this)}))),function getTexture(_x){return _getTexture.apply(this,arguments)})},{key:"getManifest",value:(_getManifest=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",this._manifest);case 1:case"end":return _context3.stop()}}),_callee3,this)}))),function getManifest(){return _getManifest.apply(this,arguments)})}]),AvatarEffectBundle}();exports.AvatarEffectBundle=AvatarEffectBundle},1070:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(13),__webpack_require__(36),__webpack_require__(31),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarEffectData=void 0;var getNumberFromAttribute_1=__webpack_require__(556),AvatarEffectData=function(){function AvatarEffectData(string){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarEffectData),this._frameBodyParts=new Map,this._frameFxParts=new Map,this._sprites=new Map,this._additions=new Map,this._spriteDirections=new Map,this._frameBodyPartsById=new Map,this._frameBodyPartByBase=new Map,this._frameFxPartsById=new Map;var document=(new DOMParser).parseFromString(string,"text/xml"),frameElements=document.querySelectorAll("animation > frame");frameElements.forEach((function(frame,index){frame.querySelectorAll("bodypart").forEach((function(bodypart){var _a,bodyPart=_this._getFrameBodyPartFromElement(bodypart),current=null!==(_a=_this._frameBodyParts.get(index))&&void 0!==_a?_a:[];_this._frameBodyParts.set(index,[].concat(_toConsumableArray(current),[bodyPart])),_this._frameBodyPartsById.set("".concat(bodypart.id,"_").concat(index),bodyPart),null!=bodyPart.base&&_this._frameBodyPartByBase.set("".concat(bodyPart.base,"_").concat(index),bodyPart)})),frame.querySelectorAll("fx").forEach((function(element){var _a,fxPart=_this._getFXPartFromElement(element),current=null!==(_a=_this._frameFxParts.get(index))&&void 0!==_a?_a:[];null!=fxPart&&(_this._frameFxParts.set(index,[].concat(_toConsumableArray(current),[fxPart])),_this._frameFxPartsById.set("".concat(fxPart.id,"_").concat(index),fxPart))}))})),document.querySelectorAll("sprite").forEach((function(element){var sprite=_this._getEffectSpriteFromElement(element);_this._sprites.set(sprite.id,sprite),element.querySelectorAll("direction").forEach((function(element){var direction=_this._getDirectionSpriteFromElement(element);_this._spriteDirections.set("".concat(sprite.id,"_").concat(direction.id),direction)}))})),document.querySelectorAll("add").forEach((function(element){var addition=_this._getFXAddition(element);_this._additions.set(addition.id,addition)}));var directionElement=document.querySelector("animation > direction");null!=directionElement&&(this._direction=this._getDirectionFromElement(directionElement)),this._frameCount=frameElements.length}var _fromUrl;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarEffectData,[{key:"getFrameBodyPartByBase",value:function getFrameBodyPartByBase(bodyPartId,frame){return this._frameBodyPartByBase.get("".concat(bodyPartId,"_").concat(frame))}},{key:"getFrameEffectPart",value:function getFrameEffectPart(id,frame){return this._frameFxPartsById.get("".concat(id,"_").concat(frame))}},{key:"getFrameBodyPart",value:function getFrameBodyPart(bodyPartId,frame){return this._frameBodyPartsById.get("".concat(bodyPartId,"_").concat(frame))}},{key:"getAddtions",value:function getAddtions(){return Array.from(this._additions.values())}},{key:"getFrameEffectParts",value:function getFrameEffectParts(frame){var _a;return null!==(_a=this._frameFxParts.get(frame))&&void 0!==_a?_a:[]}},{key:"getDirection",value:function getDirection(){return this._direction}},{key:"getFrameBodyParts",value:function getFrameBodyParts(frame){var _a;return null!==(_a=this._frameBodyParts.get(frame))&&void 0!==_a?_a:[]}},{key:"getFrameCount",value:function getFrameCount(){return this._frameCount}},{key:"getSprites",value:function getSprites(){return Array.from(this._sprites.values())}},{key:"getSpriteDirection",value:function getSpriteDirection(id,direction){return this._spriteDirections.get("".concat(id,"_").concat(direction))}},{key:"_getFXAddition",value:function _getFXAddition(element){var _a,_b,_c,id=null!==(_a=element.getAttribute("id"))&&void 0!==_a?_a:void 0,align=null!==(_b=element.getAttribute("align"))&&void 0!==_b?_b:void 0,base=null!==(_c=element.getAttribute("base"))&&void 0!==_c?_c:void 0;if(null==id)throw new Error("Invalid id");return{id:id,align:align,base:base}}},{key:"_getFXPartFromElement",value:function _getFXPartFromElement(element){var action=element.getAttribute("action"),frame=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("frame")),dx=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dx")),dy=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dy")),dd=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dd")),id=element.getAttribute("id");if(null==id)throw new Error("Invalid id");return{id:id,action:null!=action?action:void 0,frame:frame,dx:dx,dy:dy,dd:dd}}},{key:"_getDirectionFromElement",value:function _getDirectionFromElement(element){var offset=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("offset"));if(null!=offset)return{offset:offset}}},{key:"_getDirectionSpriteFromElement",value:function _getDirectionSpriteFromElement(element){var id=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("id")),dz=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dz")),dx=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dx")),dy=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dy"));if(null==id)throw new Error("Invalid id");return{id:id,dz:dz,dx:dx,dy:dy}}},{key:"_getEffectSpriteFromElement",value:function _getEffectSpriteFromElement(element){var _a,id=element.getAttribute("id"),ink=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("ink")),member=null!==(_a=element.getAttribute("member"))&&void 0!==_a?_a:void 0,staticY=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("staticY")),directions="1"===element.getAttribute("directions");if(null==id)throw new Error("Invalid id");return{id:id,ink:ink,member:member,staticY:staticY,directions:directions}}},{key:"_getFrameBodyPartFromElement",value:function _getFrameBodyPartFromElement(element){var _a,_b,action=null!==(_a=element.getAttribute("action"))&&void 0!==_a?_a:void 0,id=element.getAttribute("id"),frame=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("frame")),dx=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dx")),dy=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dy")),dd=getNumberFromAttribute_1.getNumberFromAttribute(element.getAttribute("dd")),base=null!==(_b=element.getAttribute("base"))&&void 0!==_b?_b:void 0;if(null==id)throw new Error("Invalid id");return{action:action,frame:frame,id:id,dx:dx,dy:dy,dd:dd,base:base}}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new AvatarEffectData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})}]),AvatarEffectData}();exports.AvatarEffectData=AvatarEffectData},1071:function(module,exports,__webpack_require__){"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(138),__webpack_require__(139),__webpack_require__(36),__webpack_require__(71),__webpack_require__(35),__webpack_require__(20),__webpack_require__(11),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLibrariesForLook=void 0,exports.getLibrariesForLook=function getLibrariesForLook(look,_ref){var _a,_step,figureMap=_ref.figureMap,figureData=_ref.figureData,libraries=new Set,_iterator=_createForOfIteratorHelper(Array.from(look).flatMap((function(_ref2){var _a,_b,_ref3=_slicedToArray(_ref2,2),setType=_ref3[0],setId=_ref3[1].setId;return null!==(_b=null===(_a=figureData.getParts(setType,setId.toString()))||void 0===_a?void 0:_a.map((function(part){return Object.assign({},part,{setId:setId,setType:setType})})))&&void 0!==_b?_b:[]})));try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value,libraryId=figureMap.getLibraryOfPart(part.id,part.type);if(null!=libraryId){var _step2,_iterator2=_createForOfIteratorHelper(null!==(_a=figureData.getParts(part.setType,part.setId.toString()))&&void 0!==_a?_a:[]);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var checkPart=_step2.value;if(null!=(libraryId=figureMap.getLibraryOfPart(checkPart.id,checkPart.type)))break}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}null!=libraryId&&libraries.add(libraryId)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return libraries.add("hh_human_face"),libraries.add("hh_human_item"),libraries.add("hh_human_body"),libraries}},1072:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(14),__webpack_require__(16),__webpack_require__(5),__webpack_require__(26),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(55),__webpack_require__(31),__webpack_require__(20),__webpack_require__(12),__webpack_require__(1073),__webpack_require__(11),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarAssetLibraryCollection=void 0;var NO_ASSET=Symbol("NO_ASSET"),AvatarAssetLibraryCollection=function(){function AvatarAssetLibraryCollection(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarAssetLibraryCollection),this._assets=new Map,this._libraries=new Map,this._opened=new Set,this._loadTextures=new Map,this._textures=new Map}var _loadTextures,_open;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarAssetLibraryCollection,[{key:"open",value:(_open=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(bundle){var manifest,_this=this;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!this._opened.has(bundle)){_context2.next=2;break}return _context2.abrupt("return");case 2:return this._opened.add(bundle),_context2.next=5,bundle.getManifest();case 5:return manifest=_context2.sent,_context2.next=8,Promise.all(manifest.getAssets().map(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(asset){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:_this._assets.set(asset.name,asset),_this._libraries.set(asset.name,bundle);case 2:case"end":return _context.stop()}}),_callee)})));return function(_x2){return _ref.apply(this,arguments)}}()));case 8:return _context2.next=10,Promise.all(manifest.getAliases().map((function(alias){var base=manifest.getAssetByName(alias.link);null!=base&&(_this._assets.set(alias.name,Object.assign({},base,{flipH:alias.fliph,flipV:alias.flipv})),_this._libraries.set(alias.name,bundle))})));case 10:case"end":return _context2.stop()}}),_callee2,this)}))),function open(_x){return _open.apply(this,arguments)})},{key:"loadTextures",value:(_loadTextures=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(ids){var _this2=this;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",Promise.all(ids.map((function(id){return _this2._loadTexture(id)}))));case 1:case"end":return _context3.stop()}}),_callee3)}))),function loadTextures(_x3){return _loadTextures.apply(this,arguments)})},{key:"getOffsets",value:function getOffsets(fileName){var asset=this._assets.get(fileName);if(null!=asset)return{offsetX:asset.x,offsetY:asset.y}}},{key:"getTexture",value:function getTexture(fileName){var texture=this._textures.get(fileName);if(texture!==NO_ASSET)return texture}},{key:"_loadTexture",value:function _loadTexture(id){var _a,_b,_this3=this,current=this._loadTextures.get(id);if(null!=current)return current;var actualId=null!==(_b=null===(_a=this._assets.get(id))||void 0===_a?void 0:_a.name)&&void 0!==_b?_b:id,manifestLibrary=this._libraries.get(id);if(null==manifestLibrary)throw new Error("Couldn't find library for ".concat(id));var promise=manifestLibrary.getTexture(actualId).then((function(value){return _this3._textures.set(id,null!=value?value:NO_ASSET),null!=value?value:NO_ASSET}));return this._loadTextures.set(id,promise),promise}}]),AvatarAssetLibraryCollection}();exports.AvatarAssetLibraryCollection=AvatarAssetLibraryCollection},1074:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(31),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManifestLibrary=void 0;var HitTexture_1=__webpack_require__(251),AvatarManifestData_1=__webpack_require__(560),ManifestLibrary=function(){function ManifestLibrary(_bundle){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ManifestLibrary),this._bundle=_bundle,this._map=new Map,this._manifest=_bundle.getString("manifest.bin").then((function(manifest){return new AvatarManifestData_1.AvatarManifestData(manifest)}))}var _getTexture,_getManifest;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ManifestLibrary,[{key:"getManifest",value:(_getManifest=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this._manifest);case 1:case"end":return _context.stop()}}),_callee,this)}))),function getManifest(){return _getManifest.apply(this,arguments)})},{key:"getTexture",value:(_getTexture=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(name){var current,value;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null==(current=this._map.get(name))){_context2.next=3;break}return _context2.abrupt("return",current);case 3:return value=this._bundle.getBlob("".concat(name,".png")).then((function(blob){return HitTexture_1.HitTexture.fromBlob(blob)})).catch((function(){})),this._map.set(name,value),_context2.abrupt("return",value);case 6:case"end":return _context2.stop()}}),_callee2,this)}))),function getTexture(_x){return _getTexture.apply(this,arguments)})}]),ManifestLibrary}();exports.ManifestLibrary=ManifestLibrary},1075:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(33),__webpack_require__(3),__webpack_require__(31),__webpack_require__(5);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonFurnitureAssetBundle=void 0;var PIXI=__importStar(__webpack_require__(59)),loadImageFromBlob_1=__webpack_require__(559),loadImageFromUrl_1=__webpack_require__(1076),HitTexture_1=__webpack_require__(251),JsonFurnitureAssetsData_1=__webpack_require__(1077),JsonFurnitureVisualizationData_1=__webpack_require__(1078),JsonFurnitureAssetBundle=function(){function JsonFurnitureAssetBundle(_assetBundle){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,JsonFurnitureAssetBundle),this._assetBundle=_assetBundle,this._data=this._load()}var _load2,_getIndex,_getTexture,_getVisualization,_getAssets;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(JsonFurnitureAssetBundle,[{key:"getAssets",value:(_getAssets=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _yield$this$_data,assets;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._data;case 2:return _yield$this$_data=_context.sent,assets=_yield$this$_data.assets,_context.abrupt("return",assets);case 5:case"end":return _context.stop()}}),_callee,this)}))),function getAssets(){return _getAssets.apply(this,arguments)})},{key:"getVisualization",value:(_getVisualization=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _yield$this$_data2,visualization;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._data;case 2:return _yield$this$_data2=_context2.sent,visualization=_yield$this$_data2.visualization,_context2.abrupt("return",visualization);case 5:case"end":return _context2.stop()}}),_callee2,this)}))),function getVisualization(){return _getVisualization.apply(this,arguments)})},{key:"getTexture",value:(_getTexture=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(name){var _yield$this$_data3,spritesheet;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this._data;case 2:return _yield$this$_data3=_context3.sent,spritesheet=_yield$this$_data3.spritesheet,_context3.abrupt("return",HitTexture_1.HitTexture.fromSpriteSheet(spritesheet,name));case 5:case"end":return _context3.stop()}}),_callee3,this)}))),function getTexture(_x){return _getTexture.apply(this,arguments)})},{key:"getIndex",value:(_getIndex=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var _yield$this$_data4,index;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this._data;case 2:return _yield$this$_data4=_context4.sent,index=_yield$this$_data4.index,_context4.abrupt("return",index);case 5:case"end":return _context4.stop()}}),_callee4,this)}))),function getIndex(){return _getIndex.apply(this,arguments)})},{key:"_load",value:(_load2=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var json,blob,imageUrl,baseTextureImage,baseTexture,spritesheet;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.t0=JSON,_context5.next=3,this._assetBundle.getString("index.json");case 3:return _context5.t1=_context5.sent,json=_context5.t0.parse.call(_context5.t0,_context5.t1),_context5.next=7,this._assetBundle.getBlob("spritesheet.png");case 7:return blob=_context5.sent,_context5.next=10,loadImageFromBlob_1.loadImageFromBlob(blob);case 10:return imageUrl=_context5.sent,_context5.next=13,loadImageFromUrl_1.loadImageFromUrl(imageUrl);case 13:return baseTextureImage=_context5.sent,baseTexture=PIXI.BaseTexture.from(baseTextureImage),spritesheet=new PIXI.Spritesheet(baseTexture,json.spritesheet),_context5.next=18,new Promise((function(resolve){spritesheet.parse((function(){resolve()}))}));case 18:return _context5.abrupt("return",{assets:new JsonFurnitureAssetsData_1.JsonFurnitureAssetsData(json.assets),visualization:new JsonFurnitureVisualizationData_1.JsonFurnitureVisualizationData(json.visualization),index:json.index,spritesheet:spritesheet});case 19:case"end":return _context5.stop()}}),_callee5,this)}))),function _load(){return _load2.apply(this,arguments)})}]),JsonFurnitureAssetBundle}();exports.JsonFurnitureAssetBundle=JsonFurnitureAssetBundle},1076:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _loadImageFromUrl(){return(_loadImageFromUrl=_asyncToGenerator(regeneratorRuntime.mark((function _callee(imageUrl){var image;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return(image=new Image).src=imageUrl,_context.next=4,new Promise((function(resolve,reject){image.onload=function(){resolve({width:image.width,height:image.height})},image.onerror=function(value){return reject(value)}}));case 4:return _context.abrupt("return",image);case 5:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}__webpack_require__(3),__webpack_require__(31),__webpack_require__(5),Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadImageFromUrl=void 0,exports.loadImageFromUrl=function loadImageFromUrl(_x){return _loadImageFromUrl.apply(this,arguments)}},1077:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(49),__webpack_require__(137),Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonFurnitureAssetsData=void 0;var notNullOrUndefined_1=__webpack_require__(169),JsonFurnitureAssetsData=function(){function JsonFurnitureAssetsData(_assets){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,JsonFurnitureAssetsData),this._assets=_assets}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(JsonFurnitureAssetsData,[{key:"getAsset",value:function getAsset(name){return this._assets[name]}},{key:"getAssets",value:function getAssets(){return Object.values(this._assets).filter(notNullOrUndefined_1.notNullOrUndefined)}}]),JsonFurnitureAssetsData}();exports.JsonFurnitureAssetsData=JsonFurnitureAssetsData},1078:function(module,exports,__webpack_require__){"use strict";function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(5),__webpack_require__(71),__webpack_require__(35),__webpack_require__(20),__webpack_require__(27),__webpack_require__(57),__webpack_require__(15),__webpack_require__(19),__webpack_require__(137),__webpack_require__(105),__webpack_require__(122),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(25),__webpack_require__(12),__webpack_require__(36),Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonFurnitureVisualizationData=void 0;var JsonFurnitureVisualizationData=function(){function JsonFurnitureVisualizationData(_furniture){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,JsonFurnitureVisualizationData),this._furniture=_furniture}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(JsonFurnitureVisualizationData,[{key:"getLayerCount",value:function getLayerCount(size){return this._getVisualization(size).layerCount}},{key:"getLayer",value:function getLayer(size,layerId){return this._getVisualization(size).layers[layerId.toString()]}},{key:"getDirections",value:function getDirections(size){return Object.keys(this._getVisualization(size).directions).map((function(direction){return Number(direction)}))}},{key:"getDirectionLayer",value:function getDirectionLayer(size,direction,layerId){var _a;return null===(_a=this._getVisualization(size).directions[direction.toString()])||void 0===_a?void 0:_a.layers[layerId.toString()]}},{key:"getAnimationLayer",value:function getAnimationLayer(size,animationId,id){var _a;return null===(_a=this._getVisualization(size).animations[animationId.toString()])||void 0===_a?void 0:_a.layers[id.toString()]}},{key:"getFrameCountWithoutRepeat",value:function getFrameCountWithoutRepeat(size,animationId){var _a,count=1;return Object.values(null!==(_a=this._getVisualization(size).animations[animationId.toString()])&&void 0!==_a?_a:{}).forEach((function(layers){Object.values(null!=layers?layers:{}).forEach((function(layer){var _a,frameCount=null!==(_a=null==layer?void 0:layer.frames.length)&&void 0!==_a?_a:0;frameCount>count&&(count=frameCount)}))})),count}},{key:"getFrameCount",value:function getFrameCount(size,animationId){var _a,count=1;return Object.values(null!==(_a=this._getVisualization(size).animations[animationId.toString()])&&void 0!==_a?_a:{}).forEach((function(layers){Object.values(null!=layers?layers:{}).forEach((function(layer){var _a,_b,value=(null!==(_a=null==layer?void 0:layer.frames.length)&&void 0!==_a?_a:0)*(null!==(_b=null==layer?void 0:layer.frameRepeat)&&void 0!==_b?_b:1);value>count&&(count=value)}))})),count}},{key:"getColor",value:function getColor(size,colorId,layerId){var _a,_b;return null===(_b=null===(_a=this._getVisualization(size).colors[colorId.toString()])||void 0===_a?void 0:_a.layers[layerId.toString()])||void 0===_b?void 0:_b.color}},{key:"getAnimation",value:function getAnimation(size,animationId){var animation=this._getVisualization(size).animations[animationId.toString()];if(null!=animation)return{transitionTo:animation.transitionTo,id:animationId}}},{key:"getTransitionForAnimation",value:function getTransitionForAnimation(size,transitionTo){var animationTransitionTo=Object.entries(this._getVisualization(size).animations).find((function(_ref){var _ref2=_slicedToArray(_ref,2),animation=(_ref2[0],_ref2[1]);return(null==animation?void 0:animation.transitionTo)===transitionTo}));if(null!=animationTransitionTo)return{id:Number(animationTransitionTo[0]),transitionTo:transitionTo}}},{key:"_getVisualization",value:function _getVisualization(size){var visualization=this._furniture[size.toString()];if(null==visualization)throw new Error("Invalid visualization");return visualization}}]),JsonFurnitureVisualizationData}();exports.JsonFurnitureVisualizationData=JsonFurnitureVisualizationData},1079:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_require__(3),__webpack_require__(31),__webpack_require__(5),__webpack_require__(167),__webpack_require__(49),__webpack_require__(36),__webpack_require__(6),__webpack_require__(12),__webpack_require__(7),__webpack_require__(9),__webpack_require__(20),__webpack_require__(26),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(25),Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadFurni=void 0;var notNullOrUndefined_1=__webpack_require__(169),getFurniDrawDefinition_1=__webpack_require__(1080);function _loadFurni(){return(_loadFurni=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(typeWithColor,bundle){var assetsData,indexData,visualizationData,validDirections,sortedDirections,assetMap,loadTextures,textures;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,bundle.getAssets();case 2:return assetsData=_context3.sent,_context3.next=5,bundle.getIndex();case 5:return indexData=_context3.sent,_context3.next=8,bundle.getVisualization();case 8:return visualizationData=_context3.sent,validDirections=visualizationData.getDirections(64),sortedDirections=_toConsumableArray(validDirections).sort((function(a,b){return a-b})),assetMap=assetsData.getAssets(),loadTextures=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var assetsToLoad,loadedTextures;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return assetsToLoad=Array.from(assetMap).filter((function(asset){return null==asset.source||asset.source===asset.name})),_context2.next=3,Promise.all(assetsToLoad.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee(asset){var image;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,bundle.getTexture(asset.name);case 3:return image=_context.sent,_context.abrupt("return",[asset.name,image]);case 7:return _context.prev=7,_context.t0=_context.catch(0),console.warn("Failed to load furniture asset: ".concat(asset.name),_context.t0),_context.abrupt("return",null);case 11:case"end":return _context.stop()}}),_callee,null,[[0,7]])})));return function(_x3){return _ref2.apply(this,arguments)}}()));case 3:return loadedTextures=_context2.sent,_context2.abrupt("return",new Map(loadedTextures.filter(notNullOrUndefined_1.notNullOrUndefined)));case 5:case"end":return _context2.stop()}}),_callee2)})));return function loadTextures(){return _ref.apply(this,arguments)}}(),_context3.next=15,loadTextures();case 15:return textures=_context3.sent,_context3.abrupt("return",{getDrawDefinition:function getDrawDefinition(direction,animation){return getFurniDrawDefinition_1.getFurniDrawDefinition({type:typeWithColor,direction:direction,animation:animation},{assetsData:assetsData,visualizationData:visualizationData})},getTexture:function getTexture(name){return textures.get(name)},getExtraData:function getExtraData(){return indexData},visualizationData:visualizationData,directions:sortedDirections});case 17:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}exports.loadFurni=function loadFurni(_x,_x2){return _loadFurni.apply(this,arguments)}},1080:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(70),__webpack_require__(28),__webpack_require__(57),__webpack_require__(13),__webpack_require__(20),__webpack_require__(138),__webpack_require__(139),__webpack_require__(554),__webpack_require__(11),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFurniDrawDefinition=void 0;var _1=__webpack_require__(1081);exports.getFurniDrawDefinition=function getFurniDrawDefinition(_ref,_ref2){var _a,typeWithColor=_ref.type,direction=_ref.direction,animation=_ref.animation,visualizationData=_ref2.visualizationData,assetsData=_ref2.assetsData,typeSplitted=typeWithColor.split("*"),type=typeSplitted[0],color=null!==(_a=typeSplitted[1])&&void 0!==_a?_a:"0",parts=[],animationNumber=null!=animation?Number(animation):void 0,layerCount=visualizationData.getLayerCount(64),_getAssetName=function getAssetName(_char,frame){return"".concat(type,"_").concat(64,"_").concat(_char,"_").concat(direction,"_").concat(frame)},shadow=assetsData.getAsset(_getAssetName("sd",0));null!=shadow&&parts.push({assets:[shadow],frameRepeat:1,shadow:!0,layer:void 0,layerIndex:-1});var mask=assetsData.getAsset("".concat(type,"_").concat(64,"_").concat(direction,"_mask"));null!=mask&&parts.push({assets:[mask],frameRepeat:1,layer:void 0,shadow:!1,mask:!0,layerIndex:-2});for(var _loop=function _loop(layerIndex){var directionLayer=visualizationData.getDirectionLayer(64,direction,layerIndex),layer=visualizationData.getLayer(64,layerIndex),_char2=_1.getCharFromLayerIndex(layerIndex),animationLayer=null!=animationNumber?visualizationData.getAnimationLayer(64,animationNumber,layerIndex):void 0,colorLayer=null!=color?visualizationData.getColor(64,Number(color),layerIndex):void 0;parts.push(function getDrawPart(_ref3){var _a,_b,_c,_d,_e,layerIndex=_ref3.layerIndex,layer=_ref3.layer,animation=_ref3.animation,directionLayer=_ref3.directionLayer,assetsData=_ref3.assetsData,color=_ref3.color,getAssetName=_ref3.getAssetName,z=null!==(_b=null!==(_a=null==directionLayer?void 0:directionLayer.z)&&void 0!==_a?_a:null==layer?void 0:layer.z)&&void 0!==_b?_b:0,x=null!==(_c=null==directionLayer?void 0:directionLayer.x)&&void 0!==_c?_c:0,y=null!==(_d=null==directionLayer?void 0:directionLayer.y)&&void 0!==_d?_d:0,baseAsset=assetsData.getAsset(getAssetName(0)),assets=void 0;if(null!=animation){assets=animation.frames.flatMap((function(frameNumber){return new Array(1).fill(frameNumber)})).map((function(frameNumber){var asset=assetsData.getAsset(getAssetName(frameNumber));return null==asset?{x:0,y:0,flipH:!1,name:"unknown",valid:!0}:Object.assign({},asset,{x:asset.x+(asset.flipH?x:-x),y:asset.y-y})}))}null!=assets&&0!==assets.length||null==baseAsset||(assets=[baseAsset]);null==assets&&(assets=[]);return{mask:!1,shadow:!1,frameRepeat:null!==(_e=null==animation?void 0:animation.frameRepeat)&&void 0!==_e?_e:1,layer:layer,z:z,tint:color,assets:assets,loopCount:null==animation?void 0:animation.loopCount,layerIndex:layerIndex}}({layer:layer,directionLayer:directionLayer,animation:animationLayer,assetsData:assetsData,color:colorLayer,getAssetName:function getAssetName(frame){return _getAssetName(_char2,frame)},layerIndex:layerIndex}))},layerIndex=0;layerIndex<layerCount;layerIndex++)_loop(layerIndex);return{parts:parts}}},1081:function(module,exports,__webpack_require__){"use strict";__webpack_require__(33),__webpack_require__(3);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCharFromLayerIndex=void 0,__exportStar(__webpack_require__(1082),exports),exports.getCharFromLayerIndex=function getCharFromLayerIndex(index){return String.fromCharCode(97+index)}},1082:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(57),__webpack_require__(20),__webpack_require__(36),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(25),__webpack_require__(12),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseVisualization=void 0;var parseAnimations_1=__webpack_require__(1083),parseColors_1=__webpack_require__(1084),parseDirections_1=__webpack_require__(1085),parseLayers_1=__webpack_require__(1086);exports.parseVisualization=function parseVisualization(xml){for(var visualizations=xml.visualizationData.graphics[0].visualization,parsedValidDirections=[],i=0;i<visualizations.length;i++){var visualization=visualizations[i];if("64"==visualization.$.size){var _ret=function(){var layerMap=new Map,colorMap=new Map,animationMap=new Map,directionMap=new Map,validDirections=parseDirections_1.parseDirections(visualization,(function(direction,layerMap){return directionMap.set(direction,layerMap)})).validDirections;return parsedValidDirections=validDirections,parseAnimations_1.parseAnimations(visualization,(function(id,data){return animationMap.set(id,data)})),parseColors_1.parseColors(visualization,(function(id,colorLayersMap){return colorMap.set(id,colorLayersMap)})),parseLayers_1.parseLayers(visualization,(function(id,layer){return layerMap.set(id,layer)})),{v:{layerCount:Number(visualization.$.layerCount),getColor:function getColor(colorId,layer){var _a;return null===(_a=null==colorMap?void 0:colorMap.get(colorId))||void 0===_a?void 0:_a.get(layer)},getAnimation:function getAnimation(animationId,layerId){var _a,_b;return null===(_b=null===(_a=animationMap.get(animationId))||void 0===_a?void 0:_a.layerToFrames)||void 0===_b?void 0:_b.get(layerId)},getFrameCount:function getFrameCount(animationId){var _a;return null===(_a=animationMap.get(animationId))||void 0===_a?void 0:_a.frameCount},getLayer:function getLayer(layerId){return layerMap.get(layerId)},getDirectionLayerOverride:function getDirectionLayerOverride(direction,layerId){var _a;return null===(_a=directionMap.get(direction))||void 0===_a?void 0:_a.get(layerId)},getAnimationDatas:function getAnimationDatas(){return Array.from(animationMap).map((function(_ref){var _ref2=_slicedToArray(_ref,2);return{id:_ref2[0],data:_ref2[1]}}))},directions:parsedValidDirections}}}();if("object"===_typeof(_ret))return _ret.v}}throw new Error("No visualization found")}},1083:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(15),__webpack_require__(19),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(20),__webpack_require__(57),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseAnimations=void 0,exports.parseAnimations=function parseAnimations(visualization,set){var animations=visualization.animations?visualization.animations[0].animation:void 0;null!=animations&&animations.forEach((function(animation){var animationId=animation.$.id,animationLayers=animation.animationLayer,layerToFrames=new Map,frameCount=1;animationLayers.forEach((function(layer){var layerId=layer.$.id;if(null!=layer.frameSequence){var frames=layer.frameSequence[0].frame.map((function(frame){return frame.$.id})),frameRepeatString=layer.$.frameRepeat;layerToFrames.set(layerId,{frames:frames,frameRepeat:null!=frameRepeatString?Number(frameRepeatString):void 0}),frames.length>frameCount&&(frameCount=frames.length)}})),set(animationId,{frameCount:frameCount,layerToFrames:layerToFrames})}))}},1084:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(15),__webpack_require__(19),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseColors=void 0,exports.parseColors=function parseColors(visualization,set){var colors=visualization.colors&&visualization.colors[0].color;null!=colors&&colors.forEach((function(color){var id=color.$.id,colorLayersMap=new Map;color.colorLayer.forEach((function(layer){var layerId=layer.$.id,color=layer.$.color;colorLayersMap.set(layerId,color)})),set(id,colorLayersMap)}))}},1085:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(57),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseDirections=void 0,exports.parseDirections=function parseDirections(visualization,set){for(var directions=visualization.directions[0].direction,validDirections=[],i=0;i<directions.length;i++){var layerMap=new Map,directionNumber=Number(directions[i].$.id),directionLayers=directions[i].layer||[];validDirections.push(directionNumber);for(var j=0;j<directionLayers.length;j++){var layer=directionLayers[j].$;layerMap.set(layer.id,{zIndex:null!=layer&&null!=layer.z?Number(layer.z):void 0,tag:void 0,ink:void 0,alpha:void 0,ignoreMouse:void 0})}set(directionNumber,layerMap)}return{validDirections:validDirections}}},1086:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(57),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseLayers=void 0,exports.parseLayers=function parseLayers(visualization,set){if(null!=visualization.layers)for(var layers=visualization.layers[0].layer,layersLength=null==layers?0:layers.length,i=0;i<layersLength;i++){var layer=layers[i].$;set(layer.id,{zIndex:null!=layer&&null!=layer.z?Number(layer.z):0,tag:layer.tag,ink:layer.ink,alpha:null!=layer.alpha?Number(layer.alpha):void 0,ignoreMouse:layer.ignoreMouse})}}},1087:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(31),__webpack_require__(5),Object.defineProperty(exports,"__esModule",{value:!0}),exports.XmlFurnitureAssetBundle=void 0;var HitTexture_1=__webpack_require__(251),FurnitureAssetsData_1=__webpack_require__(1088),FurnitureIndexData_1=__webpack_require__(1089),FurnitureVisualizationData_1=__webpack_require__(1090),XmlFurnitureAssetBundle=function(){function XmlFurnitureAssetBundle(_type,_assetBundle){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,XmlFurnitureAssetBundle),this._type=_type,this._assetBundle=_assetBundle}var _getIndex,_getTexture,_getVisualization,_getAssets;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(XmlFurnitureAssetBundle,[{key:"getAssets",value:(_getAssets=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var data;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._assetBundle.getString("".concat(this._type,"_assets.bin"));case 2:return data=_context.sent,_context.abrupt("return",new FurnitureAssetsData_1.FurnitureAssetsData(data));case 4:case"end":return _context.stop()}}),_callee,this)}))),function getAssets(){return _getAssets.apply(this,arguments)})},{key:"getVisualization",value:(_getVisualization=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var data;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._assetBundle.getString("".concat(this._type,"_visualization.bin"));case 2:return data=_context2.sent,_context2.abrupt("return",new FurnitureVisualizationData_1.FurnitureVisualizationData(data));case 4:case"end":return _context2.stop()}}),_callee2,this)}))),function getVisualization(){return _getVisualization.apply(this,arguments)})},{key:"getTexture",value:(_getTexture=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(name){var blob;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this._assetBundle.getBlob("".concat(name,".png"));case 2:return blob=_context3.sent,_context3.abrupt("return",HitTexture_1.HitTexture.fromBlob(blob));case 4:case"end":return _context3.stop()}}),_callee3,this)}))),function getTexture(_x){return _getTexture.apply(this,arguments)})},{key:"getIndex",value:(_getIndex=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var data;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this._assetBundle.getString("index.bin");case 2:return data=_context4.sent,_context4.abrupt("return",new FurnitureIndexData_1.FurnitureIndexData(data));case 4:case"end":return _context4.stop()}}),_callee4,this)}))),function getIndex(){return _getIndex.apply(this,arguments)})}]),XmlFurnitureAssetBundle}();exports.XmlFurnitureAssetBundle=XmlFurnitureAssetBundle},1088:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(57),__webpack_require__(12),__webpack_require__(36),__webpack_require__(31),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureAssetsData=void 0;var FurnitureAssetsData=function(_XmlData_1$XmlData){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FurnitureAssetsData,_XmlData_1$XmlData);var _fromUrl,_super=_createSuper(FurnitureAssetsData);function FurnitureAssetsData(xml){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FurnitureAssetsData),(_this=_super.call(this,xml))._assets=new Map,_this.querySelectorAll("asset").forEach((function(element){var name=element.getAttribute("name"),x=Number(element.getAttribute("x")),y=Number(element.getAttribute("y")),source=element.getAttribute("source"),flipH="1"===element.getAttribute("flipH");if(null==name)throw new Error("Invalid name");if(isNaN(x))throw new Error("x is not a number");if(isNaN(y))throw new Error("y is not a number");_this._assets.set(name,{x:x,y:y,source:null!=source?source:void 0,flipH:flipH,name:name,valid:!0})})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureAssetsData,[{key:"toJson",value:function toJson(){var assets=this.getAssets(),assetsObject={};return assets.forEach((function(asset){assetsObject[asset.name]=asset})),assetsObject}},{key:"getAsset",value:function getAsset(name){return this._assets.get(name)}},{key:"getAssets",value:function getAssets(){return Array.from(this._assets.values())}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new FurnitureAssetsData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})}]),FurnitureAssetsData}(__webpack_require__(562).XmlData);exports.FurnitureAssetsData=FurnitureAssetsData},1089:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(31),__webpack_require__(5),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureIndexData=void 0;var FurnitureIndexData=function(){function FurnitureIndexData(xml){var _a,_b;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FurnitureIndexData);var object=(new DOMParser).parseFromString(xml,"text/xml").querySelector("object");this._visualization=null!==(_a=null==object?void 0:object.getAttribute("visualization"))&&void 0!==_a?_a:void 0,this._logic=null!==(_b=null==object?void 0:object.getAttribute("logic"))&&void 0!==_b?_b:void 0}var _fromUrl;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureIndexData,[{key:"visualization",get:function get(){return this._visualization}},{key:"logic",get:function get(){return this._logic}},{key:"toJson",value:function toJson(){return this.toObject()}},{key:"toObject",value:function toObject(){return{visualization:this.visualization,logic:this.logic}}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new FurnitureIndexData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})}]),FurnitureIndexData}();exports.FurnitureIndexData=FurnitureIndexData},1090:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(13),__webpack_require__(15),__webpack_require__(19),__webpack_require__(57),__webpack_require__(20),__webpack_require__(49),__webpack_require__(36),__webpack_require__(6),__webpack_require__(11),__webpack_require__(5),__webpack_require__(71),__webpack_require__(35),__webpack_require__(31),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureVisualizationData=void 0;var XmlData_1=__webpack_require__(562),notNullOrUndefined_1=__webpack_require__(169),FurnitureVisualizationData=function(_XmlData_1$XmlData){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FurnitureVisualizationData,_XmlData_1$XmlData);var _fromUrl,_super=_createSuper(FurnitureVisualizationData);function FurnitureVisualizationData(xml){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FurnitureVisualizationData),_super.call(this,xml)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureVisualizationData,[{key:"getFrameCountWithoutRepeat",value:function getFrameCountWithoutRepeat(size,animationId){var count;return this.querySelectorAll('visualization[size="'.concat(size,'"] animation[id="').concat(animationId,'"] frameSequence')).forEach((function(element){var value=element.children.length;(null==count||value>count)&&(count=value)})),count}},{key:"getTransitionForAnimation",value:function getTransitionForAnimation(size,transitionTo){var _a,animation=this.querySelector('visualization[size="'.concat(size,'"] animations animation[transitionTo="').concat(transitionTo,'"]')),animationId=Number(null!==(_a=null==animation?void 0:animation.getAttribute("id"))&&void 0!==_a?_a:void 0);if(!isNaN(animationId))return{id:animationId,transitionTo:transitionTo}}},{key:"getAnimation",value:function getAnimation(size,animationId){var _a,animation=this.querySelector('visualization[size="'.concat(size,'"] animations animation[id="').concat(animationId,'"]'));if(null!=animation){var transitionAnimationId=Number(null!==(_a=null==animation?void 0:animation.getAttribute("transitionTo"))&&void 0!==_a?_a:void 0);return{id:animationId,transitionTo:isNaN(transitionAnimationId)?void 0:transitionAnimationId}}}},{key:"getColor",value:function getColor(size,colorId,layerId){var _a,colorElement=this.querySelector('visualization[size="'.concat(size,'"] colors color[id="').concat(colorId,'"] colorLayer[id="').concat(layerId,'"]'));return null!==(_a=null==colorElement?void 0:colorElement.getAttribute("color"))&&void 0!==_a?_a:void 0}},{key:"getFrameCount",value:function getFrameCount(size,animationId){var count;return this.querySelectorAll('visualization[size="'.concat(size,'"] animation[id="').concat(animationId,'"] frameSequence')).forEach((function(element){var _a,parent=element.parentElement,multiplier=Number(null!==(_a=null==parent?void 0:parent.getAttribute("frameRepeat"))&&void 0!==_a?_a:"1"),value=element.children.length*multiplier;(null==count||value>count)&&(count=value)})),count}},{key:"getAnimationIds",value:function getAnimationIds(size){return this.querySelectorAll('visualization[size="'.concat(size,'"] animations animation')).map((function(element){return element.getAttribute("id")})).filter(notNullOrUndefined_1.notNullOrUndefined).map((function(id){return Number(id)}))}},{key:"getAnimationLayer",value:function getAnimationLayer(size,animationId,id){var _a,_b,animationLayer=this.querySelector('visualization[size="'.concat(size,'"] animations animation[id="').concat(animationId,'"] animationLayer[id="').concat(id,'"]'));if(null!=animationLayer){var frameRepeat=Number(null!==(_a=animationLayer.getAttribute("frameRepeat"))&&void 0!==_a?_a:void 0),loopCount=Number(null!==(_b=animationLayer.getAttribute("loopCount"))&&void 0!==_b?_b:void 0);return{id:animationId,frames:Array.from(animationLayer.querySelectorAll("frameSequence frame")).map((function(element){var _a;return Number(null!==(_a=element.getAttribute("id"))&&void 0!==_a?_a:void 0)})),frameRepeat:isNaN(frameRepeat)?void 0:frameRepeat,loopCount:isNaN(loopCount)?void 0:loopCount}}}},{key:"getDirections",value:function getDirections(size){return this.querySelectorAll('visualization[size="'.concat(size,'"] directions direction')).map((function(element){var _a,id=null!==(_a=element.getAttribute("id"))&&void 0!==_a?_a:void 0;return Number(id)}))}},{key:"getDirectionLayer",value:function getDirectionLayer(size,direction,layerId){var directionLayer=this.querySelector('visualization[size="'.concat(size,'"] directions direction[id="').concat(direction,'"] layer[id="').concat(layerId,'"]'));if(null!=directionLayer)return{z:this._getNumberFromAttributeValue(directionLayer.getAttribute("z")),x:this._getNumberFromAttributeValue(directionLayer.getAttribute("x")),y:this._getNumberFromAttributeValue(directionLayer.getAttribute("y"))}}},{key:"getLayerCount",value:function getLayerCount(size){var _a,visualization=this.querySelector('visualization[size="'.concat(size,'"]'));if(null==visualization)throw new Error("Invalid visualization");return Number(null!==(_a=visualization.getAttribute("layerCount"))&&void 0!==_a?_a:void 0)}},{key:"getLayer",value:function getLayer(size,layerId){var _a,_b,_c,_d,_e,_f,layerElement=this.querySelector('visualization[size="'.concat(size,'"] layers layer[id="').concat(layerId,'"]'));if(null!=layerElement){var id=null!==(_a=layerElement.getAttribute("id"))&&void 0!==_a?_a:void 0,z=null!==(_b=layerElement.getAttribute("z"))&&void 0!==_b?_b:void 0,tag=null!==(_c=layerElement.getAttribute("tag"))&&void 0!==_c?_c:void 0,alpha=null!==(_d=layerElement.getAttribute("alpha"))&&void 0!==_d?_d:void 0,ink=null!==(_e=layerElement.getAttribute("ink"))&&void 0!==_e?_e:void 0,ignoreMouse=null!==(_f=layerElement.getAttribute("ignoreMouse"))&&void 0!==_f?_f:void 0,idNumber=Number(id),zNumber=Number(z),alphaNumber=Number(alpha);if(isNaN(idNumber))throw new Error("Invalid layer id");return{id:idNumber,z:isNaN(zNumber)?0:zNumber,alpha:isNaN(alphaNumber)?void 0:alphaNumber,tag:null!=tag?tag:void 0,ink:null!=ink?ink:void 0,ignoreMouse:null!=ignoreMouse?"1"===ignoreMouse:void 0}}}},{key:"toJson",value:function toJson(){return Object.assign({},this._getJsonForSize(64))}},{key:"_toJsonMap",value:function _toJsonMap(arr,getKey){var map={};return arr.forEach((function(value){var key=getKey(value);null!=key&&(map[key]=value)})),map}},{key:"_getJsonAnimations",value:function _getJsonAnimations(size){var _this=this,arr=Array.from(this.document.querySelectorAll('visualization[size="'.concat(size,'"] animations animation'))).map((function(element){var layers=Array.from(element.querySelectorAll("animationLayer")).map((function(element){var id=_this._getNumberFromAttributeValue(element.getAttribute("id")),frames=Array.from(element.querySelectorAll("frame")).map((function(element){return element.getAttribute("id")})).filter(notNullOrUndefined_1.notNullOrUndefined).map((function(id){return Number(id)})),frameRepeat=_this._getNumberFromAttributeValue(element.getAttribute("frameRepeat")),loopCount=_this._getNumberFromAttributeValue(element.getAttribute("loopCount")),random=1===_this._getNumberFromAttributeValue(element.getAttribute("random"));if(null!=id)return{id:id,frames:frames,frameRepeat:frameRepeat,loopCount:loopCount,random:random}})).filter(notNullOrUndefined_1.notNullOrUndefined),animationId=_this._getNumberFromAttributeValue(element.getAttribute("id")),transitionTo=_this._getNumberFromAttributeValue(element.getAttribute("transitionTo"));return null==animationId?null:{id:animationId,layers:_this._toJsonMap(layers,(function(layer){return layer.id.toString()})),transitionTo:transitionTo}})).filter(notNullOrUndefined_1.notNullOrUndefined);return this._toJsonMap(arr,(function(element){return element.id.toString()}))}},{key:"_getJsonColors",value:function _getJsonColors(size){var _this2=this,arr=Array.from(this.document.querySelectorAll('visualization[size="'.concat(size,'"] colors color'))).map((function(element){var colorId=element.getAttribute("id"),colorLayers=Array.from(element.querySelectorAll("colorLayer")).map((function(element){var layerId=element.getAttribute("id"),color=element.getAttribute("color");if(null==color)throw new Error("Invalid color");return{id:layerId,color:color}}));return{id:colorId,layers:_this2._toJsonMap(colorLayers,(function(layer){return layer.id}))}}));return this._toJsonMap(arr,(function(value){return value.id}))}},{key:"_getDirections",value:function _getDirections(size){var _this3=this,arr=Array.from(this.document.querySelectorAll('visualization[size="'.concat(size,'"] directions direction'))).map((function(element){var id=element.getAttribute("id"),layers=Array.from(element.querySelectorAll("layer")).map((function(element){return{id:element.getAttribute("id"),x:_this3._getNumberFromAttributeValue(element.getAttribute("x")),y:_this3._getNumberFromAttributeValue(element.getAttribute("y")),z:_this3._getNumberFromAttributeValue(element.getAttribute("z"))}}));return{id:id,layers:_this3._toJsonMap(layers,(function(layer){return layer.id}))}}));return this._toJsonMap(arr,(function(direction){return direction.id}))}},{key:"_getLayers",value:function _getLayers(size){var _this4=this,arr=Array.from(this.document.querySelectorAll('visualization[size="'.concat(size,'"] layers layer'))).map((function(element){var _a,_b,id=_this4._getNumberFromAttributeValue(element.getAttribute("id")),ink=null!==(_a=element.getAttribute("ink"))&&void 0!==_a?_a:void 0,alpha=_this4._getNumberFromAttributeValue(element.getAttribute("alpha")),z=_this4._getNumberFromAttributeValue(element.getAttribute("z")),ignoreMouse=1===_this4._getNumberFromAttributeValue(element.getAttribute("ignoreMouse")),tag=null!==(_b=element.getAttribute("tag"))&&void 0!==_b?_b:void 0;if(null==id)throw new Error("Invalid id");return{id:id,z:null!=z?z:0,alpha:alpha,ignoreMouse:ignoreMouse,ink:ink,tag:tag}}));return this._toJsonMap(arr,(function(layer){return layer.id.toString()}))}},{key:"_getJsonForSize",value:function _getJsonForSize(size){return function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},size.toString(),{layerCount:this.getLayerCount(size),animations:this._getJsonAnimations(size),colors:this._getJsonColors(size),directions:this._getDirections(size),layers:this._getLayers(size)})}},{key:"_getNumberFromAttributeValue",value:function _getNumberFromAttributeValue(value){if(null!=value){var numberValue=Number(value);if(!isNaN(numberValue))return numberValue}}}],[{key:"fromUrl",value:(_fromUrl=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(url){var response,text;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(url);case 2:return response=_context.sent,_context.next=5,response.text();case 5:return text=_context.sent,_context.abrupt("return",new FurnitureVisualizationData(text));case 7:case"end":return _context.stop()}}),_callee)}))),function fromUrl(_x){return _fromUrl.apply(this,arguments)})}]),FurnitureVisualizationData}(XmlData_1.XmlData);exports.FurnitureVisualizationData=FurnitureVisualizationData},1091:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(31),__webpack_require__(15),__webpack_require__(19),__webpack_require__(204),__webpack_require__(25),__webpack_require__(11),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Landscape=void 0;var PIXI=__importStar(__webpack_require__(59)),RoomObject_1=__webpack_require__(203),getMaskId_1=__webpack_require__(531),Landscape=function(_RoomObject_1$RoomObj){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Landscape,_RoomObject_1$RoomObj);var _super=_createSuper(Landscape);function Landscape(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Landscape),(_this=_super.call(this))._wallHeight=0,_this._wallHeightWithZ=0,_this._masks=new Map,_this._unsubscribe=void 0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Landscape,[{key:"color",get:function get(){return this._color},set:function set(value){this._color=value,this._updateLandscapeImages()}},{key:"leftTexture",get:function get(){return this._leftTexturePromise},set:function set(value){var _this2=this;this._leftTexturePromise=value,Promise.resolve(this._leftTexturePromise).then((function(value){_this2._leftTexture=value,_this2._updateLandscapeImages()}))}},{key:"rightTexture",get:function get(){return this._rightTexturePromise},set:function set(value){var _this3=this;this._rightTexturePromise=value,Promise.resolve(this._rightTexturePromise).then((function(value){_this3._rightTexture=value,_this3._updateLandscapeImages()}))}},{key:"update",value:function update(data){this._masks=data.masks,this._wallHeightWithZ=data.wallHeight,this._updateLandscapeImages()}},{key:"destroyed",value:function destroyed(){var _a,_b;this._unsubscribe&&this._unsubscribe(),null===(_a=this._container)||void 0===_a||_a.destroy(),null===(_b=this._partNode)||void 0===_b||_b.remove()}},{key:"registered",value:function registered(){this._partNode=this.roomVisualization.addPart(this),this._updateLandscapeImages()}},{key:"_createDefaultMask",value:function _createDefaultMask(){return new PIXI.Graphics}},{key:"_getMask",value:function _getMask(direction,roomX,roomY){var maskId=getMaskId_1.getMaskId(direction,roomX,roomY);if(null!=maskId){var mask=this._masks.get(maskId);if(null!=mask)return mask}return this._createDefaultMask()}},{key:"_updateLandscapeImages",value:function _updateLandscapeImages(){var _a,_this4=this;if(this.mounted){var meta=function getWallCollectionMeta(parsedTileMap){var _getStartingWall=function getStartingWall(parsedTileMap){var startY=parsedTileMap.length-1,y=startY,x=0;for(;;){var current=getTile(parsedTileMap,x,y);if(null!=current&&"wall"===current.type)return{x:x,y:y};--y<0&&(y=startY,x++)}}(parsedTileMap),startX=_getStartingWall.x,startY=_getStartingWall.y,x=startX,y=startY,done=!1,meta=void 0,arr=[];for(;;){var currentWall=getTile(parsedTileMap,x,y),topWallPosition={x:x,y:y-1},rightWallPosition={x:x+1,y:y},topWall=getTile(parsedTileMap,topWallPosition.x,topWallPosition.y),rightWall=getTile(parsedTileMap,rightWallPosition.x,rightWallPosition.y);if(null==currentWall||"wall"!==currentWall.type&&"door"!==currentWall.type)break;var updateMeta=function updateMeta(newMeta){if(null!=meta)return null!=meta&&meta.type!==newMeta.type?(arr.push(meta),void(meta=newMeta)):void(meta=Object.assign({},meta,{level:newMeta.level,end:newMeta.end}));meta=newMeta};if("wall"===currentWall.type)switch(currentWall.kind){case"rowWall":case"innerCorner":updateMeta({type:"rowWall",start:y,end:y-1,level:x});break;case"colWall":case"outerCorner":updateMeta({type:"colWall",start:x,end:x+(done?0:1),level:y})}else"door"===currentWall.type&&updateMeta({type:"rowWall",start:y,end:y-1,level:x});if(done){null!=meta&&arr.push(meta);break}null==topWall||"wall"!==topWall.type&&"door"!==topWall.type?null!=rightWall&&"wall"===rightWall.type?(x=rightWallPosition.x,y=rightWallPosition.y):done=!0:(x=topWallPosition.x,y=topWallPosition.y)}return arr}(this.tilemap.getParsedTileTypes());null===(_a=this._container)||void 0===_a||_a.destroy();var container=new PIXI.Container,offsetRow=0,offsetCol=0;meta.forEach((function(meta){var width=32*Math.abs(meta.end-meta.start),wall=new PIXI.Container,colored=new PIXI.TilingSprite(PIXI.Texture.WHITE,width,_this4._wallHeightWithZ);if(null!=_this4.color?colored.tint=parseInt(_this4.color.slice(1),16):colored.tint=16777215,colored.y=-_this4._wallHeightWithZ,wall.addChild(colored),"rowWall"===meta.type){var maskLevel=_this4.landscapeContainer.getMaskLevel(meta.level,0),mask=_this4._getMask(2,maskLevel.roomX,0);wall.mask=mask;var position=_this4.geometry.getPosition(meta.level+1,meta.start,0);if(wall.transform.setFromMatrix(new PIXI.Matrix(1,-.5,0,1)),wall.x=position.x,wall.y=position.y+16,null!=_this4._leftTexture){var graphics=new PIXI.TilingSprite(_this4._leftTexture,width,_this4._leftTexture.height);graphics.tilePosition=new PIXI.Point(offsetRow,0),graphics.texture=_this4._leftTexture,graphics.x=0,graphics.y=-_this4._leftTexture.height,wall.addChild(graphics)}offsetRow+=width}else if("colWall"===meta.type){var _maskLevel=_this4.landscapeContainer.getMaskLevel(0,meta.level),_mask=_this4._getMask(4,0,_maskLevel.roomY);wall.mask=_mask;var _position=_this4.geometry.getPosition(meta.start+1,meta.level+1,0);if(wall.transform.setFromMatrix(new PIXI.Matrix(1,.5,0,1)),wall.x=_position.x+32,wall.y=_position.y,null!=_this4._rightTexture){var _graphics=new PIXI.TilingSprite(_this4._rightTexture,width,_this4._rightTexture.height);_graphics.texture=_this4._rightTexture,_graphics.x=0,_graphics.y=-_this4._rightTexture.height,_graphics.tilePosition=new PIXI.Point(offsetCol,0),wall.addChild(_graphics)}offsetCol+=width}container.addChild(wall)})),this._container=container,this.roomVisualization.landscapeContainer.addChild(container)}}}]),Landscape}(RoomObject_1.RoomObject);exports.Landscape=Landscape;var getTile=function getTile(parsedTileMap,x,y){var row=parsedTileMap[y];if(null!=row)return row[x]}},1092:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureRoomVisualization=void 0;var FurnitureRoomVisualization=function(){function FurnitureRoomVisualization(_container){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FurnitureRoomVisualization),this._container=_container}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureRoomVisualization,[{key:"container",get:function get(){return this._container}},{key:"addMask",value:function addMask(){return{remove:function remove(){},update:function update(){},sprite:null}}}],[{key:"fromContainer",value:function fromContainer(container){return new FurnitureRoomVisualization(container)}}]),FurnitureRoomVisualization}();exports.FurnitureRoomVisualization=FurnitureRoomVisualization},1093:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(25),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(33),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureGuildCustomizedVisualization=void 0;var getIntFromHex_1=__webpack_require__(1094),AnimatedFurnitureVisualization_1=__webpack_require__(243),FurnitureGuildCustomizedVisualization=function(_FurnitureVisualizati){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FurnitureGuildCustomizedVisualization,_FurnitureVisualizati);var _super=_createSuper(FurnitureGuildCustomizedVisualization);function FurnitureGuildCustomizedVisualization(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,FurnitureGuildCustomizedVisualization),(_this=_super.call(this))._base=new AnimatedFurnitureVisualization_1.AnimatedFurnitureVisualization,_this._refreshModifier=!1,_this.primaryColor=_this._normalizeColor(options.primaryColor),_this.secondaryColor=_this._normalizeColor(options.secondaryColor),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureGuildCustomizedVisualization,[{key:"primaryColor",get:function get(){return this._primaryColor},set:function set(value){this._primaryColor=value,this._refreshModifier=!0}},{key:"secondaryColor",get:function get(){return this._secondaryColor},set:function set(value){this._secondaryColor=value,this._refreshModifier=!0}},{key:"isAnimated",value:function isAnimated(){return!0}},{key:"update",value:function update(){this._base.update()}},{key:"setView",value:function setView(view){_get(_getPrototypeOf(FurnitureGuildCustomizedVisualization.prototype),"setView",this).call(this,view),this._base.setView(view)}},{key:"destroy",value:function destroy(){this._base.destroy()}},{key:"updateFrame",value:function updateFrame(frame){this._refreshModifier&&(this._refreshModifier=!1,this._updateModifier()),this._base.updateFrame(frame)}},{key:"updateDirection",value:function updateDirection(direction){this._base.updateDirection(direction)}},{key:"updateAnimation",value:function updateAnimation(animation){this._base.updateAnimation(animation)}},{key:"_updateModifier",value:function _updateModifier(){var _this2=this;this._base.modifier=function(part){return _this2._modifyPart(part)}}},{key:"_normalizeColor",value:function _normalizeColor(color){if(null!=color&&0!==color.length)return"#"===color[0]?color.slice(1):color}},{key:"_modifyPart",value:function _modifyPart(part){switch(part.tag){case FurnitureGuildCustomizedVisualization.PRIMARY_COLOR_TAG:null!=this._primaryColor&&part.setColor(getIntFromHex_1.getIntFromHex(this._primaryColor));break;case FurnitureGuildCustomizedVisualization.SECONDARY_COLOR_TAG:null!=this._secondaryColor&&part.setColor(getIntFromHex_1.getIntFromHex(this._secondaryColor))}return part}}]),FurnitureGuildCustomizedVisualization}(__webpack_require__(206).FurnitureVisualization);exports.FurnitureGuildCustomizedVisualization=FurnitureGuildCustomizedVisualization,FurnitureGuildCustomizedVisualization.PRIMARY_COLOR_TAG="COLOR1",FurnitureGuildCustomizedVisualization.SECONDARY_COLOR_TAG="COLOR2"},1094:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(204),__webpack_require__(67),__webpack_require__(28),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIntFromHex=void 0,exports.getIntFromHex=function getIntFromHex(str){return parseInt(str.replace(/^#/,""),16)}},1095:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(15),__webpack_require__(19),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(33),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasicFurnitureVisualization=exports.StaticFurnitureVisualization=void 0;var StaticFurnitureVisualization=function(_FurnitureVisualizati){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(StaticFurnitureVisualization,_FurnitureVisualizati);var _super=_createSuper(StaticFurnitureVisualization);function StaticFurnitureVisualization(){var _this;return _classCallCheck(this,StaticFurnitureVisualization),(_this=_super.apply(this,arguments))._sprites=[],_this._refreshFurniture=!1,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(StaticFurnitureVisualization,[{key:"setView",value:function setView(view){_get(_getPrototypeOf(StaticFurnitureVisualization.prototype),"setView",this).call(this,view),this._update()}},{key:"updateDirection",value:function updateDirection(direction){this._currentDirection!==direction&&(this._currentDirection=direction,this._update())}},{key:"updateAnimation",value:function updateAnimation(animation){this._animationId!==animation&&(this._animationId=animation,this._update())}},{key:"updateFrame",value:function updateFrame(){this.mounted&&this._refreshFurniture&&(this._refreshFurniture=!1,this._update())}},{key:"update",value:function update(){this._update()}},{key:"destroy",value:function destroy(){}},{key:"_update",value:function _update(){null!=this._currentDirection&&(this.view.setDisplayAnimation(this._animationId),this.view.setDisplayDirection(this._currentDirection),this.view.updateDisplay(),this.view.getLayers().forEach((function(layer){return layer.setCurrentFrameIndex(0)})))}}]),StaticFurnitureVisualization}(__webpack_require__(206).FurnitureVisualization);exports.StaticFurnitureVisualization=StaticFurnitureVisualization,exports.BasicFurnitureVisualization=StaticFurnitureVisualization},1096:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(5),__webpack_require__(71),__webpack_require__(35),__webpack_require__(57),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(33),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureBottleVisualization=void 0;var AnimatedFurnitureVisualization_1=__webpack_require__(243),FurnitureBottleVisualization=function(_FurnitureVisualizati){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FurnitureBottleVisualization,_FurnitureVisualizati);var _super=_createSuper(FurnitureBottleVisualization);function FurnitureBottleVisualization(){var _this;return _classCallCheck(this,FurnitureBottleVisualization),(_this=_super.apply(this,arguments))._base=new AnimatedFurnitureVisualization_1.AnimatedFurnitureVisualization,_this._stateQueue=[],_this._running=!1,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureBottleVisualization,[{key:"isAnimated",value:function isAnimated(){return!0}},{key:"destroy",value:function destroy(){this._base.destroy()}},{key:"update",value:function update(){this._base.update()}},{key:"setView",value:function setView(view){_get(_getPrototypeOf(FurnitureBottleVisualization.prototype),"setView",this).call(this,view),this._base.setView(view)}},{key:"updateFrame",value:function updateFrame(frame){if(this._stateQueue.length>0&&this._base.isLastFramePlayedForLayer(0)){var nextAnimation=this._stateQueue.shift();null!=nextAnimation&&this._base.setCurrentAnimation(nextAnimation)}this._base.updateFrame(frame)}},{key:"updateDirection",value:function updateDirection(direction){this._base.updateDirection(direction)}},{key:"updateAnimation",value:function updateAnimation(animation){if(animation===FurnitureBottleVisualization.ANIMATION_ID_ROLL.toString()&&!this._running)return this._running=!0,void this._stateQueue.push(FurnitureBottleVisualization.ANIMATION_ID_ROLL);var animationNumber=Number(animation);if(animationNumber>=0&&animationNumber<=7){if(this._running)return this._running=!1,this._stateQueue.push(FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW1),this._stateQueue.push(FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW2+animationNumber),void this._stateQueue.push(animationNumber);this._base.updateAnimation(animation)}}}]),FurnitureBottleVisualization}(__webpack_require__(206).FurnitureVisualization);exports.FurnitureBottleVisualization=FurnitureBottleVisualization,FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW1=20,FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW2=9,FurnitureBottleVisualization.ANIMATION_ID_ROLL=-1},1098:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Issue28",(function(){return Issue28})),__webpack_require__.d(__webpack_exports__,"Issue31",(function(){return Issue31})),__webpack_require__.d(__webpack_exports__,"Issue38",(function(){return Issue38})),__webpack_require__.d(__webpack_exports__,"IssueWithAvatarEventsNotHandled",(function(){return IssueWithAvatarEventsNotHandled})),__webpack_require__.d(__webpack_exports__,"IssueWithItemNotRenderingProperly",(function(){return IssueWithItemNotRenderingProperly})),__webpack_require__.d(__webpack_exports__,"Issue56",(function(){return Issue56})),__webpack_require__.d(__webpack_exports__,"IssueZOrder",(function(){return IssueZOrder}));__webpack_require__(153),__webpack_require__(20),__webpack_require__(11);var pixi_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(75),_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39),_common_createShroom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10);__webpack_exports__.default={title:"Issues"};var Issue28=function Issue28(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref){var application=_ref.application,shroom=_ref.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Room.create(shroom,{tilemap:"\n            xxxxxxxxxxxx\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxx000000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxxxxxxxxxx\n            xxxxxxxxxxxx\n            "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:2,roomX:3,roomY:5,roomZ:0});room.onTileClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Position"),room.addRoomObject(avatar),application.stage.addChild(room)}))},Issue31=function Issue31(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref2){var application=_ref2.application,shroom=_ref2.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Room.create(shroom,{tilemap:"\n            xxxxxxxxxxxx\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxx000000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxx00000000\n            xxxxxxxxxxxx\n            xxxxxxxxxxxx\n            "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:2,roomX:3,roomY:5,roomZ:0}),furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({type:"plant_pineapple",direction:0,roomX:4,roomY:1,roomZ:0}),furniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({type:"plant_pineapple",direction:0,roomX:4,roomY:1,roomZ:.5}),furniture3=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({type:"plant_pineapple",direction:0,roomX:4,roomY:1,roomZ:1}),furniture4=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({id:160,direction:0,roomX:5,roomY:1,roomZ:0}),furniture5=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({type:"plant_pineapple",direction:0,roomX:5,roomY:1,roomZ:.5}),furniture6=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({id:160,direction:0,roomX:5,roomY:1,roomZ:1});room.onTileClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Position"),room.addRoomObject(avatar),room.addRoomObject(furniture3),room.addRoomObject(furniture1),room.addRoomObject(furniture2),room.addRoomObject(furniture4),room.addRoomObject(furniture5),room.addRoomObject(furniture6),application.stage.addChild(room)}))},Issue38=function Issue38(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref3){var application=_ref3.application,shroom=_ref3.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Room.create(shroom,{tilemap:"\n            xxxxxxxxxxxx\n            xxxxx000xxxx\n            xxxxx000xxxx\n            x00000000000\n            x00000000000\n            x00000000000\n            xxxxx000xxxx\n            xxxxx000xxxx\n            xxxxxxxxxxxx\n            "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:2,roomX:3,roomY:5,roomZ:0});room.onTileClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Position"),room.addRoomObject(avatar),application.stage.addChild(room)}))},IssueWithAvatarEventsNotHandled=function IssueWithAvatarEventsNotHandled(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref4){var application=_ref4.application,shroom=_ref4.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Room.create(shroom,{tilemap:"\n            xxxxxxxxxxxx\n            xxxxx000xxxx\n            xxxxx000xxxx\n            x00000000000\n            x00000000000\n            x00000000000\n            xxxxx000xxxx\n            xxxxx000xxxx\n            xxxxxxxxxxxx\n            "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:2,roomX:5,roomY:6,roomZ:0}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({type:"edicehc",direction:0,roomX:4,roomY:5,roomZ:0});avatar.onClick=function(event){event.stopPropagation(),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Avatar Clicked")(event)},avatar.onDoubleClick=function(event){event.stopPropagation(),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Avatar Double Clicked")(event)},furniture.onClick=function(event){event.stopPropagation(),furniture.animation="-1",setTimeout((function(){furniture.animation=void 0}),3500),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Furniture Clicked")(event)},avatar.onPointerDown=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Avatar Pointer Down"),avatar.onPointerUp=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Avatar Pointer Up"),furniture.onPointerDown=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Furniture Pointer Down"),furniture.onPointerUp=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Furniture Pointer Up"),room.onTileClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Position"),room.addRoomObject(furniture),room.addRoomObject(avatar),application.stage.addChild(room)}))},IssueWithItemNotRenderingProperly=function IssueWithItemNotRenderingProperly(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref5){var application=_ref5.application,shroom=_ref5.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Room.create(shroom,{tilemap:"\n            xxxxx\n            x0000\n            x0000\n            x0000\n            x0000\n            "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({type:"hc21_2",direction:0,roomX:1,roomY:1,roomZ:0});room.onTileClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_5__.action)("Position"),room.addRoomObject(furniture),application.stage.addChild(room)}))},Issue56=function Issue56(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref6){var application=_ref6.application,shroom=_ref6.shroom,storyContainer=_ref6.container,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Room.create(shroom,{tilemap:"\n            xxxxxxxxxxxx\n            xxxxx000xxxx\n            xxxxx000xxxx\n            x00000000000\n            x00000000000\n            x00000000000\n            xxxxx000xxxx\n            xxxxx000xxxx\n            xxxxxxxxxxxx\n            "}),container=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.RoomCamera.forScreen(room);application.stage.addChild(container);var window=new pixi_js__WEBPACK_IMPORTED_MODULE_3__.c;window.beginFill(16777215),window.drawRect(0,0,200,400),window.endFill(),window.interactive=!0,application.stage.addChild(window);var child=document.createElement("div");child.style.width="200px",child.style.height="64px",child.style.backgroundColor="#ffffff",child.style.position="absolute",child.style.left="200px",child.style.top="50px",storyContainer.appendChild(child)}))},IssueZOrder=function IssueZOrder(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref7){var application=_ref7.application,shroom=_ref7.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Room.create(shroom,{tilemap:"\n        xxxxxx\n        x00000\n        x00000\n        x00000\n        x00000\n        x00000\n      "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.FloorFurniture({roomX:1,roomY:2,roomZ:0,direction:2,type:"throne"}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_4__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:2,roomX:1,roomY:2,roomZ:0});room.addRoomObject(furniture),room.addRoomObject(avatar),setTimeout((function(){console.log(room.children.map((function(child){return[child,child.zIndex]})))}),500),application.stage.addChild(room)}))};Issue28.parameters=Object.assign({storySource:{source:'function Issue28() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n            xxxxxxxxxxxx\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxx000000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxxxxxxxxxx\r\n            xxxxxxxxxxxx\r\n            `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      direction: 2,\r\n      roomX: 3,\r\n      roomY: 5,\r\n      roomZ: 0,\r\n    });\r\n\r\n    room.onTileClick = action("Position");\r\n\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Issue28.parameters),Issue31.parameters=Object.assign({storySource:{source:'function Issue31() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n            xxxxxxxxxxxx\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxx000000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxx00000000\r\n            xxxxxxxxxxxx\r\n            xxxxxxxxxxxx\r\n            `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      direction: 2,\r\n      roomX: 3,\r\n      roomY: 5,\r\n      roomZ: 0,\r\n    });\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      type: "plant_pineapple",\r\n      direction: 0,\r\n      roomX: 4,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n    });\r\n    const furniture2 = new FloorFurniture({\r\n      type: "plant_pineapple",\r\n      direction: 0,\r\n      roomX: 4,\r\n      roomY: 1,\r\n      roomZ: 0.5,\r\n    });\r\n    const furniture3 = new FloorFurniture({\r\n      type: "plant_pineapple",\r\n      direction: 0,\r\n      roomX: 4,\r\n      roomY: 1,\r\n      roomZ: 1,\r\n    });\r\n\r\n    const furniture4 = new FloorFurniture({\r\n      id: 160,\r\n      direction: 0,\r\n      roomX: 5,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n    });\r\n    const furniture5 = new FloorFurniture({\r\n      type: "plant_pineapple",\r\n      direction: 0,\r\n      roomX: 5,\r\n      roomY: 1,\r\n      roomZ: 0.5,\r\n    });\r\n    const furniture6 = new FloorFurniture({\r\n      id: 160,\r\n      direction: 0,\r\n      roomX: 5,\r\n      roomY: 1,\r\n      roomZ: 1,\r\n    });\r\n\r\n    room.onTileClick = action("Position");\r\n\r\n    room.addRoomObject(avatar);\r\n    room.addRoomObject(furniture3);\r\n    room.addRoomObject(furniture1);\r\n    room.addRoomObject(furniture2);\r\n    room.addRoomObject(furniture4);\r\n    room.addRoomObject(furniture5);\r\n    room.addRoomObject(furniture6);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Issue31.parameters),Issue38.parameters=Object.assign({storySource:{source:'function Issue38() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n            xxxxxxxxxxxx\r\n            xxxxx000xxxx\r\n            xxxxx000xxxx\r\n            x00000000000\r\n            x00000000000\r\n            x00000000000\r\n            xxxxx000xxxx\r\n            xxxxx000xxxx\r\n            xxxxxxxxxxxx\r\n            `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      direction: 2,\r\n      roomX: 3,\r\n      roomY: 5,\r\n      roomZ: 0,\r\n    });\r\n\r\n    room.onTileClick = action("Position");\r\n\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Issue38.parameters),IssueWithAvatarEventsNotHandled.parameters=Object.assign({storySource:{source:'function IssueWithAvatarEventsNotHandled() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n            xxxxxxxxxxxx\r\n            xxxxx000xxxx\r\n            xxxxx000xxxx\r\n            x00000000000\r\n            x00000000000\r\n            x00000000000\r\n            xxxxx000xxxx\r\n            xxxxx000xxxx\r\n            xxxxxxxxxxxx\r\n            `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      direction: 2,\r\n      roomX: 5,\r\n      roomY: 6,\r\n      roomZ: 0,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      type: "edicehc",\r\n      direction: 0,\r\n      roomX: 4,\r\n      roomY: 5,\r\n      roomZ: 0,\r\n    });\r\n\r\n    avatar.onClick = (event) => {\r\n      event.stopPropagation();\r\n\r\n      action("Avatar Clicked")(event);\r\n    };\r\n\r\n    avatar.onDoubleClick = (event) => {\r\n      event.stopPropagation();\r\n\r\n      action("Avatar Double Clicked")(event);\r\n    };\r\n\r\n    furniture.onClick = (event) => {\r\n      event.stopPropagation();\r\n\r\n      furniture.animation = "-1";\r\n\r\n      setTimeout(() => {\r\n        furniture.animation = undefined;\r\n      }, 3500);\r\n\r\n      action("Furniture Clicked")(event);\r\n    };\r\n\r\n    avatar.onPointerDown = action("Avatar Pointer Down");\r\n    avatar.onPointerUp = action("Avatar Pointer Up");\r\n\r\n    furniture.onPointerDown = action("Furniture Pointer Down");\r\n    furniture.onPointerUp = action("Furniture Pointer Up");\r\n\r\n    room.onTileClick = action("Position");\r\n\r\n    room.addRoomObject(furniture);\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},IssueWithAvatarEventsNotHandled.parameters),IssueWithItemNotRenderingProperly.parameters=Object.assign({storySource:{source:'function IssueWithItemNotRenderingProperly() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n            xxxxx\r\n            x0000\r\n            x0000\r\n            x0000\r\n            x0000\r\n            `,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      type: "hc21_2",\r\n      direction: 0,\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n    });\r\n\r\n    room.onTileClick = action("Position");\r\n\r\n    room.addRoomObject(furniture);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},IssueWithItemNotRenderingProperly.parameters),Issue56.parameters=Object.assign({storySource:{source:'function Issue56() {\r\n  return createShroom(({ application, shroom, container: storyContainer }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n            xxxxxxxxxxxx\r\n            xxxxx000xxxx\r\n            xxxxx000xxxx\r\n            x00000000000\r\n            x00000000000\r\n            x00000000000\r\n            xxxxx000xxxx\r\n            xxxxx000xxxx\r\n            xxxxxxxxxxxx\r\n            `,\r\n    });\r\n\r\n    const container = RoomCamera.forScreen(room);\r\n    application.stage.addChild(container);\r\n\r\n    const window = new PIXI.Graphics();\r\n\r\n    window.beginFill(0xffffff);\r\n    window.drawRect(0, 0, 200, 400);\r\n    window.endFill();\r\n    window.interactive = true;\r\n\r\n    application.stage.addChild(window);\r\n\r\n    const child = document.createElement("div");\r\n    child.style.width = "200px";\r\n    child.style.height = "64px";\r\n    child.style.backgroundColor = "#ffffff";\r\n    child.style.position = "absolute";\r\n    child.style.left = "200px";\r\n    child.style.top = "50px";\r\n\r\n    storyContainer.appendChild(child);\r\n  });\r\n}'}},Issue56.parameters),IssueZOrder.parameters=Object.assign({storySource:{source:'function IssueZOrder() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxx\r\n        x00000\r\n        x00000\r\n        x00000\r\n        x00000\r\n        x00000\r\n      `,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 2,\r\n      roomZ: 0,\r\n      direction: 2,\r\n      type: "throne",\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      direction: 2,\r\n      roomX: 1,\r\n      roomY: 2,\r\n      roomZ: 0,\r\n    });\r\n\r\n    room.addRoomObject(furniture);\r\n    room.addRoomObject(avatar);\r\n\r\n    setTimeout(() => {\r\n      console.log(room.children.map((child) => [child, child.zIndex]));\r\n    }, 500);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},IssueZOrder.parameters)},1099:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultRoom",(function(){return DefaultRoom})),__webpack_require__.d(__webpack_exports__,"Stairs",(function(){return Stairs})),__webpack_require__.d(__webpack_exports__,"StairCorners",(function(){return StairCorners})),__webpack_require__.d(__webpack_exports__,"StairWalls",(function(){return StairWalls})),__webpack_require__.d(__webpack_exports__,"MultipleSubsequentStairs",(function(){return MultipleSubsequentStairs})),__webpack_require__.d(__webpack_exports__,"Holes",(function(){return Holes})),__webpack_require__.d(__webpack_exports__,"AngledRoom",(function(){return AngledRoom})),__webpack_require__.d(__webpack_exports__,"HiddenWalls",(function(){return HiddenWalls})),__webpack_require__.d(__webpack_exports__,"TileTexture",(function(){return TileTexture})),__webpack_require__.d(__webpack_exports__,"WallTexture",(function(){return WallTexture})),__webpack_require__.d(__webpack_exports__,"CustomLook",(function(){return CustomLook})),__webpack_require__.d(__webpack_exports__,"CustomColor",(function(){return CustomColor})),__webpack_require__.d(__webpack_exports__,"Door",(function(){return Door})),__webpack_require__.d(__webpack_exports__,"LandscapeColor",(function(){return LandscapeColor})),__webpack_require__.d(__webpack_exports__,"RoomModelTest1",(function(){return RoomModelTest1})),__webpack_require__.d(__webpack_exports__,"RoomModelTest2",(function(){return RoomModelTest2})),__webpack_require__.d(__webpack_exports__,"OtherRoomShape",(function(){return OtherRoomShape})),__webpack_require__.d(__webpack_exports__,"HideTileCursor",(function(){return HideTileCursor})),__webpack_require__.d(__webpack_exports__,"TestTileClick",(function(){return TestTileClick}));__webpack_require__(11);var _tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_common_createShroom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(157),_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3__),DefaultRoom=function DefaultRoom(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref){var application=_ref.application,shroom=_ref.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxx\n        x00\n        x00\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},Stairs=function Stairs(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref2){var application=_ref2.application,shroom=_ref2.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxx\n        x1100\n        x1100\n        x0000\n        x0000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},StairCorners=function StairCorners(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref3){var application=_ref3.application,shroom=_ref3.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxx\n        x000000\n        x000000\n        x001100\n        x001100\n        x000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},StairWalls=function StairWalls(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref4){var application=_ref4.application,shroom=_ref4.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxxxx\n        x44321000\n        x44321000\n        x33000000\n        x22000000\n        x11000000\n        x00000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},MultipleSubsequentStairs=function MultipleSubsequentStairs(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref5){var application=_ref5.application,shroom=_ref5.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxx\n        x22100\n        x22100\n        x11000\n        x00000\n        x00000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},Holes=function Holes(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref6){var application=_ref6.application,shroom=_ref6.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxx\n        x00000\n        x0x0x0\n        x00x00\n        x0x0x0\n        x00000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},AngledRoom=function AngledRoom(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref7){var application=_ref7.application,shroom=_ref7.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxx\n        xxxx000\n        xxxx000\n        xxxx000\n        x000000\n        x000000\n        x000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},HiddenWalls=function HiddenWalls(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref8){var application=_ref8.application,shroom=_ref8.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxx\n        xxxx000\n        xxxx000\n        xxxx000\n        x000000\n        x000000\n        x000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.hideWalls=!0,application.stage.addChild(room)}))},TileTexture=function TileTexture(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref9){var application=_ref9.application,shroom=_ref9.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxx\n        xxxx000\n        xxxx000\n        xxxx000\n        x000000\n        x000000\n        x000000\n      "});room.floorTexture=Object(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.loadRoomTexture)(_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3___default.a),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},WallTexture=function WallTexture(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref10){var application=_ref10.application,shroom=_ref10.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxx\n        xxxx000\n        xxxx000\n        xxxx000\n        x000000\n        x000000\n        x000000\n      "});room.wallTexture=Object(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.loadRoomTexture)(_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3___default.a),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},CustomLook=function CustomLook(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref11){var application=_ref11.application,shroom=_ref11.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxxxx\n        xxxx11100\n        xxxx11100\n        xxxx00000\n        x00000000\n        000000000\n        x00000000\n      "}),tileTexture=Object(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.loadRoomTexture)(_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3___default.a);room.wallTexture=tileTexture,room.floorTexture=tileTexture,room.wallHeight=128,room.tileHeight=2,room.wallDepth=2,room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},CustomColor=function CustomColor(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref12){var application=_ref12.application,shroom=_ref12.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxxxxxxx\n        xxxx11100000\n        xxxx11100000\n        xxxx00000000\n        x00000000000\n        x00000000000\n        x00000000000\n        x00000000000\n        x00000000000\n        x00000000000\n        x00000000000\n      "}),tileTexture=Object(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.loadRoomTexture)(_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3___default.a);room.wallHeight=128,room.tileHeight=4,room.wallDepth=10,room.wallColor="#f5e4c1",room.floorColor="#eeeeee",room.wallTexture=tileTexture,room.floorTexture=tileTexture,room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},Door=function Door(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref13){var application=_ref13.application,shroom=_ref13.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxx\n        x0000\n        00000\n        x0000\n        x0000\n      "}),tileTexture=Object(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.loadRoomTexture)(_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3___default.a);room.wallTexture=tileTexture,room.floorTexture=tileTexture,room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},LandscapeColor=function LandscapeColor(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref14){var application=_ref14.application,shroom=_ref14.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxxxx\n        xxxxx1100\n        xxx111100\n        xx1111100\n        x11111100\n        xx1111100\n        xx1111000\n        xx0000000\n        xx0000000\n      "}),tileTexture=Object(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.loadRoomTexture)(_assets_tile2_png__WEBPACK_IMPORTED_MODULE_3___default.a);room.wallTexture=tileTexture,room.floorTexture=tileTexture,room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;var landscape=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Landscape;landscape.color="#ffcccc";var window1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.WallFurniture({roomX:1,roomY:6,direction:2,offsetX:16,offsetY:30,type:"window_skyscraper"});room.onActiveWallChange.subscribe((function(value){null!=value?(window1.alpha=1,window1.roomX=value.roomX,window1.roomY=value.roomY,window1.offsetX=value.offsetX,window1.offsetY=value.offsetY,window1.direction="l"===value.wall?2:4):window1.alpha=0})),room.addRoomObject(landscape),room.addRoomObject(window1),application.stage.addChild(room)}))},RoomModelTest1=function RoomModelTest1(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref15){var application=_ref15.application,shroom=_ref15.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n      xxxxxxxxxxxxxxxxxxx\n      xxxxxxx222222222222\n      xxxxxxx222222222222\n      xxxxxxx222222222222\n      xxxxxxx222222222222\n      xxxxxxx222222222222\n      xxxxxxx222222222222\n      xxxxxxx22222222xxxx\n      xxxxxxx11111111xxxx\n      x222221111111111111\n      x222221111111111111\n      x222221111111111111\n      x222221111111111111\n      x222221111111111111\n      x222221111111111111\n      x222221111111111111\n      x222221111111111111\n      x2222xx11111111xxxx\n      x2222xx00000000xxxx\n      x2222xx000000000000\n      x2222xx000000000000\n      x2222xx000000000000\n      x2222xx000000000000\n      22222xx000000000000\n      x2222xx000000000000\n      xxxxxxxxxxxxxxxxxxx\n      "});application.stage.addChild(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.RoomCamera.forScreen(room))}))},RoomModelTest2=function RoomModelTest2(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref16){var application=_ref16.application,shroom=_ref16.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n      xxxxxxxxxxxxxxxxxxxx\n      x222221111111111111x\n      x222221111111111111x\n      2222221111111111111x\n      x222221111111111111x\n      x222221111111111111x\n      x222221111111111111x\n      xxxxxxxx1111xxxxxxxx\n      xxxxxxxx0000xxxxxxxx\n      x000000x0000x000000x\n      x000000x0000x000000x\n      x00000000000x000000x\n      x00000000000x000000x\n      x000000000000000000x\n      x000000000000000000x\n      xxxxxxxx00000000000x\n      x000000x00000000000x\n      x000000x0000xxxxxxxx\n      x00000000000x000000x\n      x00000000000x000000x\n      x00000000000x000000x\n      x00000000000x000000x\n      xxxxxxxx0000x000000x\n      x000000x0000x000000x\n      x000000x0000x000000x\n      x000000000000000000x\n      x000000000000000000x\n      x000000000000000000x\n      x000000000000000000x\n      xxxxxxxxxxxxxxxxxxxx\n      "});application.stage.addChild(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.RoomCamera.forScreen(room))}))},OtherRoomShape=function OtherRoomShape(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref17){var application=_ref17.application,shroom=_ref17.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxx\n        xxxx000\n        xxxx000\n        xxxxx00\n        xxxxx00\n        0000000\n        x000000\n      "});application.stage.addChild(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.RoomCamera.forScreen(room))}))},HideTileCursor=function HideTileCursor(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref18){var application=_ref18.application,shroom=_ref18.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxx\n        x000000\n        x000000\n        x000000\n      "});room.hideTileCursor=!0,application.stage.addChild(room)}))},TestTileClick=function TestTileClick(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref19){var application=_ref19.application,shroom=_ref19.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:"\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n      "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.FloorFurniture({roomX:5,roomY:5,roomZ:0,type:"club_sofa",direction:2}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Avatar({look:"hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",direction:3,roomX:1,roomY:1,roomZ:0,headDirection:3});room.onTileClick=function(event){console.log("ROOM",event),avatar.walk(event.roomX,event.roomY,event.roomZ)},room.addRoomObject(avatar),room.addRoomObject(furniture),application.stage.addChild(room)}))};__webpack_exports__.default={title:"Room / General"},DefaultRoom.parameters=Object.assign({storySource:{source:"function DefaultRoom() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxx\r\n        x00\r\n        x00\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},DefaultRoom.parameters),Stairs.parameters=Object.assign({storySource:{source:"function Stairs() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxx\r\n        x1100\r\n        x1100\r\n        x0000\r\n        x0000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},Stairs.parameters),StairCorners.parameters=Object.assign({storySource:{source:"function StairCorners() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxx\r\n        x000000\r\n        x000000\r\n        x001100\r\n        x001100\r\n        x000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},StairCorners.parameters),StairWalls.parameters=Object.assign({storySource:{source:"function StairWalls() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxxxx\r\n        x44321000\r\n        x44321000\r\n        x33000000\r\n        x22000000\r\n        x11000000\r\n        x00000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},StairWalls.parameters),MultipleSubsequentStairs.parameters=Object.assign({storySource:{source:"function MultipleSubsequentStairs() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxx\r\n        x22100\r\n        x22100\r\n        x11000\r\n        x00000\r\n        x00000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},MultipleSubsequentStairs.parameters),Holes.parameters=Object.assign({storySource:{source:"function Holes() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxx\r\n        x00000\r\n        x0x0x0\r\n        x00x00\r\n        x0x0x0\r\n        x00000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},Holes.parameters),AngledRoom.parameters=Object.assign({storySource:{source:"function AngledRoom() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxx\r\n        xxxx000\r\n        xxxx000\r\n        xxxx000\r\n        x000000\r\n        x000000\r\n        x000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},AngledRoom.parameters),HiddenWalls.parameters=Object.assign({storySource:{source:"function HiddenWalls() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxx\r\n        xxxx000\r\n        xxxx000\r\n        xxxx000\r\n        x000000\r\n        x000000\r\n        x000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.hideWalls = true;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},HiddenWalls.parameters),TileTexture.parameters=Object.assign({storySource:{source:"function TileTexture() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxx\r\n        xxxx000\r\n        xxxx000\r\n        xxxx000\r\n        x000000\r\n        x000000\r\n        x000000\r\n      `,\r\n    });\r\n\r\n    room.floorTexture = loadRoomTexture(tile);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},TileTexture.parameters),WallTexture.parameters=Object.assign({storySource:{source:"function WallTexture() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxx\r\n        xxxx000\r\n        xxxx000\r\n        xxxx000\r\n        x000000\r\n        x000000\r\n        x000000\r\n      `,\r\n    });\r\n\r\n    room.wallTexture = loadRoomTexture(tile);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},WallTexture.parameters),CustomLook.parameters=Object.assign({storySource:{source:"function CustomLook() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxxxx\r\n        xxxx11100\r\n        xxxx11100\r\n        xxxx00000\r\n        x00000000\r\n        000000000\r\n        x00000000\r\n      `,\r\n    });\r\n\r\n    const tileTexture = loadRoomTexture(tile);\r\n    room.wallTexture = tileTexture;\r\n    room.floorTexture = tileTexture;\r\n\r\n    room.wallHeight = 128;\r\n    room.tileHeight = 2;\r\n    room.wallDepth = 2;\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},CustomLook.parameters),CustomColor.parameters=Object.assign({storySource:{source:'function CustomColor() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxxxxxxx\r\n        xxxx11100000\r\n        xxxx11100000\r\n        xxxx00000000\r\n        x00000000000\r\n        x00000000000\r\n        x00000000000\r\n        x00000000000\r\n        x00000000000\r\n        x00000000000\r\n        x00000000000\r\n      `,\r\n    });\r\n\r\n    const tileTexture = loadRoomTexture(tile);\r\n\r\n    room.wallHeight = 128;\r\n    room.tileHeight = 4;\r\n    room.wallDepth = 10;\r\n\r\n    room.wallColor = "#f5e4c1";\r\n    room.floorColor = "#eeeeee";\r\n    room.wallTexture = tileTexture;\r\n    room.floorTexture = tileTexture;\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},CustomColor.parameters),Door.parameters=Object.assign({storySource:{source:"function Door() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxx\r\n        x0000\r\n        00000\r\n        x0000\r\n        x0000\r\n      `,\r\n    });\r\n\r\n    const tileTexture = loadRoomTexture(tile);\r\n    room.wallTexture = tileTexture;\r\n    room.floorTexture = tileTexture;\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},Door.parameters),LandscapeColor.parameters=Object.assign({storySource:{source:'function LandscapeColor() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxxxx\r\n        xxxxx1100\r\n        xxx111100\r\n        xx1111100\r\n        x11111100\r\n        xx1111100\r\n        xx1111000\r\n        xx0000000\r\n        xx0000000\r\n      `,\r\n    });\r\n\r\n    const tileTexture = loadRoomTexture(tile);\r\n    room.wallTexture = tileTexture;\r\n    room.floorTexture = tileTexture;\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    const landscape = new Landscape();\r\n    landscape.color = "#ffcccc";\r\n\r\n    const window1 = new WallFurniture({\r\n      roomX: 1,\r\n      roomY: 6,\r\n      direction: 2,\r\n      offsetX: 16,\r\n      offsetY: 30,\r\n      type: "window_skyscraper",\r\n    });\r\n\r\n    room.onActiveWallChange.subscribe((value) => {\r\n      if (value == null) {\r\n        window1.alpha = 0;\r\n        return;\r\n      }\r\n\r\n      window1.alpha = 1;\r\n      window1.roomX = value.roomX;\r\n      window1.roomY = value.roomY;\r\n      window1.offsetX = value.offsetX;\r\n      window1.offsetY = value.offsetY;\r\n      window1.direction = value.wall === "l" ? 2 : 4;\r\n    });\r\n\r\n    room.addRoomObject(landscape);\r\n    room.addRoomObject(window1);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},LandscapeColor.parameters),RoomModelTest1.parameters=Object.assign({storySource:{source:"function RoomModelTest1() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n      xxxxxxxxxxxxxxxxxxx\r\n      xxxxxxx222222222222\r\n      xxxxxxx222222222222\r\n      xxxxxxx222222222222\r\n      xxxxxxx222222222222\r\n      xxxxxxx222222222222\r\n      xxxxxxx222222222222\r\n      xxxxxxx22222222xxxx\r\n      xxxxxxx11111111xxxx\r\n      x222221111111111111\r\n      x222221111111111111\r\n      x222221111111111111\r\n      x222221111111111111\r\n      x222221111111111111\r\n      x222221111111111111\r\n      x222221111111111111\r\n      x222221111111111111\r\n      x2222xx11111111xxxx\r\n      x2222xx00000000xxxx\r\n      x2222xx000000000000\r\n      x2222xx000000000000\r\n      x2222xx000000000000\r\n      x2222xx000000000000\r\n      22222xx000000000000\r\n      x2222xx000000000000\r\n      xxxxxxxxxxxxxxxxxxx\r\n      `,\r\n    });\r\n\r\n    application.stage.addChild(RoomCamera.forScreen(room));\r\n  });\r\n}"}},RoomModelTest1.parameters),RoomModelTest2.parameters=Object.assign({storySource:{source:"function RoomModelTest2() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n      xxxxxxxxxxxxxxxxxxxx\r\n      x222221111111111111x\r\n      x222221111111111111x\r\n      2222221111111111111x\r\n      x222221111111111111x\r\n      x222221111111111111x\r\n      x222221111111111111x\r\n      xxxxxxxx1111xxxxxxxx\r\n      xxxxxxxx0000xxxxxxxx\r\n      x000000x0000x000000x\r\n      x000000x0000x000000x\r\n      x00000000000x000000x\r\n      x00000000000x000000x\r\n      x000000000000000000x\r\n      x000000000000000000x\r\n      xxxxxxxx00000000000x\r\n      x000000x00000000000x\r\n      x000000x0000xxxxxxxx\r\n      x00000000000x000000x\r\n      x00000000000x000000x\r\n      x00000000000x000000x\r\n      x00000000000x000000x\r\n      xxxxxxxx0000x000000x\r\n      x000000x0000x000000x\r\n      x000000x0000x000000x\r\n      x000000000000000000x\r\n      x000000000000000000x\r\n      x000000000000000000x\r\n      x000000000000000000x\r\n      xxxxxxxxxxxxxxxxxxxx\r\n      `,\r\n    });\r\n\r\n    application.stage.addChild(RoomCamera.forScreen(room));\r\n  });\r\n}"}},RoomModelTest2.parameters),OtherRoomShape.parameters=Object.assign({storySource:{source:"function OtherRoomShape() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxx\r\n        xxxx000\r\n        xxxx000\r\n        xxxxx00\r\n        xxxxx00\r\n        0000000\r\n        x000000\r\n      `,\r\n    });\r\n\r\n    application.stage.addChild(RoomCamera.forScreen(room));\r\n  });\r\n}"}},OtherRoomShape.parameters),HideTileCursor.parameters=Object.assign({storySource:{source:"function HideTileCursor() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxx\r\n        x000000\r\n        x000000\r\n        x000000\r\n      `,\r\n    });\r\n\r\n    room.hideTileCursor = true;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},HideTileCursor.parameters),TestTileClick.parameters=Object.assign({storySource:{source:'function TestTileClick() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n      `,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      roomX: 5,\r\n      roomY: 5,\r\n      roomZ: 0,\r\n      type: "club_sofa",\r\n      direction: 2,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look:\r\n        "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",\r\n      direction: 3,\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      headDirection: 3,\r\n    });\r\n\r\n    room.onTileClick = (event) => {\r\n      console.log("ROOM", event);\r\n      avatar.walk(event.roomX, event.roomY, event.roomZ);\r\n    };\r\n\r\n    room.addRoomObject(avatar);\r\n    room.addRoomObject(furniture);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},TestTileClick.parameters)},1100:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"RoomModelA",(function(){return RoomModelA})),__webpack_require__.d(__webpack_exports__,"RoomModelB",(function(){return RoomModelB})),__webpack_require__.d(__webpack_exports__,"RoomModelC",(function(){return RoomModelC})),__webpack_require__.d(__webpack_exports__,"RoomModelD",(function(){return RoomModelD})),__webpack_require__.d(__webpack_exports__,"RoomModelE",(function(){return RoomModelE})),__webpack_require__.d(__webpack_exports__,"RoomModelF",(function(){return RoomModelF})),__webpack_require__.d(__webpack_exports__,"RoomModelG",(function(){return RoomModelG})),__webpack_require__.d(__webpack_exports__,"RoomModelH",(function(){return RoomModelH})),__webpack_require__.d(__webpack_exports__,"RoomModelI",(function(){return RoomModelI})),__webpack_require__.d(__webpack_exports__,"RoomModelJ",(function(){return RoomModelJ})),__webpack_require__.d(__webpack_exports__,"RoomModelK",(function(){return RoomModelK})),__webpack_require__.d(__webpack_exports__,"RoomModelL",(function(){return RoomModelL})),__webpack_require__.d(__webpack_exports__,"RoomModelM",(function(){return RoomModelM})),__webpack_require__.d(__webpack_exports__,"RoomModelN",(function(){return RoomModelN})),__webpack_require__.d(__webpack_exports__,"RoomModelO",(function(){return RoomModelO})),__webpack_require__.d(__webpack_exports__,"RoomModelP",(function(){return RoomModelP})),__webpack_require__.d(__webpack_exports__,"RoomModelQ",(function(){return RoomModelQ})),__webpack_require__.d(__webpack_exports__,"RoomModelR",(function(){return RoomModelR}));__webpack_require__(11);var _tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_common_createShroom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10);__webpack_exports__.default={title:"Room / Model"};var RoomModelA=function RoomModelA(){return renderRoomModel("\n    xxxxxxxxxxxx\n    xxxx00000000\n    xxxx00000000\n    xxxx00000000\n    xxxx00000000\n    xxx000000000\n    xxxx00000000\n    xxxx00000000\n    xxxx00000000\n    xxxx00000000\n    xxxx00000000\n    xxxx00000000\n    xxxx00000000\n    xxxx00000000\n    xxxxxxxxxxxx\n    xxxxxxxxxxxx")},RoomModelB=function RoomModelB(){return renderRoomModel("\n    xxxxxxxxxxxx\n    xxxxx0000000\n    xxxxx0000000\n    xxxxx0000000\n    xxxxx0000000\n    000000000000\n    x00000000000\n    x00000000000\n    x00000000000\n    x00000000000\n    x00000000000\n    xxxxxxxxxxxx\n    xxxxxxxxxxxx\n    xxxxxxxxxxxx\n    xxxxxxxxxxxx\n    xxxxxxxxxxxx")},RoomModelC=function RoomModelC(){return renderRoomModel("\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxx000000x\n        xxxxx000000x\n        xxxx0000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx")},RoomModelD=function RoomModelD(){return renderRoomModel("\n        xxxxxxxxxxxx\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxx0000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxx000000x\n        xxxxxxxxxxxx")},RoomModelE=function RoomModelE(){return renderRoomModel("\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xx0000000000\n        xx0000000000\n        x00000000000\n        xx0000000000\n        xx0000000000\n        xx0000000000\n        xx0000000000\n        xx0000000000\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx")},RoomModelF=function RoomModelF(){return renderRoomModel("\n        xxxxxxxxxxxx\n        xxxxxxx0000x\n        xxxxxxx0000x\n        xxx00000000x\n        xxx00000000x\n        xx000000000x\n        xxx00000000x\n        x0000000000x\n        x0000000000x\n        x0000000000x\n        x0000000000x\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx")},RoomModelG=function RoomModelG(){return renderRoomModel("\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxx00000\n        xxxxxxx00000\n        xxxxxxx00000\n        xx1111000000\n        xx1111000000\n        x11111000000\n        xx1111000000\n        xx1111000000\n        xxxxxxx00000\n        xxxxxxx00000\n        xxxxxxx00000\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx")},RoomModelH=function RoomModelH(){return renderRoomModel("\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxx111111x\n        xxxxx111111x\n        xxxx1111111x\n        xxxxx111111x\n        xxxxx111111x\n        xxxxx000000x\n        xxxxx000000x\n        xxx00000000x\n        xxx00000000x\n        xxx00000000x\n        xxx00000000x\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx\n        xxxxxxxxxxxx")},RoomModelI=function RoomModelI(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxx\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        00000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        x0000000000000000\n        xxxxxxxxxxxxxxxxx")},RoomModelJ=function RoomModelJ(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxxxx\n        xxxxxxxxxxx0000000000\n        xxxxxxxxxxx0000000000\n        xxxxxxxxxxx0000000000\n        xxxxxxxxxxx0000000000\n        xxxxxxxxxxx0000000000\n        xxxxxxxxxxx0000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        000000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x0000000000xxxxxxxxxx\n        x0000000000xxxxxxxxxx\n        x0000000000xxxxxxxxxx\n        x0000000000xxxxxxxxxx\n        x0000000000xxxxxxxxxx\n        x0000000000xxxxxxxxxx\n        xxxxxxxxxxxxxxxxxxxxx")},RoomModelK=function RoomModelK(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxxxxxxxx\n        xxxxxxxxxxxxxxxxx00000000\n        xxxxxxxxxxxxxxxxx00000000\n        xxxxxxxxxxxxxxxxx00000000\n        xxxxxxxxxxxxxxxxx00000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        x000000000000000000000000\n        x000000000000000000000000\n        x000000000000000000000000\n        x000000000000000000000000\n        0000000000000000000000000\n        x000000000000000000000000\n        x000000000000000000000000\n        x000000000000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxxxxxxxxxxxxxxxxxx")},RoomModelL=function RoomModelL(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxxxx\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        000000000xxxx00000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        x00000000xxxx00000000\n        xxxxxxxxxxxxxxxxxxxxx")},RoomModelM=function RoomModelM(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        x0000000000000000000000000000\n        x0000000000000000000000000000\n        x0000000000000000000000000000\n        x0000000000000000000000000000\n        00000000000000000000000000000\n        x0000000000000000000000000000\n        x0000000000000000000000000000\n        x0000000000000000000000000000\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxx00000000xxxxxxxxxx\n        xxxxxxxxxxxxxxxxxxxxxxxxxxxxx")},RoomModelN=function RoomModelN(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxxxx\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x000000xxxxxxxx000000\n        x000000x000000x000000\n        x000000x000000x000000\n        x000000x000000x000000\n        x000000x000000x000000\n        x000000x000000x000000\n        x000000x000000x000000\n        x000000xxxxxxxx000000\n        x00000000000000000000\n        000000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        x00000000000000000000\n        xxxxxxxxxxxxxxxxxxxxx")},RoomModelO=function RoomModelO(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxxxxxxxx\n        xxxxxxxxxxxxx11111111xxxx\n        xxxxxxxxxxxxx11111111xxxx\n        xxxxxxxxxxxxx11111111xxxx\n        xxxxxxxxxxxxx11111111xxxx\n        xxxxxxxxxxxxx11111111xxxx\n        xxxxxxxxxxxxx11111111xxxx\n        xxxxxxxxxxxxx11111111xxxx\n        xxxxxxxxxxxxx00000000xxxx\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        x111111100000000000000000\n        x111111100000000000000000\n        x111111100000000000000000\n        1111111100000000000000000\n        x111111100000000000000000\n        x111111100000000000000000\n        x111111100000000000000000\n        x111111100000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxx0000000000000000\n        xxxxxxxxxxxxxxxxxxxxxxxxx")},RoomModelP=function RoomModelP(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxx\n        xxxxxxx222222222222\n        xxxxxxx222222222222\n        xxxxxxx222222222222\n        xxxxxxx222222222222\n        xxxxxxx222222222222\n        xxxxxxx222222222222\n        xxxxxxx22222222xxxx\n        xxxxxxx11111111xxxx\n        x222221111111111111\n        x222221111111111111\n        x222221111111111111\n        x222221111111111111\n        x222221111111111111\n        x222221111111111111\n        x222221111111111111\n        x222221111111111111\n        x2222xx11111111xxxx\n        x2222xx00000000xxxx\n        x2222xx000000000000\n        x2222xx000000000000\n        x2222xx000000000000\n        x2222xx000000000000\n        22222xx000000000000\n        x2222xx000000000000\n        xxxxxxxxxxxxxxxxxxx")},RoomModelQ=function RoomModelQ(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxx\n        xxxxxxxxxxx22222222\n        xxxxxxxxxxx22222222\n        xxxxxxxxxxx22222222\n        xxxxxxxxxx222222222\n        xxxxxxxxxxx22222222\n        xxxxxxxxxxx22222222\n        x222222222222222222\n        x222222222222222222\n        x222222222222222222\n        x222222222222222222\n        x222222222222222222\n        x222222222222222222\n        x2222xxxxxxxxxxxxxx\n        x2222xxxxxxxxxxxxxx\n        x2222211111xx000000\n        x222221111110000000\n        x222221111110000000\n        x2222211111xx000000\n        xx22xxx1111xxxxxxxx\n        xx11xxx1111xxxxxxxx\n        x1111xx1111xx000000\n        x1111xx111110000000\n        x1111xx111110000000\n        x1111xx1111xx000000\n        xxxxxxxxxxxxxxxxxxx")},RoomModelR=function RoomModelR(){return renderRoomModel("\n        xxxxxxxxxxxxxxxxxxxxxxxxx\n        xxxxxxxxxxx33333333333333\n        xxxxxxxxxxx33333333333333\n        xxxxxxxxxxx33333333333333\n        xxxxxxxxxx333333333333333\n        xxxxxxxxxxx33333333333333\n        xxxxxxxxxxx33333333333333\n        xxxxxxx333333333333333333\n        xxxxxxx333333333333333333\n        xxxxxxx333333333333333333\n        xxxxxxx333333333333333333\n        xxxxxxx333333333333333333\n        xxxxxxx333333333333333333\n        x4444433333xxxxxxxxxxxxxx\n        x4444433333xxxxxxxxxxxxxx\n        x44444333333222xx000000xx\n        x44444333333222xx000000xx\n        xxx44xxxxxxxx22xx000000xx\n        xxx33xxxxxxxx11xx000000xx\n        xxx33322222211110000000xx\n        xxx33322222211110000000xx\n        xxxxxxxxxxxxxxxxx000000xx\n        xxxxxxxxxxxxxxxxx000000xx\n        xxxxxxxxxxxxxxxxx000000xx\n        xxxxxxxxxxxxxxxxx000000xx\n        xxxxxxxxxxxxxxxxxxxxxxxxx")};function renderRoomModel(tilemap){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_2__.a)((function(_ref){var application=_ref.application,shroom=_ref.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_1__.Room.create(shroom,{tilemap:tilemap});application.stage.addChild(room)}))}RoomModelA.parameters=Object.assign({storySource:{source:"function RoomModelA() {\r\n  return renderRoomModel(`\r\n    xxxxxxxxxxxx\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxx000000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxx00000000\r\n    xxxxxxxxxxxx\r\n    xxxxxxxxxxxx`);\r\n}"}},RoomModelA.parameters),RoomModelB.parameters=Object.assign({storySource:{source:"function RoomModelB() {\r\n  return renderRoomModel(`\r\n    xxxxxxxxxxxx\r\n    xxxxx0000000\r\n    xxxxx0000000\r\n    xxxxx0000000\r\n    xxxxx0000000\r\n    000000000000\r\n    x00000000000\r\n    x00000000000\r\n    x00000000000\r\n    x00000000000\r\n    x00000000000\r\n    xxxxxxxxxxxx\r\n    xxxxxxxxxxxx\r\n    xxxxxxxxxxxx\r\n    xxxxxxxxxxxx\r\n    xxxxxxxxxxxx`);\r\n}"}},RoomModelB.parameters),RoomModelC.parameters=Object.assign({storySource:{source:"function RoomModelC() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxx0000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx`);\r\n}"}},RoomModelC.parameters),RoomModelD.parameters=Object.assign({storySource:{source:"function RoomModelD() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxx\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxx0000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxxxxxxxxxxx`);\r\n}"}},RoomModelD.parameters),RoomModelE.parameters=Object.assign({storySource:{source:"function RoomModelE() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xx0000000000\r\n        xx0000000000\r\n        x00000000000\r\n        xx0000000000\r\n        xx0000000000\r\n        xx0000000000\r\n        xx0000000000\r\n        xx0000000000\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx`);\r\n}"}},RoomModelE.parameters),RoomModelF.parameters=Object.assign({storySource:{source:"function RoomModelF() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxx\r\n        xxxxxxx0000x\r\n        xxxxxxx0000x\r\n        xxx00000000x\r\n        xxx00000000x\r\n        xx000000000x\r\n        xxx00000000x\r\n        x0000000000x\r\n        x0000000000x\r\n        x0000000000x\r\n        x0000000000x\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx`);\r\n}"}},RoomModelF.parameters),RoomModelG.parameters=Object.assign({storySource:{source:"function RoomModelG() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxx00000\r\n        xxxxxxx00000\r\n        xxxxxxx00000\r\n        xx1111000000\r\n        xx1111000000\r\n        x11111000000\r\n        xx1111000000\r\n        xx1111000000\r\n        xxxxxxx00000\r\n        xxxxxxx00000\r\n        xxxxxxx00000\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx`);\r\n}"}},RoomModelG.parameters),RoomModelH.parameters=Object.assign({storySource:{source:"function RoomModelH() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxx111111x\r\n        xxxxx111111x\r\n        xxxx1111111x\r\n        xxxxx111111x\r\n        xxxxx111111x\r\n        xxxxx000000x\r\n        xxxxx000000x\r\n        xxx00000000x\r\n        xxx00000000x\r\n        xxx00000000x\r\n        xxx00000000x\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx\r\n        xxxxxxxxxxxx`);\r\n}"}},RoomModelH.parameters),RoomModelI.parameters=Object.assign({storySource:{source:"function RoomModelI() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxx\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        00000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        x0000000000000000\r\n        xxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelI.parameters),RoomModelJ.parameters=Object.assign({storySource:{source:"function RoomModelJ() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxxxx\r\n        xxxxxxxxxxx0000000000\r\n        xxxxxxxxxxx0000000000\r\n        xxxxxxxxxxx0000000000\r\n        xxxxxxxxxxx0000000000\r\n        xxxxxxxxxxx0000000000\r\n        xxxxxxxxxxx0000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        000000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x0000000000xxxxxxxxxx\r\n        x0000000000xxxxxxxxxx\r\n        x0000000000xxxxxxxxxx\r\n        x0000000000xxxxxxxxxx\r\n        x0000000000xxxxxxxxxx\r\n        x0000000000xxxxxxxxxx\r\n        xxxxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelJ.parameters),RoomModelK.parameters=Object.assign({storySource:{source:"function RoomModelK() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxxxxxxxx\r\n        xxxxxxxxxxxxxxxxx00000000\r\n        xxxxxxxxxxxxxxxxx00000000\r\n        xxxxxxxxxxxxxxxxx00000000\r\n        xxxxxxxxxxxxxxxxx00000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        x000000000000000000000000\r\n        x000000000000000000000000\r\n        x000000000000000000000000\r\n        x000000000000000000000000\r\n        0000000000000000000000000\r\n        x000000000000000000000000\r\n        x000000000000000000000000\r\n        x000000000000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelK.parameters),RoomModelL.parameters=Object.assign({storySource:{source:"function RoomModelL() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxxxx\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        000000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        x00000000xxxx00000000\r\n        xxxxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelL.parameters),RoomModelM.parameters=Object.assign({storySource:{source:"function RoomModelM() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        x0000000000000000000000000000\r\n        x0000000000000000000000000000\r\n        x0000000000000000000000000000\r\n        x0000000000000000000000000000\r\n        00000000000000000000000000000\r\n        x0000000000000000000000000000\r\n        x0000000000000000000000000000\r\n        x0000000000000000000000000000\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxx00000000xxxxxxxxxx\r\n        xxxxxxxxxxxxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelM.parameters),RoomModelN.parameters=Object.assign({storySource:{source:"function RoomModelN() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxxxx\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x000000xxxxxxxx000000\r\n        x000000x000000x000000\r\n        x000000x000000x000000\r\n        x000000x000000x000000\r\n        x000000x000000x000000\r\n        x000000x000000x000000\r\n        x000000x000000x000000\r\n        x000000xxxxxxxx000000\r\n        x00000000000000000000\r\n        000000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        x00000000000000000000\r\n        xxxxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelN.parameters),RoomModelO.parameters=Object.assign({storySource:{source:"function RoomModelO() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxxxxxxxx\r\n        xxxxxxxxxxxxx11111111xxxx\r\n        xxxxxxxxxxxxx11111111xxxx\r\n        xxxxxxxxxxxxx11111111xxxx\r\n        xxxxxxxxxxxxx11111111xxxx\r\n        xxxxxxxxxxxxx11111111xxxx\r\n        xxxxxxxxxxxxx11111111xxxx\r\n        xxxxxxxxxxxxx11111111xxxx\r\n        xxxxxxxxxxxxx00000000xxxx\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        x111111100000000000000000\r\n        x111111100000000000000000\r\n        x111111100000000000000000\r\n        1111111100000000000000000\r\n        x111111100000000000000000\r\n        x111111100000000000000000\r\n        x111111100000000000000000\r\n        x111111100000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxx0000000000000000\r\n        xxxxxxxxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelO.parameters),RoomModelP.parameters=Object.assign({storySource:{source:"function RoomModelP() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxx\r\n        xxxxxxx222222222222\r\n        xxxxxxx222222222222\r\n        xxxxxxx222222222222\r\n        xxxxxxx222222222222\r\n        xxxxxxx222222222222\r\n        xxxxxxx222222222222\r\n        xxxxxxx22222222xxxx\r\n        xxxxxxx11111111xxxx\r\n        x222221111111111111\r\n        x222221111111111111\r\n        x222221111111111111\r\n        x222221111111111111\r\n        x222221111111111111\r\n        x222221111111111111\r\n        x222221111111111111\r\n        x222221111111111111\r\n        x2222xx11111111xxxx\r\n        x2222xx00000000xxxx\r\n        x2222xx000000000000\r\n        x2222xx000000000000\r\n        x2222xx000000000000\r\n        x2222xx000000000000\r\n        22222xx000000000000\r\n        x2222xx000000000000\r\n        xxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelP.parameters),RoomModelQ.parameters=Object.assign({storySource:{source:"function RoomModelQ() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxx\r\n        xxxxxxxxxxx22222222\r\n        xxxxxxxxxxx22222222\r\n        xxxxxxxxxxx22222222\r\n        xxxxxxxxxx222222222\r\n        xxxxxxxxxxx22222222\r\n        xxxxxxxxxxx22222222\r\n        x222222222222222222\r\n        x222222222222222222\r\n        x222222222222222222\r\n        x222222222222222222\r\n        x222222222222222222\r\n        x222222222222222222\r\n        x2222xxxxxxxxxxxxxx\r\n        x2222xxxxxxxxxxxxxx\r\n        x2222211111xx000000\r\n        x222221111110000000\r\n        x222221111110000000\r\n        x2222211111xx000000\r\n        xx22xxx1111xxxxxxxx\r\n        xx11xxx1111xxxxxxxx\r\n        x1111xx1111xx000000\r\n        x1111xx111110000000\r\n        x1111xx111110000000\r\n        x1111xx1111xx000000\r\n        xxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelQ.parameters),RoomModelR.parameters=Object.assign({storySource:{source:"function RoomModelR() {\r\n  return renderRoomModel(`\r\n        xxxxxxxxxxxxxxxxxxxxxxxxx\r\n        xxxxxxxxxxx33333333333333\r\n        xxxxxxxxxxx33333333333333\r\n        xxxxxxxxxxx33333333333333\r\n        xxxxxxxxxx333333333333333\r\n        xxxxxxxxxxx33333333333333\r\n        xxxxxxxxxxx33333333333333\r\n        xxxxxxx333333333333333333\r\n        xxxxxxx333333333333333333\r\n        xxxxxxx333333333333333333\r\n        xxxxxxx333333333333333333\r\n        xxxxxxx333333333333333333\r\n        xxxxxxx333333333333333333\r\n        x4444433333xxxxxxxxxxxxxx\r\n        x4444433333xxxxxxxxxxxxxx\r\n        x44444333333222xx000000xx\r\n        x44444333333222xx000000xx\r\n        xxx44xxxxxxxx22xx000000xx\r\n        xxx33xxxxxxxx11xx000000xx\r\n        xxx33322222211110000000xx\r\n        xxx33322222211110000000xx\r\n        xxxxxxxxxxxxxxxxx000000xx\r\n        xxxxxxxxxxxxxxxxx000000xx\r\n        xxxxxxxxxxxxxxxxx000000xx\r\n        xxxxxxxxxxxxxxxxx000000xx\r\n        xxxxxxxxxxxxxxxxxxxxxxxxx`);\r\n}"}},RoomModelR.parameters)},1101:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Walking",(function(){return Walking})),__webpack_require__.d(__webpack_exports__,"Drinking",(function(){return Drinking})),__webpack_require__.d(__webpack_exports__,"AvatarInDoor",(function(){return AvatarInDoor})),__webpack_require__.d(__webpack_exports__,"AvatarHairBack",(function(){return AvatarHairBack})),__webpack_require__.d(__webpack_exports__,"AvatarPlain",(function(){return AvatarPlain})),__webpack_require__.d(__webpack_exports__,"EventHandling",(function(){return EventHandling})),__webpack_require__.d(__webpack_exports__,"headRotation",(function(){return headRotation})),__webpack_require__.d(__webpack_exports__,"BaseAvatarClothes",(function(){return BaseAvatarClothes})),__webpack_require__.d(__webpack_exports__,"BaseAvatarBroke",(function(){return BaseAvatarBroke})),__webpack_require__.d(__webpack_exports__,"AvatarDestroy",(function(){return AvatarDestroy})),__webpack_require__.d(__webpack_exports__,"AvatarDance",(function(){return AvatarDance}));__webpack_require__(153),__webpack_require__(15),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(11);var _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),_common_createShroom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(39);__webpack_exports__.default={title:"Avatar / General"};var Default=function Default(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref){for(var application=_ref.application,shroom=_ref.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n            xxxxxxxxxxxxxxxx\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n            x000000000000000\n          "}),looks=["ch-255-91.lg-280-64.sh-290-1408.hd-180-2.hr-831-61","hd-180-1.ch-255-66.lg-280-110.sh-305-62.ha-1012-110.hr-828-61","hd-190-1.hr-3163-1356.he-3081-62.fa-1203-62.cc-3153-1336.lg-3058-110"],avatars=[],y=0;y<8;y++)for(var x=0;x<8;x++){var avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:looks[y%looks.length],direction:y%8,roomX:1+2*x,roomY:1+2*y,roomZ:0});avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.CarryItem),avatar.item=2,room.addRoomObject(avatar),avatars.push(avatar),avatar.onPointerOver=function(){console.log("OVER")},avatar.onPointerOut=function(){console.log("OUT")}}setInterval((function(){avatars.forEach((function(avatar){avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.Respect)}))}),1e3),application.stage.addChild(room)}))},Walking=function Walking(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref2){var application=_ref2.application,shroom=_ref2.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n           xxxxxxxx\n           x0000000\n           x0000000\n           x0000000\n           x0000000\n          "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:4,roomX:1,roomY:1,roomZ:0});setTimeout((function(){avatar.walk(1,2,0,{direction:4}),setTimeout((function(){avatar.walk(2,2,0,{direction:2})}),500)}),3e3),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(avatar),application.stage.addChild(room)}))},Drinking=function Drinking(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref3){for(var application=_ref3.application,shroom=_ref3.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n            xxxxxxxx\n            x0000000\n            x0000000\n            x0000000\n            x0000000\n          "}),avatars=[],i=0;i<4;i++){var avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:2*i,roomX:1+2*i,roomY:1,roomZ:0});avatar.item=1,avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.CarryItem),room.addRoomObject(avatar),avatars.push(avatar)}for(var _i=0;_i<4;_i++){var _avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:2*_i+1,roomX:1+2*_i,roomY:4,roomZ:0});_avatar.item=2,_avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.UseItem),room.addRoomObject(_avatar),avatars.push(_avatar)}room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,application.stage.addChild(room)}))},AvatarInDoor=function AvatarInDoor(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref4){var application=_ref4.application,shroom=_ref4.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n           xxxxxxxx\n           x0000000\n           x0000000\n           00000000\n           x0000000\n          "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:2,roomX:0,roomY:3,roomZ:0});setTimeout((function(){avatar.walk(1,3,0,{direction:2})}),3e3),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(avatar),application.stage.addChild(room)}))},AvatarHairBack=function AvatarHairBack(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref5){var application=_ref5.application,shroom=_ref5.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n           xxxxxxxx\n           x0000000\n           x0000000\n           00000000\n           x0000000\n          "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-831-61.ha-1012-68.ch-215-66.lg-280-110.sh-305-62",direction:0,roomX:4,roomY:4,roomZ:0});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(avatar),application.stage.addChild(room)}))},AvatarPlain=function AvatarPlain(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref6){var application=_ref6.application,shroom=_ref6.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n           xxxxxxxx\n           x0000000\n           x0000000\n           00000000\n           x0000000\n          "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-99999-99999",direction:2,roomX:4,roomY:4,roomZ:0});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(avatar),application.stage.addChild(room)}))},EventHandling=function EventHandling(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref7){var application=_ref7.application,shroom=_ref7.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n           xxxxxxxx\n           x0000000\n           x0000000\n           x0000000\n           x0000000\n          "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",direction:4,roomX:1,roomY:1,roomZ:0});avatar.onClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("Click"),avatar.onDoubleClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("Double Click"),setTimeout((function(){avatar.walk(1,2,0,{direction:4}),avatar.walk(2,2,0,{direction:2}),avatar.walk(3,2,0,{direction:2})}),3e3),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(avatar),application.stage.addChild(room)}))},headRotation=function headRotation(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref8){var application=_ref8.application,shroom=_ref8.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n           xxxxxxxx\n           x0000000\n           x0000000\n           x0000000\n           x0000000\n          "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",direction:5,roomX:1,roomY:1,roomZ:0,headDirection:5});avatar.onClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("Click"),avatar.onDoubleClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("Double Click"),setInterval((function(){void 0!==avatar.headDirection?avatar.headDirection=void 0:avatar.headDirection=0}),3e3),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(avatar),application.stage.addChild(room)}))},BaseAvatarClothes=function BaseAvatarClothes(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref9){var application=_ref9.application,shroom=_ref9.shroom,baseAvatar=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.BaseAvatar.fromShroom(shroom,{look:{look:"ch-3001-73",direction:2,actions:new Set},zIndex:1,skipCaching:!0,skipBodyParts:!0,position:{x:0,y:32},onLoad:function onLoad(){}}),baseAvatar2=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.BaseAvatar.fromShroom(shroom,{look:{look:"hr-3163-39.hd-180-2.lg-3202-1322.ch-215-1331",direction:3,actions:new Set},zIndex:1,headOnly:!0,skipCaching:!0,position:{x:100,y:200},onLoad:function onLoad(){console.log(baseAvatar2.width,baseAvatar2.height)}});application.stage.addChild(baseAvatar),application.stage.addChild(baseAvatar2)}))},BaseAvatarBroke=function BaseAvatarBroke(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref10){var application=_ref10.application,shroom=_ref10.shroom,avatar1=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.BaseAvatar.fromShroom(shroom,{look:{look:"hr-3163-39.hd-180-2.lg-3202-1322-1329.ch-215-1331",actions:(new Set).add(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.GestureSmile),direction:3},position:{x:0,y:150},zIndex:0,onLoad:function onLoad(){}}),avatar2=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.BaseAvatar.fromShroom(shroom,{look:{look:"lg-3202-1322-1329.hr-3163-39.ch-215-93.ha-1009-93.hd-180-2",actions:(new Set).add(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.GestureSmile),direction:3},position:{x:100,y:150},zIndex:0,onLoad:function onLoad(){}}),avatar3=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.BaseAvatar.fromShroom(shroom,{look:{look:"hr-3163-39.hd-180-2.lg-3202-1322-1329.ch-215-1331",actions:(new Set).add(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.GestureSmile),direction:3},position:{x:200,y:150},zIndex:0,onLoad:function onLoad(){avatar3.lookOptions={look:"lg-3202-1322-1329.hr-3163-39.ch-215-93.ha-1009-93.hd-180-2",actions:(new Set).add(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.GestureSmile),direction:3}}}),avatar4=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.BaseAvatar.fromShroom(shroom,{look:{look:"lg-3202-1322-1329.hr-3163-39.ch-215-93.ha-1009-93.hd-180-2",actions:(new Set).add(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.GestureSmile),direction:3},position:{x:200,y:250},zIndex:0,onLoad:function onLoad(){avatar4.lookOptions={look:"hr-3163-39.hd-180-2.lg-3202-1322-1329.ch-215-1331",actions:(new Set).add(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.GestureSmile),direction:3}}});application.stage.addChild(avatar1),application.stage.addChild(avatar2),application.stage.addChild(avatar3),application.stage.addChild(avatar4)}))},AvatarDestroy=function AvatarDestroy(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref11){var application=_ref11.application,shroom=_ref11.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n           xxxxxxxx\n           x0000000\n           x0000000\n           x0000000\n           x0000000\n          "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",direction:3,roomX:1,roomY:1,roomZ:0,headDirection:5});setTimeout((function(){avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.AvatarAction.Respect)}),3e3),setTimeout((function(){avatar.destroy()}),6e3),room.addRoomObject(avatar),application.stage.addChild(room)}))},AvatarDance=function AvatarDance(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_9__.a)((function(_ref12){for(var application=_ref12.application,shroom=_ref12.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Room.create(shroom,{tilemap:"\n           xxxxxxxxxxxxxxxx\n           x000000000000000\n           x000000000000000\n           x000000000000000\n           x000000000000000\n           x000000000000000\n           x000000000000000\n           x000000000000000\n          "}),avatars=[],currentEffect=1,toggle=function toggle(){currentEffect++,avatars.forEach((function(avatar,index){avatar.effect="".concat(currentEffect)}))},y=1;y<=1;y++)for(var x=0;x<8;x++){var avatar2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_8__.Avatar({look:"hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",direction:x,roomX:2*x+1,roomY:2*y-1,roomZ:0});avatar2.effect="dance.1",room.addRoomObject(avatar2),avatars.push(avatar2),avatar2.onClick=function(){toggle()}}application.stage.addChild(room)}))};Default.parameters=Object.assign({storySource:{source:'function Default() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n            xxxxxxxxxxxxxxxx\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n            x000000000000000\r\n          `,\r\n    });\r\n\r\n    const looks: string[] = [\r\n      "ch-255-91.lg-280-64.sh-290-1408.hd-180-2.hr-831-61",\r\n      "hd-180-1.ch-255-66.lg-280-110.sh-305-62.ha-1012-110.hr-828-61",\r\n      "hd-190-1.hr-3163-1356.he-3081-62.fa-1203-62.cc-3153-1336.lg-3058-110",\r\n    ];\r\n\r\n    /*\r\n    for (let y = 1; y < 6; y++) {\r\n      for (let x = 0; x < 8; x++) {\r\n        const avatar = new Avatar({\r\n          look: "ch-255-91.lg-280-64.sh-290-1408.hd-180-2.hr-831-61",\r\n          direction: x % 8,\r\n          roomX: 1 + x * 2,\r\n          roomY: y * 2,\r\n          roomZ: 0,\r\n        });\r\n\r\n        avatar.addAction(AvatarAction.Respect);\r\n\r\n        room.addRoomObject(avatar);\r\n      }\r\n    }*/\r\n\r\n    const avatars: Avatar[] = [];\r\n\r\n    for (let y = 0; y < 8; y++) {\r\n      for (let x = 0; x < 8; x++) {\r\n        const avatar = new Avatar({\r\n          look: looks[y % looks.length],\r\n          direction: y % 8,\r\n          roomX: 1 + x * 2,\r\n          roomY: 1 + y * 2,\r\n          roomZ: 0,\r\n        });\r\n        avatar.addAction(AvatarAction.CarryItem);\r\n        avatar.item = 2;\r\n\r\n        room.addRoomObject(avatar);\r\n        avatars.push(avatar);\r\n\r\n        avatar.onPointerOver = () => {\r\n          console.log("OVER");\r\n        };\r\n\r\n        avatar.onPointerOut = () => {\r\n          console.log("OUT");\r\n        };\r\n      }\r\n    }\r\n\r\n    setInterval(() => {\r\n      avatars.forEach((avatar) => {\r\n        avatar.addAction(AvatarAction.Respect);\r\n      });\r\n    }, 1000);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Default.parameters),Walking.parameters=Object.assign({storySource:{source:'function Walking() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxx\r\n           x0000000\r\n           x0000000\r\n           x0000000\r\n           x0000000\r\n          `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      direction: 4,\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      avatar.walk(1, 2, 0, { direction: 4 });\r\n\r\n      setTimeout(() => {\r\n        avatar.walk(2, 2, 0, { direction: 2 });\r\n      }, 500);\r\n    }, 3000);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Walking.parameters),Drinking.parameters=Object.assign({storySource:{source:'function Drinking() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n            xxxxxxxx\r\n            x0000000\r\n            x0000000\r\n            x0000000\r\n            x0000000\r\n          `,\r\n    });\r\n\r\n    const avatars: Avatar[] = [];\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      const avatar = new Avatar({\r\n        look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n        direction: i * 2,\r\n        roomX: 1 + i * 2,\r\n        roomY: 1,\r\n        roomZ: 0,\r\n      });\r\n\r\n      avatar.item = 1;\r\n      avatar.addAction(AvatarAction.CarryItem);\r\n\r\n      room.addRoomObject(avatar);\r\n      avatars.push(avatar);\r\n    }\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      const avatar = new Avatar({\r\n        look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n        direction: i * 2 + 1,\r\n        roomX: 1 + i * 2,\r\n        roomY: 1 + 3,\r\n        roomZ: 0,\r\n      });\r\n\r\n      avatar.item = 2;\r\n      avatar.addAction(AvatarAction.UseItem);\r\n\r\n      room.addRoomObject(avatar);\r\n      avatars.push(avatar);\r\n    }\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Drinking.parameters),AvatarInDoor.parameters=Object.assign({storySource:{source:'function AvatarInDoor() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxx\r\n           x0000000\r\n           x0000000\r\n           00000000\r\n           x0000000\r\n          `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      direction: 2,\r\n      roomX: 0,\r\n      roomY: 3,\r\n      roomZ: 0,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      avatar.walk(1, 3, 0, { direction: 2 });\r\n    }, 3000);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},AvatarInDoor.parameters),AvatarHairBack.parameters=Object.assign({storySource:{source:"function AvatarHairBack() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const look = `hd-180-1.hr-831-61.ha-1012-68.ch-215-66.lg-280-110.sh-305-62`;\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxx\r\n           x0000000\r\n           x0000000\r\n           00000000\r\n           x0000000\r\n          `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: look,\r\n      direction: 0,\r\n      roomX: 4,\r\n      roomY: 4,\r\n      roomZ: 0,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},AvatarHairBack.parameters),AvatarPlain.parameters=Object.assign({storySource:{source:"function AvatarPlain() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const look = `hd-99999-99999`;\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxx\r\n           x0000000\r\n           x0000000\r\n           00000000\r\n           x0000000\r\n          `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: look,\r\n      direction: 2,\r\n      roomX: 4,\r\n      roomY: 4,\r\n      roomZ: 0,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},AvatarPlain.parameters),EventHandling.parameters=Object.assign({storySource:{source:'function EventHandling() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxx\r\n           x0000000\r\n           x0000000\r\n           x0000000\r\n           x0000000\r\n          `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      direction: 4,\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n    });\r\n\r\n    avatar.onClick = action("Click");\r\n    avatar.onDoubleClick = action("Double Click");\r\n\r\n    setTimeout(() => {\r\n      avatar.walk(1, 2, 0, { direction: 4 });\r\n      avatar.walk(2, 2, 0, { direction: 2 });\r\n      avatar.walk(3, 2, 0, { direction: 2 });\r\n    }, 3000);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},EventHandling.parameters),headRotation.parameters=Object.assign({storySource:{source:'function headRotation() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxx\r\n           x0000000\r\n           x0000000\r\n           x0000000\r\n           x0000000\r\n          `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look:\r\n        "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",\r\n      direction: 5,\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      headDirection: 5,\r\n    });\r\n\r\n    // const avatar2 = new Avatar({\r\n    //   look: "hr-3163-39.hd-180-2.lg-3202-1322.ch-215-1331",\r\n    //   direction: 4,\r\n    //   roomX: 2,\r\n    //   roomY: 2,\r\n    //   roomZ: 0,\r\n    //   headDirection: 2\r\n    // });\r\n    // const avatar3 = new Avatar({\r\n    //   look: "hr-3163-39.hd-180-2.lg-3202-1322.ch-215-1331",\r\n    //   direction: 3,\r\n    //   roomX: 3,\r\n    //   roomY: 3,\r\n    //   roomZ: 0,\r\n    //   headDirection: 1\r\n    // });\r\n    // const avatar4 = new Avatar({\r\n    //   look: "hr-3163-39.hd-180-2.lg-3202-1322.ch-215-1331",\r\n    //   direction: 3,\r\n    //   roomX: 4,\r\n    //   roomY: 4,\r\n    //   roomZ: 0,\r\n    //   headDirection: 0\r\n    // });\r\n\r\n    avatar.onClick = action("Click");\r\n    avatar.onDoubleClick = action("Double Click");\r\n\r\n    setInterval(() => {\r\n      if (avatar.headDirection !== undefined) {\r\n        avatar.headDirection = undefined;\r\n      } else {\r\n        avatar.headDirection = 0;\r\n      }\r\n      // avatar.headDirection++;\r\n      // if (avatar.headDirection > 7) {\r\n      //   avatar.headDirection = 0;\r\n      // }\r\n    }, 3000);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(avatar);\r\n    // room.addRoomObject(avatar2);\r\n    // room.addRoomObject(avatar3);\r\n    // room.addRoomObject(avatar4);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},headRotation.parameters),BaseAvatarClothes.parameters=Object.assign({storySource:{source:'function BaseAvatarClothes() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const baseAvatar = BaseAvatar.fromShroom(shroom, {\r\n      look: {\r\n        look: "ch-3001-73",\r\n        direction: 2,\r\n        actions: new Set<AvatarAction>(),\r\n      },\r\n      zIndex: 1,\r\n      skipCaching: true,\r\n      skipBodyParts: true,\r\n      position: {\r\n        x: 0,\r\n        y: 32,\r\n      },\r\n      onLoad: () => {\r\n        // console.log(baseAvatar.width, baseAvatar.height)\r\n      },\r\n    });\r\n\r\n    const baseAvatar2 = BaseAvatar.fromShroom(shroom, {\r\n      look: {\r\n        look: "hr-3163-39.hd-180-2.lg-3202-1322.ch-215-1331",\r\n        direction: 3,\r\n        actions: new Set<AvatarAction>(),\r\n      },\r\n      zIndex: 1,\r\n      headOnly: true,\r\n      skipCaching: true,\r\n      position: {\r\n        x: 100,\r\n        y: 200,\r\n      },\r\n      onLoad: () => {\r\n        console.log(baseAvatar2.width, baseAvatar2.height);\r\n      },\r\n    });\r\n\r\n    application.stage.addChild(baseAvatar);\r\n    application.stage.addChild(baseAvatar2);\r\n  });\r\n}'}},BaseAvatarClothes.parameters),BaseAvatarBroke.parameters=Object.assign({storySource:{source:'function BaseAvatarBroke() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const avatar1 = BaseAvatar.fromShroom(shroom, {\r\n      look: {\r\n        look: "hr-3163-39.hd-180-2.lg-3202-1322-1329.ch-215-1331",\r\n        actions: new Set<AvatarAction>().add(AvatarAction.GestureSmile),\r\n        direction: 3,\r\n      },\r\n      position: {\r\n        x: 0,\r\n        y: 150,\r\n      },\r\n      zIndex: 0,\r\n      onLoad: () => {},\r\n    });\r\n    const avatar2 = BaseAvatar.fromShroom(shroom, {\r\n      look: {\r\n        look: "lg-3202-1322-1329.hr-3163-39.ch-215-93.ha-1009-93.hd-180-2",\r\n        actions: new Set<AvatarAction>().add(AvatarAction.GestureSmile),\r\n        direction: 3,\r\n      },\r\n      position: {\r\n        x: 100,\r\n        y: 150,\r\n      },\r\n      zIndex: 0,\r\n      onLoad: () => {\r\n        //\r\n      },\r\n    });\r\n    const avatar3 = BaseAvatar.fromShroom(shroom, {\r\n      look: {\r\n        look: "hr-3163-39.hd-180-2.lg-3202-1322-1329.ch-215-1331",\r\n        actions: new Set<AvatarAction>().add(AvatarAction.GestureSmile),\r\n        direction: 3,\r\n      },\r\n      position: {\r\n        x: 200,\r\n        y: 150,\r\n      },\r\n      zIndex: 0,\r\n      onLoad: () => {\r\n        avatar3.lookOptions = {\r\n          look: "lg-3202-1322-1329.hr-3163-39.ch-215-93.ha-1009-93.hd-180-2",\r\n          actions: new Set<AvatarAction>().add(AvatarAction.GestureSmile),\r\n          direction: 3,\r\n        };\r\n      },\r\n    });\r\n    const avatar4 = BaseAvatar.fromShroom(shroom, {\r\n      look: {\r\n        look: "lg-3202-1322-1329.hr-3163-39.ch-215-93.ha-1009-93.hd-180-2",\r\n        actions: new Set<AvatarAction>().add(AvatarAction.GestureSmile),\r\n        direction: 3,\r\n      },\r\n      position: {\r\n        x: 200,\r\n        y: 250,\r\n      },\r\n      zIndex: 0,\r\n      onLoad: () => {\r\n        avatar4.lookOptions = {\r\n          look: "hr-3163-39.hd-180-2.lg-3202-1322-1329.ch-215-1331",\r\n          actions: new Set<AvatarAction>().add(AvatarAction.GestureSmile),\r\n          direction: 3,\r\n        };\r\n      },\r\n    });\r\n\r\n    application.stage.addChild(avatar1);\r\n    application.stage.addChild(avatar2);\r\n    application.stage.addChild(avatar3);\r\n    application.stage.addChild(avatar4);\r\n  });\r\n}'}},BaseAvatarBroke.parameters),AvatarDestroy.parameters=Object.assign({storySource:{source:'function AvatarDestroy() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxx\r\n           x0000000\r\n           x0000000\r\n           x0000000\r\n           x0000000\r\n          `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      look:\r\n        "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",\r\n      direction: 3,\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      headDirection: 5,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      avatar.addAction(AvatarAction.Respect);\r\n    }, 3000);\r\n\r\n    setTimeout(() => {\r\n      avatar.destroy();\r\n    }, 6000);\r\n\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},AvatarDestroy.parameters),AvatarDance.parameters=Object.assign({storySource:{source:'function AvatarDance() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxxxxxxxxxx\r\n           x000000000000000\r\n           x000000000000000\r\n           x000000000000000\r\n           x000000000000000\r\n           x000000000000000\r\n           x000000000000000\r\n           x000000000000000\r\n          `,\r\n    });\r\n\r\n    const avatars: Avatar[] = [];\r\n\r\n    let currentEffect = 1;\r\n    const toggle = () => {\r\n      currentEffect++;\r\n      avatars.forEach((avatar, index) => {\r\n        avatar.effect = `${currentEffect}`;\r\n      });\r\n    };\r\n\r\n    for (let y = 1; y <= 1; y++) {\r\n      for (let x = 0; x < 8; x++) {\r\n        const avatar2 = new Avatar({\r\n          look:\r\n            "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",\r\n          direction: x,\r\n          roomX: x * 2 + 1,\r\n          roomY: y * 2 - 1,\r\n          roomZ: 0,\r\n        });\r\n\r\n        avatar2.effect = `dance.1`;\r\n\r\n        room.addRoomObject(avatar2);\r\n        avatars.push(avatar2);\r\n        avatar2.onClick = () => {\r\n          toggle();\r\n        };\r\n      }\r\n    }\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},AvatarDance.parameters)},1102:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Wave",(function(){return Wave})),__webpack_require__.d(__webpack_exports__,"Respect",(function(){return Respect})),__webpack_require__.d(__webpack_exports__,"Laugh",(function(){return Laugh})),__webpack_require__.d(__webpack_exports__,"Smile",(function(){return Smile})),__webpack_require__.d(__webpack_exports__,"CarryItem",(function(){return CarryItem})),__webpack_require__.d(__webpack_exports__,"UseItem",(function(){return UseItem})),__webpack_require__.d(__webpack_exports__,"Sit",(function(){return Sit})),__webpack_require__.d(__webpack_exports__,"MultipleActions",(function(){return MultipleActions})),__webpack_require__.d(__webpack_exports__,"Lay",(function(){return Lay}));__webpack_require__(11);var _dist__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(99);__webpack_exports__.default={title:"Avatar / Actions"};var Wave=function Wave(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.Wave)}))},Respect=function Respect(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.Respect)}))},Laugh=function Laugh(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.Laugh)}))},Smile=function Smile(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.GestureSmile)}))},CarryItem=function CarryItem(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.CarryItem),avatar.item="1"}))},UseItem=function UseItem(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.UseItem),avatar.item="1"}))},Sit=function Sit(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.Sit),avatar.item="1"}))},MultipleActions=function MultipleActions(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.Wave),avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.UseItem),avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.Sit),avatar.item="1"}))},Lay=function Lay(){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_2__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",[2,4],(function(avatar){avatar.addAction(_dist__WEBPACK_IMPORTED_MODULE_1__.AvatarAction.Lay)}))};Wave.parameters=Object.assign({storySource:{source:'function Wave() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",\r\n    undefined,\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.Wave);\r\n    }\r\n  );\r\n}'}},Wave.parameters),Respect.parameters=Object.assign({storySource:{source:'function Respect() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",\r\n    undefined,\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.Respect);\r\n    }\r\n  );\r\n}'}},Respect.parameters),Laugh.parameters=Object.assign({storySource:{source:'function Laugh() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",\r\n    undefined,\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.Laugh);\r\n    }\r\n  );\r\n}'}},Laugh.parameters),Smile.parameters=Object.assign({storySource:{source:'function Smile() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",\r\n    undefined,\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.GestureSmile);\r\n    }\r\n  );\r\n}'}},Smile.parameters),CarryItem.parameters=Object.assign({storySource:{source:'function CarryItem() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",\r\n    undefined,\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.CarryItem);\r\n      avatar.item = "1";\r\n    }\r\n  );\r\n}'}},CarryItem.parameters),UseItem.parameters=Object.assign({storySource:{source:'function UseItem() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",\r\n    undefined,\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.UseItem);\r\n      avatar.item = "1";\r\n    }\r\n  );\r\n}'}},UseItem.parameters),Sit.parameters=Object.assign({storySource:{source:'function Sit() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",\r\n    undefined,\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.Sit);\r\n      avatar.item = "1";\r\n    }\r\n  );\r\n}'}},Sit.parameters),MultipleActions.parameters=Object.assign({storySource:{source:'function MultipleActions() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",\r\n    undefined,\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.Wave);\r\n      avatar.addAction(AvatarAction.UseItem);\r\n      avatar.addAction(AvatarAction.Sit);\r\n      avatar.item = "1";\r\n    }\r\n  );\r\n}'}},MultipleActions.parameters),Lay.parameters=Object.assign({storySource:{source:'function Lay() {\r\n  return renderAvatarDirections(\r\n    "hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.ch-255-66.lg-280-110.sh-305-62",\r\n    [2, 4],\r\n    (avatar) => {\r\n      avatar.addAction(AvatarAction.Lay);\r\n    }\r\n  );\r\n}'}},Lay.parameters)},1103:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Dance1",(function(){return Dance1})),__webpack_require__.d(__webpack_exports__,"Dance2",(function(){return Dance2})),__webpack_require__.d(__webpack_exports__,"Dance3",(function(){return Dance3})),__webpack_require__.d(__webpack_exports__,"Dance4",(function(){return Dance4})),__webpack_require__.d(__webpack_exports__,"Spotlight",(function(){return Spotlight})),__webpack_require__.d(__webpack_exports__,"Hoverboard",(function(){return Hoverboard})),__webpack_require__.d(__webpack_exports__,"UFO",(function(){return UFO}));__webpack_require__(11);var _renderAvatarDirections__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(99);function renderEffect(effect){return Object(_renderAvatarDirections__WEBPACK_IMPORTED_MODULE_1__.a)("hd-180-1.hr-828-61.ha-1012-110.he-1604-62.ea-1404-62.fa-1204-62.ch-255-66.lg-280-110.sh-305-62",void 0,(function(avatar){avatar.effect=effect}))}__webpack_exports__.default={title:"Avatar / Effects"};var Dance1=function Dance1(){return renderEffect("dance.1")},Dance2=function Dance2(){return renderEffect("dance.2")},Dance3=function Dance3(){return renderEffect("dance.3")},Dance4=function Dance4(){return renderEffect("dance.4")},Spotlight=function Spotlight(){return renderEffect("1")},Hoverboard=function Hoverboard(){return renderEffect("2")},UFO=function UFO(){return renderEffect("3")};Dance1.parameters=Object.assign({storySource:{source:'function Dance1() {\r\n  return renderEffect("dance.1");\r\n}'}},Dance1.parameters),Dance2.parameters=Object.assign({storySource:{source:'function Dance2() {\r\n  return renderEffect("dance.2");\r\n}'}},Dance2.parameters),Dance3.parameters=Object.assign({storySource:{source:'function Dance3() {\r\n  return renderEffect("dance.3");\r\n}'}},Dance3.parameters),Dance4.parameters=Object.assign({storySource:{source:'function Dance4() {\r\n  return renderEffect("dance.4");\r\n}'}},Dance4.parameters),Spotlight.parameters=Object.assign({storySource:{source:'function Spotlight() {\r\n  return renderEffect("1");\r\n}'}},Spotlight.parameters),Hoverboard.parameters=Object.assign({storySource:{source:'function Hoverboard() {\r\n  return renderEffect("2");\r\n}'}},Hoverboard.parameters),UFO.parameters=Object.assign({storySource:{source:'function UFO() {\r\n  return renderEffect("3");\r\n}'}},UFO.parameters)},1104:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Animated",(function(){return Animated})),__webpack_require__.d(__webpack_exports__,"Movement",(function(){return Movement})),__webpack_require__.d(__webpack_exports__,"Highlighted",(function(){return Highlighted})),__webpack_require__.d(__webpack_exports__,"AlphaFurniture",(function(){return AlphaFurniture})),__webpack_require__.d(__webpack_exports__,"MultipleFurnitures",(function(){return MultipleFurnitures})),__webpack_require__.d(__webpack_exports__,"DifferentFetchTypes",(function(){return DifferentFetchTypes})),__webpack_require__.d(__webpack_exports__,"DetachedFurniture",(function(){return DetachedFurniture})),__webpack_require__.d(__webpack_exports__,"GldGate",(function(){return GldGate})),__webpack_require__.d(__webpack_exports__,"TileCursorFloorItems",(function(){return TileCursorFloorItems})),__webpack_require__.d(__webpack_exports__,"ValidDirections",(function(){return ValidDirections})),__webpack_require__.d(__webpack_exports__,"DestroyFurniture",(function(){return DestroyFurniture})),__webpack_require__.d(__webpack_exports__,"DestroyFurnitureWhileLoading",(function(){return DestroyFurnitureWhileLoading})),__webpack_require__.d(__webpack_exports__,"WallWindowDestroy",(function(){return WallWindowDestroy})),__webpack_require__.d(__webpack_exports__,"WallWindowDestroyWhileLoading",(function(){return WallWindowDestroyWhileLoading})),__webpack_require__.d(__webpack_exports__,"FurnitureColoring",(function(){return FurnitureColoring})),__webpack_require__.d(__webpack_exports__,"WallFurniturePosition",(function(){return WallFurniturePosition})),__webpack_require__.d(__webpack_exports__,"FurnitureFlip",(function(){return FurnitureFlip})),__webpack_require__.d(__webpack_exports__,"LayingAvatarsBehindBed",(function(){return LayingAvatarsBehindBed})),__webpack_require__.d(__webpack_exports__,"LoadTest",(function(){return LoadTest})),__webpack_require__.d(__webpack_exports__,"AnimationResetTest",(function(){return AnimationResetTest}));__webpack_require__(153),__webpack_require__(15),__webpack_require__(19),__webpack_require__(11);var pixi_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(75),_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),_common_createShroom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(39),node_fetch__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(587),node_fetch__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(node_fetch__WEBPACK_IMPORTED_MODULE_8__),_dist_objects_events_interfaces_IEventGroup__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(125);__webpack_exports__.default={title:"Furniture / General"};var Default=function Default(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref){var application=_ref.application,shroom=_ref.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;for(var i=0;i<4;i++){var furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1+3*i,roomY:1,roomZ:0,type:"club_sofa",direction:2*i});furniture.onClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("Furniture ".concat(i," clicked")),furniture.onDoubleClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("Furniture ".concat(i," Double Clicked")),furniture.validDirections.then(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("Furniture ".concat(i," valid directions"))),room.addRoomObject(furniture)}var test1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:3,roomY:3,roomZ:0,id:1626,direction:2}),test2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:3,roomY:3,roomZ:0,id:285,direction:2});test1.onClick=function(){console.log("Clicked")},test1.onDoubleClick=function(){console.log("Double Clicked")},room.onTileClick=function(position){return console.log(position)},room.addRoomObject(test1),room.addRoomObject(test2);var dice=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:3,roomZ:0,type:"edice",direction:0,animation:"0"});dice.extradata.then(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("Extra Data")),dice.validDirections.then(Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("Dice valid directions")),room.addRoomObject(dice),application.stage.addChild(room)}))},Animated=function Animated(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref2){var application=_ref2.application,shroom=_ref2.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n        xxxxxxxxxxx\n        x0000000000\n        x0000000000\n        x0000000000\n        x0000000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;for(var _loop=function _loop(i){var direction=i<=1?2:4,animation=i%2==0?"0":"1",furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1+i,roomY:1+i,roomZ:0,type:"rare_dragonlamp*".concat(i),direction:direction,animation:animation});furniture.onClick=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("Furniture ".concat(i," clicked")),furniture.onDoubleClick=function(){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.action)("Furniture ".concat(i," double clicked"))(),"0"===furniture.animation?furniture.animation="1":furniture.animation="0"},room.addRoomObject(furniture)},i=0;i<4;i++)_loop(i);application.stage.addChild(room)}))},Movement=function Movement(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref3){var application=_ref3.application,shroom=_ref3.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n        xxxxxxxxxxx\n        x0000000000\n        x0000000000\n        x0000000000\n        x0000000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;var furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,type:"rare_dragonlamp*1",direction:2,animation:"1"});setTimeout((function(){furniture.move(1,2,0)}),2e3),setTimeout((function(){furniture.move(2,2,0),furniture.move(3,2,0)}),4e3),room.addRoomObject(furniture),application.stage.addChild(room)}))},Highlighted=function Highlighted(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref4){var application=_ref4.application,shroom=_ref4.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;var furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,type:"rare_dragonlamp*1",direction:2}),furniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:3,roomY:1,roomZ:0,type:"club_sofa",direction:4});furniture1.highlight=!0,furniture2.highlight=!0,furniture1.onClick=function(){furniture1.highlight=!furniture1.highlight},furniture2.onClick=function(){furniture2.highlight=!furniture2.highlight},room.addRoomObject(furniture1),room.addRoomObject(furniture2),application.stage.addChild(room)}))},AlphaFurniture=function AlphaFurniture(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref5){var application=_ref5.application,shroom=_ref5.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;var furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,type:"rare_dragonlamp*1",direction:2}),furniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:3,roomY:1,roomZ:0,type:"club_sofa",direction:4});furniture1.alpha=.5,furniture2.alpha=.25,room.addRoomObject(furniture1),room.addRoomObject(furniture2),application.stage.addChild(room)}))},MultipleFurnitures=function MultipleFurnitures(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref6){var application=_ref6.application,shroom=_ref6.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;for(var furnis=[],y=0;y<4;y++)for(var x=0;x<5;x++){var id=10*y+x,furni=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1+2*x,roomY:1+2*y,roomZ:0,direction:0,id:id+1800});room.addRoomObject(furni),furnis.push(furni)}setTimeout((function(){furnis.forEach((function(furni){return furni.move(furni.roomX,furni.roomY+1,0)}))}),2500),application.stage.addChild(room)}))},DifferentFetchTypes=function DifferentFetchTypes(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref7){var application=_ref7.application,shroom=_ref7.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;var wallFurniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.WallFurniture({id:4054,direction:2,roomX:1,roomY:1,offsetX:0,offsetY:0}),floorFurniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({id:4054,direction:2,roomX:1,roomY:1,roomZ:0});room.addRoomObject(wallFurniture),room.addRoomObject(floorFurniture),application.stage.addChild(room)}))},DetachedFurniture=function DetachedFurniture(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref8){var application=_ref8.application,shroom=_ref8.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_4__.b;container.sortableChildren=!0,application.stage.addChild(container);var furniture=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.BaseFurniture.fromShroom(shroom,container,{animation:"0",direction:2,type:{type:"club_sofa",kind:"type"},onLoad:function onLoad(){console.log("Club Sofa Loaded")}});furniture.x=100,furniture.y=100}))},GldGate=function GldGate(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref9){var application=_ref9.application,shroom=_ref9.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_4__.b;application.stage.addChild(container);var room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n           xxxxxxxxxxx\n           x0000000000\n           x0000000000\n           x0000000000\n           x0000000000\n           x0000000000\n           x0000000000\n           x0000000000\n           x0000000000\n          "});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2;var floorFurniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({type:"bottle",direction:0,roomX:1,roomY:3,roomZ:0,animation:"0"}),b=!1,floorFurniture3=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({type:"gld_gate",direction:2,roomX:1,roomY:5,roomZ:0,animation:"0"}),handleVisualization=function handleVisualization(furniture,visualization){switch(visualization){case"furniture_guild_customized":furniture.visualization=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FurnitureGuildCustomizedVisualization({primaryColor:"ff0000",secondaryColor:"ffff00"});break;case"furniture_bottle":furniture.visualization=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FurnitureBottleVisualization}};floorFurniture3.extradata.then((function(_ref10){var visualization=_ref10.visualization;return handleVisualization(floorFurniture3,visualization)})),floorFurniture2.extradata.then((function(_ref11){var visualization=_ref11.visualization;handleVisualization(floorFurniture2,visualization)}));var spinning=!1;floorFurniture2.onClick=function(){spinning?(floorFurniture2.animation="3",spinning=!1):(spinning=!0,floorFurniture2.animation="-1")},floorFurniture3.onClick=function(){b=!b,floorFurniture3.animation=b?"1":"0"},room.addRoomObject(floorFurniture2),room.addRoomObject(floorFurniture3),application.stage.addChild(room)}))},TileCursorFloorItems=function TileCursorFloorItems(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref12){var application=_ref12.application,shroom=_ref12.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_4__.b;application.stage.addChild(container);var room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:2,type:"lc_glass_floor"}),furniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:4,type:"club_sofa"});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture),room.addRoomObject(furniture2),application.stage.addChild(room)}))},ValidDirections=function ValidDirections(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref13){var application=_ref13.application,shroom=_ref13.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_4__.b;application.stage.addChild(container);var room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:2,id:8434}),furniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:3,roomZ:0,animation:"0",direction:4,id:8434}),furniture3=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:5,roomZ:0,animation:"0",direction:6,id:8434}),furniture4=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:7,roomZ:0,animation:"0",direction:0,id:8434});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture1),room.addRoomObject(furniture2),room.addRoomObject(furniture3),room.addRoomObject(furniture4),application.stage.addChild(room)}))},DestroyFurniture=function DestroyFurniture(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref14){var application=_ref14.application,shroom=_ref14.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_4__.b;application.stage.addChild(container);var room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:4,type:"club_sofa"});setTimeout((function(){room.removeRoomObject(furniture)}),5e3),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture),application.stage.addChild(room)}))},DestroyFurnitureWhileLoading=function DestroyFurnitureWhileLoading(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref15){var application=_ref15.application,shroom=_ref15.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_4__.b;application.stage.addChild(container),shroom.dependencies.furnitureLoader.delay=5e3;var room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:4,type:"club_sofa"});setTimeout((function(){room.removeRoomObject(furniture)}),2500),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture),application.stage.addChild(room)}))},WallWindowDestroy=function WallWindowDestroy(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref16){var application=_ref16.application,shroom=_ref16.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_4__.b;application.stage.addChild(container);var room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.WallFurniture({roomX:1,roomY:1,offsetX:0,offsetY:0,animation:"0",direction:4,type:"window_skyscraper"});setTimeout((function(){room.removeRoomObject(furniture)}),4e3),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture),application.stage.addChild(room)}))},WallWindowDestroyWhileLoading=function WallWindowDestroyWhileLoading(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref17){var application=_ref17.application,shroom=_ref17.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_4__.b;application.stage.addChild(container),shroom.dependencies.furnitureLoader.delay=5e3;var room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.WallFurniture({roomX:1,roomY:1,offsetX:0,offsetY:0,animation:"0",direction:4,type:"window_skyscraper"});setTimeout((function(){room.removeRoomObject(furniture)}),2500),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture),application.stage.addChild(room)}))},FurnitureColoring=function FurnitureColoring(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref18){var application=_ref18.application,shroom=_ref18.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:2,type:"bed_budget"}),furniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:3,roomZ:0,animation:"0",direction:2,type:"rare_elephant_statue"}),furniture3=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:4,roomZ:0,animation:"0",direction:2,id:290});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture1),room.addRoomObject(furniture2),room.addRoomObject(furniture3),application.stage.addChild(room)}))},WallFurniturePosition=function WallFurniturePosition(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref19){var application=_ref19.application,shroom=_ref19.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n      xxxxxxxxxxxx\n      xxxxxxxxxxxx\n      xxxxxxxxxxxx\n      xxxxxxxxxxxx\n      xxxxxxxxxxxx\n      xxxxx000000x\n      xxxxx000000x\n      xxxx0000000x\n      xxxxx000000x\n      xxxxx000000x\n      xxxxx000000x\n      xxxxxxxxxxxx\n      xxxxxxxxxxxx\n      xxxxxxxxxxxx\n      xxxxxxxxxxxx\n      xxxxxxxxxxxx\n      "}),furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.WallFurniture({roomX:4,roomY:5,offsetX:6,offsetY:51,animation:"0",direction:2,type:"flag_peru"});room.onActiveWallChange.subscribe((function(value){null!=value&&(furniture1.roomX=value.roomX,furniture1.roomY=value.roomY,furniture1.offsetX=value.offsetX,furniture1.offsetY=value.offsetY,furniture1.direction="l"===value.wall?2:4,console.log(value.offsetX,value.offsetY))}));var furniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.WallFurniture({roomX:5,roomY:4,offsetX:9,offsetY:51,animation:"0",direction:4,type:"flag_peru"}),furniture3=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.WallFurniture({roomX:4,roomY:10,offsetX:9,offsetY:14,animation:"0",direction:2,type:"flag_peru"});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture1),room.addRoomObject(furniture2),room.addRoomObject(furniture3),application.stage.addChild(room)}))},FurnitureFlip=function FurnitureFlip(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref20){var application=_ref20.application,shroom=_ref20.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:0,type:"rare_fan*1"}),furniture2=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:3,roomY:1,roomZ:0,animation:"0",direction:6,type:"rare_fan*2"});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture1),room.addRoomObject(furniture2),application.stage.addChild(room)}))},LayingAvatarsBehindBed=function LayingAvatarsBehindBed(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref21){var application=_ref21.application,shroom=_ref21.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:2,type:"bed_budget"}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Avatar({roomX:1,roomY:1,direction:2,look:"hr-3163-39.hd-180-2.lg-3202-1322-1329.ch-215-1331",roomZ:0});avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.AvatarAction.Lay),setTimeout((function(){avatar.walk(1,2,0)}),2500),room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture1),room.addRoomObject(avatar),application.stage.addChild(room)}))},LoadTest=function LoadTest(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref22){var activeFurniture,application=_ref22.application,shroom=_ref22.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "});node_fetch__WEBPACK_IMPORTED_MODULE_8___default()("./furni.json").then((function(response){return response.json()})).then((function(furnitures){furnitures.forEach((function(furni){var obj=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:furni.x,roomY:furni.y,roomZ:furni.z,type:furni.item,direction:furni.rot,animation:furni.extra_data});obj.extradata.then((function(_ref23){switch(_ref23.visualization){case"furniture_animated":obj.visualization=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.AnimatedFurnitureVisualization;break;case"furniture_static":obj.visualization=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.BasicFurnitureVisualization}})),obj.onClick=function(event){console.log("Clicked"),event.skip(_dist_objects_events_interfaces_IEventGroup__WEBPACK_IMPORTED_MODULE_9__.FURNITURE,_dist_objects_events_interfaces_IEventGroup__WEBPACK_IMPORTED_MODULE_9__.AVATAR)},obj.onPointerOver=function(event){null==activeFurniture&&(activeFurniture=obj,console.log("Active Furniture",obj.type,obj.roomX,obj.roomY))},obj.onPointerOut=function(event){activeFurniture===obj&&(activeFurniture=void 0)},room.addRoomObject(obj)}))}));var furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:2,type:"bed_budget"});room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture1),room.onTileClick=function(event){console.log(event)},application.stage.addChild(room)}))},AnimationResetTest=function AnimationResetTest(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_6__.a)((function(_ref24){var application=_ref24.application,shroom=_ref24.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.Room.create(shroom,{tilemap:"\n       xxxxxxxxxxx\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n       x0000000000\n      "}),furniture1=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_5__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:2,id:3675});furniture1.onClick=function(event){furniture1.animation="1"},room.x=application.screen.width/2-room.roomWidth/2,room.y=application.screen.height/2-room.roomHeight/2,room.addRoomObject(furniture1),application.stage.addChild(room)}))};Default.parameters=Object.assign({storySource:{source:'function Default() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      const furniture = new FloorFurniture({\r\n        roomX: 1 + i * 3,\r\n        roomY: 1,\r\n        roomZ: 0,\r\n        type: "club_sofa",\r\n        direction: i * 2,\r\n      });\r\n\r\n      furniture.onClick = action(`Furniture ${i} clicked`);\r\n      furniture.onDoubleClick = action(`Furniture ${i} Double Clicked`);\r\n      furniture.validDirections.then(action(`Furniture ${i} valid directions`));\r\n\r\n      room.addRoomObject(furniture);\r\n    }\r\n\r\n    const test1 = new FloorFurniture({\r\n      roomX: 3,\r\n      roomY: 3,\r\n      roomZ: 0,\r\n      id: 1626,\r\n      direction: 2,\r\n    });\r\n\r\n    const test2 = new FloorFurniture({\r\n      roomX: 3,\r\n      roomY: 3,\r\n      roomZ: 0,\r\n      id: 285,\r\n      direction: 2,\r\n    });\r\n\r\n    test1.onClick = () => {\r\n      console.log("Clicked");\r\n    };\r\n    test1.onDoubleClick = () => {\r\n      console.log("Double Clicked");\r\n    };\r\n\r\n    room.onTileClick = (position) => console.log(position);\r\n    room.addRoomObject(test1);\r\n    room.addRoomObject(test2);\r\n\r\n    const dice = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 3,\r\n      roomZ: 0,\r\n      type: "edice",\r\n      direction: 0,\r\n      animation: "0",\r\n    });\r\n\r\n    dice.extradata.then(action("Extra Data"));\r\n    dice.validDirections.then(action(`Dice valid directions`));\r\n\r\n    room.addRoomObject(dice);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Default.parameters),Animated.parameters=Object.assign({storySource:{source:'function Animated() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxxxxxx\r\n        x0000000000\r\n        x0000000000\r\n        x0000000000\r\n        x0000000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      const direction = i <= 1 ? 2 : 4;\r\n      const animation = i % 2 === 0 ? "0" : "1";\r\n\r\n      const furniture = new FloorFurniture({\r\n        roomX: 1 + i,\r\n        roomY: 1 + i,\r\n        roomZ: 0,\r\n        type: `rare_dragonlamp*${i}`,\r\n        direction,\r\n        animation,\r\n      });\r\n\r\n      furniture.onClick = action(`Furniture ${i} clicked`);\r\n      furniture.onDoubleClick = () => {\r\n        action(`Furniture ${i} double clicked`)();\r\n        if (furniture.animation === "0") {\r\n          furniture.animation = "1";\r\n        } else {\r\n          furniture.animation = "0";\r\n        }\r\n      };\r\n      /*\r\n      if (i === 0) {\r\n        room.onActiveTileChange.subscribe((value) => {\r\n          if (value == null) return;\r\n\r\n          furniture.roomX = value.roomX;\r\n          furniture.roomY = value.roomY;\r\n          furniture.roomZ = value.roomZ;\r\n        });\r\n      }*/\r\n\r\n      room.addRoomObject(furniture);\r\n    }\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Animated.parameters),Movement.parameters=Object.assign({storySource:{source:'function Movement() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxxxxxxxxx\r\n        x0000000000\r\n        x0000000000\r\n        x0000000000\r\n        x0000000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    const furniture = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      type: `rare_dragonlamp*1`,\r\n      direction: 2,\r\n      animation: "1",\r\n    });\r\n\r\n    setTimeout(() => {\r\n      furniture.move(1, 2, 0);\r\n    }, 2000);\r\n\r\n    setTimeout(() => {\r\n      furniture.move(2, 2, 0);\r\n      furniture.move(3, 2, 0);\r\n    }, 4000);\r\n\r\n    room.addRoomObject(furniture);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Movement.parameters),Highlighted.parameters=Object.assign({storySource:{source:'function Highlighted() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      type: "rare_dragonlamp*1",\r\n      direction: 2,\r\n    });\r\n\r\n    const furniture2 = new FloorFurniture({\r\n      roomX: 3,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      type: "club_sofa",\r\n      direction: 4,\r\n    });\r\n\r\n    furniture1.highlight = true;\r\n    furniture2.highlight = true;\r\n\r\n    furniture1.onClick = () => {\r\n      furniture1.highlight = !furniture1.highlight;\r\n    };\r\n\r\n    furniture2.onClick = () => {\r\n      furniture2.highlight = !furniture2.highlight;\r\n    };\r\n\r\n    room.addRoomObject(furniture1);\r\n    room.addRoomObject(furniture2);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},Highlighted.parameters),AlphaFurniture.parameters=Object.assign({storySource:{source:'function AlphaFurniture() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      type: "rare_dragonlamp*1",\r\n      direction: 2,\r\n    });\r\n\r\n    const furniture2 = new FloorFurniture({\r\n      roomX: 3,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      type: "club_sofa",\r\n      direction: 4,\r\n    });\r\n\r\n    furniture1.alpha = 0.5;\r\n    furniture2.alpha = 0.25;\r\n\r\n    room.addRoomObject(furniture1);\r\n    room.addRoomObject(furniture2);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},AlphaFurniture.parameters),MultipleFurnitures.parameters=Object.assign({storySource:{source:"function MultipleFurnitures() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    const furnis: FloorFurniture[] = [];\r\n\r\n    for (let y = 0; y < 4; y++) {\r\n      for (let x = 0; x < 5; x++) {\r\n        const id = y * 10 + x;\r\n\r\n        const furni = new FloorFurniture({\r\n          roomX: 1 + x * 2,\r\n          roomY: 1 + y * 2,\r\n          roomZ: 0,\r\n          direction: 0,\r\n          id: id + 1800,\r\n        });\r\n\r\n        room.addRoomObject(furni);\r\n\r\n        furnis.push(furni);\r\n      }\r\n    }\r\n\r\n    setTimeout(() => {\r\n      furnis.forEach((furni) => furni.move(furni.roomX, furni.roomY + 1, 0));\r\n    }, 2500);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},MultipleFurnitures.parameters),DifferentFetchTypes.parameters=Object.assign({storySource:{source:"function DifferentFetchTypes() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    const wallFurniture = new WallFurniture({\r\n      id: 4054,\r\n      direction: 2,\r\n      roomX: 1,\r\n      roomY: 1,\r\n      offsetX: 0,\r\n      offsetY: 0,\r\n    });\r\n    const floorFurniture = new FloorFurniture({\r\n      id: 4054,\r\n      direction: 2,\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n    });\r\n\r\n    room.addRoomObject(wallFurniture);\r\n    room.addRoomObject(floorFurniture);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}"}},DifferentFetchTypes.parameters),DetachedFurniture.parameters=Object.assign({storySource:{source:'function DetachedFurniture() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    container.sortableChildren = true;\r\n\r\n    application.stage.addChild(container);\r\n\r\n    const furniture = BaseFurniture.fromShroom(shroom, container, {\r\n      animation: "0",\r\n      direction: 2,\r\n      type: { type: "club_sofa", kind: "type" },\r\n      onLoad: () => {\r\n        console.log("Club Sofa Loaded");\r\n      },\r\n    });\r\n\r\n    furniture.x = 100;\r\n    furniture.y = 100;\r\n  });\r\n}'}},DetachedFurniture.parameters),GldGate.parameters=Object.assign({storySource:{source:'function GldGate() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    application.stage.addChild(container);\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n           xxxxxxxxxxx\r\n           x0000000000\r\n           x0000000000\r\n           x0000000000\r\n           x0000000000\r\n           x0000000000\r\n           x0000000000\r\n           x0000000000\r\n           x0000000000\r\n          `,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n\r\n    const floorFurniture2 = new FloorFurniture({\r\n      type: "bottle",\r\n      direction: 0,\r\n      roomX: 1,\r\n      roomY: 3,\r\n      roomZ: 0,\r\n      animation: "0",\r\n    });\r\n\r\n    let b = false;\r\n\r\n    const floorFurniture3 = new FloorFurniture({\r\n      type: "gld_gate",\r\n      direction: 2,\r\n      roomX: 1,\r\n      roomY: 5,\r\n      roomZ: 0,\r\n      animation: "0",\r\n    });\r\n\r\n    const handleVisualization = (\r\n      furniture: IFurniture,\r\n      visualization: string | undefined\r\n    ) => {\r\n      switch (visualization) {\r\n        case "furniture_guild_customized":\r\n          furniture.visualization = new FurnitureGuildCustomizedVisualization({\r\n            primaryColor: "ff0000",\r\n            secondaryColor: "ffff00",\r\n          });\r\n          break;\r\n\r\n        case "furniture_bottle":\r\n          furniture.visualization = new FurnitureBottleVisualization();\r\n          break;\r\n      }\r\n    };\r\n\r\n    floorFurniture3.extradata.then(({ visualization }) =>\r\n      handleVisualization(floorFurniture3, visualization)\r\n    );\r\n\r\n    floorFurniture2.extradata.then(({ visualization }) => {\r\n      handleVisualization(floorFurniture2, visualization);\r\n    });\r\n\r\n    let spinning = false;\r\n    floorFurniture2.onClick = () => {\r\n      if (spinning) {\r\n        floorFurniture2.animation = "3";\r\n        spinning = false;\r\n      } else {\r\n        spinning = true;\r\n        floorFurniture2.animation = "-1";\r\n      }\r\n    };\r\n\r\n    floorFurniture3.onClick = () => {\r\n      b = !b;\r\n\r\n      if (b) {\r\n        floorFurniture3.animation = "1";\r\n      } else {\r\n        floorFurniture3.animation = "0";\r\n      }\r\n    };\r\n\r\n    room.addRoomObject(floorFurniture2);\r\n    room.addRoomObject(floorFurniture3);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},GldGate.parameters),TileCursorFloorItems.parameters=Object.assign({storySource:{source:'function TileCursorFloorItems() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    application.stage.addChild(container);\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      type: "lc_glass_floor",\r\n    });\r\n\r\n    const furniture2 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 4,\r\n      type: "club_sofa",\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture);\r\n    room.addRoomObject(furniture2);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},TileCursorFloorItems.parameters),ValidDirections.parameters=Object.assign({storySource:{source:'function ValidDirections() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    application.stage.addChild(container);\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      id: 8434,\r\n    });\r\n\r\n    const furniture2 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 3,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 4,\r\n      id: 8434,\r\n    });\r\n\r\n    const furniture3 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 5,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 6,\r\n      id: 8434,\r\n    });\r\n\r\n    const furniture4 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 7,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 0,\r\n      id: 8434,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture1);\r\n    room.addRoomObject(furniture2);\r\n    room.addRoomObject(furniture3);\r\n    room.addRoomObject(furniture4);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},ValidDirections.parameters),DestroyFurniture.parameters=Object.assign({storySource:{source:'function DestroyFurniture() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    application.stage.addChild(container);\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 4,\r\n      type: "club_sofa",\r\n    });\r\n\r\n    setTimeout(() => {\r\n      room.removeRoomObject(furniture);\r\n    }, 5000);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},DestroyFurniture.parameters),DestroyFurnitureWhileLoading.parameters=Object.assign({storySource:{source:'function DestroyFurnitureWhileLoading() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    application.stage.addChild(container);\r\n\r\n    const furnitureLoader = shroom.dependencies\r\n      .furnitureLoader as FurnitureLoader;\r\n\r\n    furnitureLoader.delay = 5000;\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 4,\r\n      type: "club_sofa",\r\n    });\r\n\r\n    setTimeout(() => {\r\n      room.removeRoomObject(furniture);\r\n    }, 2500);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},DestroyFurnitureWhileLoading.parameters),WallWindowDestroy.parameters=Object.assign({storySource:{source:'function WallWindowDestroy() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    application.stage.addChild(container);\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture = new WallFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      offsetX: 0,\r\n      offsetY: 0,\r\n      animation: "0",\r\n      direction: 4,\r\n      type: "window_skyscraper",\r\n    });\r\n\r\n    setTimeout(() => {\r\n      room.removeRoomObject(furniture);\r\n    }, 4000);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},WallWindowDestroy.parameters),WallWindowDestroyWhileLoading.parameters=Object.assign({storySource:{source:'function WallWindowDestroyWhileLoading() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    application.stage.addChild(container);\r\n\r\n    const furnitureLoader = shroom.dependencies\r\n      .furnitureLoader as FurnitureLoader;\r\n\r\n    furnitureLoader.delay = 5000;\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture = new WallFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      offsetX: 0,\r\n      offsetY: 0,\r\n      animation: "0",\r\n      direction: 4,\r\n      type: "window_skyscraper",\r\n    });\r\n\r\n    setTimeout(() => {\r\n      room.removeRoomObject(furniture);\r\n    }, 2500);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},WallWindowDestroyWhileLoading.parameters),FurnitureColoring.parameters=Object.assign({storySource:{source:'function FurnitureColoring() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      type: "bed_budget",\r\n    });\r\n\r\n    const furniture2 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 3,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      type: "rare_elephant_statue",\r\n    });\r\n\r\n    const furniture3 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 4,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      id: 290,\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture1);\r\n    room.addRoomObject(furniture2);\r\n    room.addRoomObject(furniture3);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},FurnitureColoring.parameters),WallFurniturePosition.parameters=Object.assign({storySource:{source:'function WallFurniturePosition() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n      xxxxxxxxxxxx\r\n      xxxxxxxxxxxx\r\n      xxxxxxxxxxxx\r\n      xxxxxxxxxxxx\r\n      xxxxxxxxxxxx\r\n      xxxxx000000x\r\n      xxxxx000000x\r\n      xxxx0000000x\r\n      xxxxx000000x\r\n      xxxxx000000x\r\n      xxxxx000000x\r\n      xxxxxxxxxxxx\r\n      xxxxxxxxxxxx\r\n      xxxxxxxxxxxx\r\n      xxxxxxxxxxxx\r\n      xxxxxxxxxxxx\r\n      `,\r\n    });\r\n\r\n    const furniture1 = new WallFurniture({\r\n      roomX: 4,\r\n      roomY: 5,\r\n      offsetX: 6,\r\n      offsetY: 51,\r\n      animation: "0",\r\n      direction: 2,\r\n      type: "flag_peru",\r\n    });\r\n\r\n    room.onActiveWallChange.subscribe((value) => {\r\n      if (value == null) return;\r\n\r\n      furniture1.roomX = value.roomX;\r\n      furniture1.roomY = value.roomY;\r\n      furniture1.offsetX = value.offsetX;\r\n      furniture1.offsetY = value.offsetY;\r\n      furniture1.direction = value.wall === "l" ? 2 : 4;\r\n\r\n      console.log(value.offsetX, value.offsetY);\r\n    });\r\n\r\n    const furniture2 = new WallFurniture({\r\n      roomX: 5,\r\n      roomY: 4,\r\n      offsetX: 9,\r\n      offsetY: 51,\r\n      animation: "0",\r\n      direction: 4,\r\n      type: "flag_peru",\r\n    });\r\n\r\n    const furniture3 = new WallFurniture({\r\n      roomX: 4,\r\n      roomY: 10,\r\n      offsetX: 9,\r\n      offsetY: 14,\r\n      animation: "0",\r\n      direction: 2,\r\n      type: "flag_peru",\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture1);\r\n    room.addRoomObject(furniture2);\r\n    room.addRoomObject(furniture3);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},WallFurniturePosition.parameters),FurnitureFlip.parameters=Object.assign({storySource:{source:'function FurnitureFlip() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 0,\r\n      type: "rare_fan*1",\r\n    });\r\n\r\n    const furniture2 = new FloorFurniture({\r\n      roomX: 3,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 6,\r\n      type: "rare_fan*2",\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture1);\r\n    room.addRoomObject(furniture2);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},FurnitureFlip.parameters),LayingAvatarsBehindBed.parameters=Object.assign({storySource:{source:'function LayingAvatarsBehindBed() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      type: "bed_budget",\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      direction: 2,\r\n      look: "hr-3163-39.hd-180-2.lg-3202-1322-1329.ch-215-1331",\r\n      roomZ: 0,\r\n    });\r\n\r\n    avatar.addAction(AvatarAction.Lay);\r\n\r\n    setTimeout(() => {\r\n      avatar.walk(1, 2, 0);\r\n    }, 2500);\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture1);\r\n    room.addRoomObject(avatar);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},LayingAvatarsBehindBed.parameters),LoadTest.parameters=Object.assign({storySource:{source:'function LoadTest() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    let activeFurniture: FloorFurniture | undefined;\r\n\r\n    fetch(`./furni.json`)\r\n      .then((response) => response.json())\r\n      .then((furnitures: any[]) => {\r\n        furnitures.forEach((furni) => {\r\n          const obj = new FloorFurniture({\r\n            roomX: furni.x,\r\n            roomY: furni.y,\r\n            roomZ: furni.z,\r\n            type: furni.item,\r\n            direction: furni.rot,\r\n            animation: furni.extra_data,\r\n          });\r\n\r\n          obj.extradata.then(({ visualization }) => {\r\n            switch (visualization) {\r\n              case "furniture_animated":\r\n                obj.visualization = new AnimatedFurnitureVisualization();\r\n                break;\r\n              case "furniture_static":\r\n                obj.visualization = new BasicFurnitureVisualization();\r\n                break;\r\n            }\r\n          });\r\n\r\n          obj.onClick = (event) => {\r\n            console.log("Clicked");\r\n            event.skip(FURNITURE, AVATAR);\r\n          };\r\n\r\n          obj.onPointerOver = (event) => {\r\n            if (activeFurniture != null) return;\r\n\r\n            activeFurniture = obj;\r\n            console.log("Active Furniture", obj.type, obj.roomX, obj.roomY);\r\n          };\r\n\r\n          obj.onPointerOut = (event) => {\r\n            if (activeFurniture === obj) {\r\n              activeFurniture = undefined;\r\n            }\r\n          };\r\n\r\n          room.addRoomObject(obj);\r\n        });\r\n      });\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      type: "bed_budget",\r\n    });\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture1);\r\n\r\n    room.onTileClick = (event) => {\r\n      console.log(event);\r\n    };\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},LoadTest.parameters),AnimationResetTest.parameters=Object.assign({storySource:{source:'function AnimationResetTest() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n       xxxxxxxxxxx\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n       x0000000000\r\n      `,\r\n    });\r\n\r\n    const furniture1 = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      id: 3675,\r\n    });\r\n\r\n    furniture1.onClick = (event) => {\r\n      furniture1.animation = "1";\r\n    };\r\n\r\n    room.x = application.screen.width / 2 - room.roomWidth / 2;\r\n    room.y = application.screen.height / 2 - room.roomHeight / 2;\r\n    room.addRoomObject(furniture1);\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},AnimationResetTest.parameters)},1106:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ClubSofa",(function(){return ClubSofa})),__webpack_require__.d(__webpack_exports__,"DragonLamp0",(function(){return DragonLamp0})),__webpack_require__.d(__webpack_exports__,"DragonLamp1",(function(){return DragonLamp1})),__webpack_require__.d(__webpack_exports__,"GuildGate",(function(){return GuildGate})),__webpack_require__.d(__webpack_exports__,"RareDaffodilRug",(function(){return RareDaffodilRug}));__webpack_require__(11);var _renderFurnitureExample__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(128);__webpack_exports__.default={title:"Furniture / Examples"};var ClubSofa=function ClubSofa(){return Object(_renderFurnitureExample__WEBPACK_IMPORTED_MODULE_1__.a)("club_sofa",{directions:[0,2,4,6],spacing:3})},DragonLamp0=function DragonLamp0(){return Object(_renderFurnitureExample__WEBPACK_IMPORTED_MODULE_1__.a)("rare_dragonlamp*0",{directions:[2,4],spacing:3,animations:["0","1"]})},DragonLamp1=function DragonLamp1(){return Object(_renderFurnitureExample__WEBPACK_IMPORTED_MODULE_1__.a)("rare_dragonlamp*1",{directions:[2,4],spacing:3,animations:["0","1"]})},GuildGate=function GuildGate(){return Object(_renderFurnitureExample__WEBPACK_IMPORTED_MODULE_1__.a)("gld_gate",{directions:[2,4],spacing:3,animations:["0","1"]})},RareDaffodilRug=function RareDaffodilRug(){return Object(_renderFurnitureExample__WEBPACK_IMPORTED_MODULE_1__.a)("rare_daffodil_rug",{directions:[0,2,4,6],spacing:3})};ClubSofa.parameters=Object.assign({storySource:{source:'function ClubSofa() {\r\n  return renderFurnitureExample("club_sofa", {\r\n    directions: [0, 2, 4, 6],\r\n    spacing: 3,\r\n  });\r\n}'}},ClubSofa.parameters),DragonLamp0.parameters=Object.assign({storySource:{source:'function DragonLamp0() {\r\n  return renderFurnitureExample("rare_dragonlamp*0", {\r\n    directions: [2, 4],\r\n    spacing: 3,\r\n    animations: ["0", "1"],\r\n  });\r\n}'}},DragonLamp0.parameters),DragonLamp1.parameters=Object.assign({storySource:{source:'function DragonLamp1() {\r\n  return renderFurnitureExample("rare_dragonlamp*1", {\r\n    directions: [2, 4],\r\n    spacing: 3,\r\n    animations: ["0", "1"],\r\n  });\r\n}'}},DragonLamp1.parameters),GuildGate.parameters=Object.assign({storySource:{source:'function GuildGate() {\r\n  return renderFurnitureExample("gld_gate", {\r\n    directions: [2, 4],\r\n    spacing: 3,\r\n    animations: ["0", "1"],\r\n  });\r\n}'}},GuildGate.parameters),RareDaffodilRug.parameters=Object.assign({storySource:{source:'function RareDaffodilRug() {\r\n  return renderFurnitureExample("rare_daffodil_rug", {\r\n    directions: [0, 2, 4, 6],\r\n    spacing: 3,\r\n  });\r\n}'}},RareDaffodilRug.parameters)},1107:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DestroyFurnitureWhileMoving",(function(){return DestroyFurnitureWhileMoving}));__webpack_require__(153),__webpack_require__(11);var pixi_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(75),_tetreum_shroom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_common_createShroom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10);__webpack_exports__.default={title:"Furniture / Issues"};var DestroyFurnitureWhileMoving=function DestroyFurnitureWhileMoving(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_4__.a)((function(_ref){var application=_ref.application,shroom=_ref.shroom,container=new pixi_js__WEBPACK_IMPORTED_MODULE_2__.b;application.stage.addChild(container);var room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_3__.Room.create(shroom,{tilemap:"\n         xxxxxxxxxxx\n         x0000000000\n         x0000000000\n         x0000000000\n         x0000000000\n         x0000000000\n         x0000000000\n         x0000000000\n         x0000000000\n        "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_3__.FloorFurniture({roomX:1,roomY:1,roomZ:0,animation:"0",direction:2,id:8434});room.addRoomObject(furniture),setTimeout((function(){furniture.move(3,2,0),furniture.destroy()}),2e3),application.stage.addChild(room)}))};DestroyFurnitureWhileMoving.parameters=Object.assign({storySource:{source:'function DestroyFurnitureWhileMoving() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const container = new PIXI.Container();\r\n    application.stage.addChild(container);\r\n\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n         xxxxxxxxxxx\r\n         x0000000000\r\n         x0000000000\r\n         x0000000000\r\n         x0000000000\r\n         x0000000000\r\n         x0000000000\r\n         x0000000000\r\n         x0000000000\r\n        `,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      animation: "0",\r\n      direction: 2,\r\n      id: 8434,\r\n    });\r\n\r\n    room.addRoomObject(furniture);\r\n\r\n    setTimeout(() => {\r\n      furniture.move(3, 2, 0);\r\n      furniture.destroy();\r\n    }, 2000);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},DestroyFurnitureWhileMoving.parameters)},1108:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"StaticVisualization",(function(){return StaticVisualization})),__webpack_require__.d(__webpack_exports__,"GuildVisualization",(function(){return GuildVisualization}));__webpack_require__(11);var _dist__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_renderFurnitureExample__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(128);__webpack_exports__.default={title:"Furniture / Visualizations"};var StaticVisualization=function StaticVisualization(){return Object(_renderFurnitureExample__WEBPACK_IMPORTED_MODULE_2__.a)("rare_dragonlamp*0",{directions:[2,4],spacing:2,animations:["1"]},(function(furniture){furniture.visualization=new _dist__WEBPACK_IMPORTED_MODULE_1__.BasicFurnitureVisualization}))},GuildVisualization=function GuildVisualization(){return Object(_renderFurnitureExample__WEBPACK_IMPORTED_MODULE_2__.a)("gld_gate",{directions:[2,4],spacing:2},(function(furniture){furniture.visualization=new _dist__WEBPACK_IMPORTED_MODULE_1__.FurnitureGuildCustomizedVisualization({primaryColor:"#ff00ff",secondaryColor:"#00ff00"})}))};StaticVisualization.parameters=Object.assign({storySource:{source:'function StaticVisualization() {\r\n  return renderFurnitureExample(\r\n    "rare_dragonlamp*0",\r\n    { directions: [2, 4], spacing: 2, animations: ["1"] },\r\n    (furniture) => {\r\n      furniture.visualization = new BasicFurnitureVisualization();\r\n    }\r\n  );\r\n}'}},StaticVisualization.parameters),GuildVisualization.parameters=Object.assign({storySource:{source:'function GuildVisualization() {\r\n  return renderFurnitureExample(\r\n    "gld_gate",\r\n    { directions: [2, 4], spacing: 2 },\r\n    (furniture) => {\r\n      furniture.visualization = new FurnitureGuildCustomizedVisualization({\r\n        primaryColor: "#ff00ff",\r\n        secondaryColor: "#00ff00",\r\n      });\r\n    }\r\n  );\r\n}'}},GuildVisualization.parameters)},1116:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(27),__webpack_require__(14),__webpack_require__(49),__webpack_require__(79),__webpack_require__(15),__webpack_require__(19),__webpack_require__(962),__webpack_require__(963),__webpack_require__(3);var client_api=__webpack_require__(165),esm=__webpack_require__(17),parameters={actions:{argTypesRegex:"^on[A-Z].*"}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.b)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.c)(loader,!1)}));case"parameters":return Object(client_api.d)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.d)(v,!1);default:return console.log(key+" was not supported :( !")}}))},125:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(14),__webpack_require__(16),__webpack_require__(5),Object.defineProperty(exports,"__esModule",{value:!0}),exports.TILE_CURSOR=exports.AVATAR=exports.FURNITURE=void 0,exports.FURNITURE=Symbol("FURNITURE"),exports.AVATAR=Symbol("AVATAR"),exports.TILE_CURSOR=Symbol("TILE_CURSOR")},128:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return renderFurnitureExample}));__webpack_require__(25),__webpack_require__(5),__webpack_require__(12),__webpack_require__(36),__webpack_require__(6),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(7),__webpack_require__(9),__webpack_require__(62);var _tetreum_shroom__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1),_common_createShroom__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function renderFurnitureExample(type,_ref){var _ref$animations=_ref.animations,animations=void 0===_ref$animations?["0"]:_ref$animations,_ref$spacing=_ref.spacing,spacing=void 0===_ref$spacing?2:_ref$spacing,directions=_ref.directions,cb=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_12__.a)((function(_ref2){var _step,shroom=_ref2.shroom,application=_ref2.application,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_11__.Room.create(shroom,{tilemap:"\n                           xxxxxxxxxxxxxxxx\n                           x000000000000000\n                           x000000000000000\n                           x000000000000000\n                           x000000000000000\n                           x000000000000000\n                          "}),y=0,_iterator=_createForOfIteratorHelper(animations);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,animation=_step.value,x=0,_iterator2=_createForOfIteratorHelper(directions);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var direction=_step2.value,_furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_11__.FloorFurniture({roomX:1+x*spacing,roomY:1+y*spacing,roomZ:0,direction:direction,type:type,animation:animation});room.addRoomObject(_furniture),cb(_furniture),x++}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}y++}}catch(err){_iterator.e(err)}finally{_iterator.f()}application.stage.addChild(room)}))}},157:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/tile2.655f30c1.png"},169:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.notNullOrUndefined=void 0,exports.notNullOrUndefined=function notNullOrUndefined(value){return null!=value}},203:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoomObject=void 0;var RoomObject=function(){function RoomObject(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RoomObject),this._isDestroyed=!1}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RoomObject,[{key:"setParent",value:function setParent(room){if(null!=this._context)throw new Error("RoomObject already provided with a context.");this._isDestroyed=!1,this._context=room,this.registered()}},{key:"destroy",value:function destroy(){this._isDestroyed||(this._isDestroyed=!0,this.roomObjectContainer.removeRoomObject(this),this._context=void 0,this.destroyed())}},{key:"getRoomContext",value:function getRoomContext(){if(null==this._context)throw new Error("Invalid context");return this._context}},{key:"mounted",get:function get(){return null!=this._context}},{key:"room",get:function get(){return this.getRoomContext().room}},{key:"configuration",get:function get(){return this.getRoomContext().configuration}},{key:"furnitureLoader",get:function get(){return this.getRoomContext().furnitureLoader}},{key:"animationTicker",get:function get(){return this.getRoomContext().animationTicker}},{key:"roomVisualization",get:function get(){return this.getRoomContext().visualization}},{key:"geometry",get:function get(){return this.getRoomContext().geometry}},{key:"roomObjectContainer",get:function get(){return this.getRoomContext().roomObjectContainer}},{key:"avatarLoader",get:function get(){return this.getRoomContext().avatarLoader}},{key:"eventManager",get:function get(){return this.getRoomContext().eventManager}},{key:"tilemap",get:function get(){return this.getRoomContext().tilemap}},{key:"landscapeContainer",get:function get(){return this.getRoomContext().landscapeContainer}},{key:"application",get:function get(){return this.getRoomContext().application}}]),RoomObject}();exports.RoomObject=RoomObject},205:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarAction=void 0,function(AvatarAction){AvatarAction.Move="Move",AvatarAction.Wave="Wave",AvatarAction.Talk="Talk",AvatarAction.Swim="Swim",AvatarAction.Float="Float",AvatarAction.Sign="Sign",AvatarAction.Respect="Respect",AvatarAction.Blow="Blow",AvatarAction.Laugh="Laugh",AvatarAction.SnowWarRun="SnowWarRun",AvatarAction.SnowWarDieFront="SnowWarDieFront",AvatarAction.SnowWarDieBack="SnowWarDieBack",AvatarAction.SnowWarPick="SnowWarPick",AvatarAction.SnowWarThrow="SnowWarThrow",AvatarAction.Lay="Lay",AvatarAction.Sit="Sit",AvatarAction.Idle="Idle",AvatarAction.Dance="Dance",AvatarAction.UseItem="UseItem",AvatarAction.CarryItem="CarryItem",AvatarAction.Gesture="Gesture",AvatarAction.GestureSmile="GestureSmile",AvatarAction.GestureSad="GestureSad",AvatarAction.GestureAngry="GestureAngry",AvatarAction.GestureSurprised="GestureSurprised",AvatarAction.Sleep="Sleep",AvatarAction.Default="Default"}(exports.AvatarAction||(exports.AvatarAction={}))},206:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureVisualization=void 0;var FurnitureVisualization=function(){function FurnitureVisualization(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FurnitureVisualization)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureVisualization,[{key:"view",get:function get(){if(null==this._view)throw new Error("No view mounted");return this._view}},{key:"previousView",get:function get(){return this._previousView}},{key:"mounted",get:function get(){return null!=this._view}},{key:"setView",value:function setView(view){this._previousView=this._view,this._view=view}},{key:"isAnimated",value:function isAnimated(){return!1}}]),FurnitureVisualization}();exports.FurnitureVisualization=FurnitureVisualization},241:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getZOrder=void 0,exports.getZOrder=function getZOrder(x,y,z){return 1e3*x+1e3*y+z}},242:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarFigurePartType=void 0,function(AvatarFigurePartType){AvatarFigurePartType.Body="bd",AvatarFigurePartType.Shoes="sh",AvatarFigurePartType.Legs="lg",AvatarFigurePartType.Chest="ch",AvatarFigurePartType.WaistAccessory="wa",AvatarFigurePartType.ChestAccessory="ca",AvatarFigurePartType.Head="hd",AvatarFigurePartType.Hair="hr",AvatarFigurePartType.FaceAccessory="fa",AvatarFigurePartType.EyeAccessory="ea",AvatarFigurePartType.HeadAccessory="ha",AvatarFigurePartType.HeadAccessoryExtra="he",AvatarFigurePartType.CoatChest="cc",AvatarFigurePartType.ChestPrint="cp",AvatarFigurePartType.LeftHandItem="li",AvatarFigurePartType.LeftHand="lh",AvatarFigurePartType.LeftSleeve="ls",AvatarFigurePartType.RightHand="rh",AvatarFigurePartType.RightSleeve="rs",AvatarFigurePartType.Face="fc",AvatarFigurePartType.Eyes="ey",AvatarFigurePartType.HairBig="hrb",AvatarFigurePartType.RightHandItem="ri",AvatarFigurePartType.LeftCoatSleeve="lc",AvatarFigurePartType.RightCoatSleeve="rc"}(exports.AvatarFigurePartType||(exports.AvatarFigurePartType={}))},243:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(26),__webpack_require__(15),__webpack_require__(19),__webpack_require__(71),__webpack_require__(35),__webpack_require__(57),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimatedFurnitureVisualization=void 0;var AnimatedFurnitureVisualization=function(_FurnitureVisualizati){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AnimatedFurnitureVisualization,_FurnitureVisualizati);var _super=_createSuper(AnimatedFurnitureVisualization);function AnimatedFurnitureVisualization(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AnimatedFurnitureVisualization),(_this=_super.call(this))._animationQueue=[],_this._sprites=new Set,_this._disableTransitions=!1,_this._frame=0,_this._changeAnimationCount=0,_this._lastFramePlayedMap=new Map,_this._refreshFurniture=!1,_this._refreshFurniture=!0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AnimatedFurnitureVisualization,[{key:"animationId",get:function get(){return null!=this._overrideAnimation?this._overrideAnimation:this._currentAnimationId},set:function set(value){this._overrideAnimation=value,this._refreshFurniture=!0}},{key:"modifier",get:function get(){return this._modifier},set:function set(value){this._modifier=value,this._updateFurniture()}},{key:"setCurrentAnimation",value:function setCurrentAnimation(newAnimation){this._animationQueueStartFrame=void 0,this._animationQueue=this._getAnimationList(this.view.getVisualizationData(),newAnimation),this._disableTransitions=0===this._changeAnimationCount,this._changeAnimationCount++,this._update()}},{key:"updateAnimation",value:function updateAnimation(animation){this._updateAnimation(this._currentTargetAnimationId,animation)}},{key:"updateDirection",value:function updateDirection(direction){this._currentDirection!==direction&&(this._currentDirection=direction,this._updateFurniture())}},{key:"isLastFramePlayedForLayer",value:function isLastFramePlayedForLayer(layerIndex){var _a;return null!==(_a=this._lastFramePlayedMap.get(layerIndex))&&void 0!==_a&&_a}},{key:"destroy",value:function destroy(){}},{key:"update",value:function update(){null!=this._currentDirection&&(this.view.setDisplayDirection(this._currentDirection),this.view.updateDisplay(),this._update())}},{key:"updateFrame",value:function updateFrame(frame){if(this._refreshFurniture&&(this._refreshFurniture=!1,this._updateFurniture()),null==this._animationQueueStartFrame&&(this._animationQueueStartFrame=frame),this._animationQueue.length>0){for(var animationId,animationFrameCount,progress=this._getCurrentProgress(frame),frameCounter=0,i=0;i<this._animationQueue.length;i++){var animation=this._animationQueue[i];if(progress<(frameCounter+=animation.frameCount)){animationId=animation.id,animationFrameCount=animation.frameCount;break}}if(null==animationId||null==animationFrameCount||this._disableTransitions){var _animation=this._animationQueue[this._animationQueue.length-1];animationId=_animation.id,animationFrameCount=_animation.frameCount}this._setAnimation(animationId),this._animationFrameCount=animationFrameCount,this._frame=progress}this._update(!0)}},{key:"isAnimated",value:function isAnimated(){return!0}},{key:"_getCurrentProgress",value:function _getCurrentProgress(frame){return null==this._animationQueueStartFrame?0:frame-this._animationQueueStartFrame}},{key:"_setAnimation",value:function _setAnimation(animation){this._currentAnimationId!==animation&&(this._currentAnimationId=animation,this._updateFurniture())}},{key:"_updateLayers",value:function _updateLayers(){if(null!=this.modifier){var modifier=this.modifier;this.view.getLayers().forEach((function(layer){return modifier(layer)}))}}},{key:"_updateFurniture",value:function _updateFurniture(){var _a,_b;this.mounted&&(this.view.setDisplayDirection(null!==(_a=this._currentDirection)&&void 0!==_a?_a:0),this.view.setDisplayAnimation(null===(_b=this.animationId)||void 0===_b?void 0:_b.toString()),this.view.updateDisplay(),this._updateLayers(),this._update())}},{key:"_update",value:function _update(){var _a,_this2=this,frameCount=null!==(_a=this._animationFrameCount)&&void 0!==_a?_a:1;this.view.getLayers().forEach((function(part){null!=_this2.modifier&&(part=_this2.modifier(part));var frameProgress=_this2._frame%frameCount,frameIndex=Math.floor(frameProgress/part.frameRepeat),assetCount=part.assetCount-1;frameIndex>assetCount&&(frameIndex=assetCount),frameProgress===frameCount-1?_this2._lastFramePlayedMap.set(part.layerIndex,!0):_this2._lastFramePlayedMap.set(part.layerIndex,!1),part.setCurrentFrameIndex(frameIndex)}))}},{key:"_getAnimationList",value:function _getAnimationList(data,target){var animations=[];return function handleAnimation(id){var _a,transition=data.getTransitionForAnimation(64,id);null!=transition&&handleAnimation(transition.id);var animation=data.getAnimation(64,id),frameCount=null!==(_a=data.getFrameCount(64,id))&&void 0!==_a?_a:1;null!=animation&&animations.push({id:animation.id,frameCount:frameCount})}(target),0===animations.length?[{id:0,frameCount:1}]:animations}},{key:"_updateAnimation",value:function _updateAnimation(oldAnimation,newAnimation){this._currentTargetAnimationId=newAnimation,null==newAnimation?this.setCurrentAnimation(0):oldAnimation==newAnimation||oldAnimation!=newAnimation&&this.setCurrentAnimation(Number(newAnimation))}}]),AnimatedFurnitureVisualization}(__webpack_require__(206).FurnitureVisualization);exports.AnimatedFurnitureVisualization=AnimatedFurnitureVisualization},249:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAvatarDirection=void 0,exports.getAvatarDirection=function getAvatarDirection(direction){return direction<-8||direction>15?0:direction<0?direction+8:direction>7?direction-8:direction}},250:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(36),__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarData=void 0;var AvatarData=function(){function AvatarData(xml){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarData),this.document=(new DOMParser).parseFromString(xml,"text/xml")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarData,[{key:"querySelectorAll",value:function querySelectorAll(query){return Array.from(this.document.querySelectorAll(query))}},{key:"querySelector",value:function querySelector(query){return this.document.querySelector(query)}}]),AvatarData}();exports.AvatarData=AvatarData},251:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(33),__webpack_require__(3),__webpack_require__(1068),__webpack_require__(505),__webpack_require__(506),__webpack_require__(507),__webpack_require__(508),__webpack_require__(509),__webpack_require__(510),__webpack_require__(511),__webpack_require__(512),__webpack_require__(513),__webpack_require__(514),__webpack_require__(515),__webpack_require__(516),__webpack_require__(517),__webpack_require__(518),__webpack_require__(519),__webpack_require__(520),__webpack_require__(521),__webpack_require__(522),__webpack_require__(523),__webpack_require__(524),__webpack_require__(525),__webpack_require__(526),__webpack_require__(527),__webpack_require__(5),__webpack_require__(7),__webpack_require__(528),__webpack_require__(31),__webpack_require__(1069);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.HitTexture=void 0;var PIXI=__importStar(__webpack_require__(59)),applyTextureProperties_1=__webpack_require__(535),loadImageFromBlob_1=__webpack_require__(559),HitTexture=function(){function HitTexture(texture){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HitTexture),this._texture=texture,applyTextureProperties_1.applyTextureProperties(this._texture)}var _fromUrl,_fromBlob,_fromSpriteSheet;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(HitTexture,[{key:"texture",get:function get(){return this._texture}},{key:"getHitMap",value:function getHitMap(){return this._getHitMap()}},{key:"hits",value:function hits(x,y,transform){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{mirrorHorizonally:!1};options.mirrorHorizonally?x=-(x-transform.x):x-=transform.x,y-=transform.y;var baseTexture=this._texture.baseTexture,hitmap=this._getHitMap(),dx=Math.round(this._texture.orig.x+x*baseTexture.resolution),dy=Math.round(this._texture.orig.y+y*baseTexture.resolution),ind=dx+dy*baseTexture.realWidth,ind1=ind%32,ind2=ind/32|0;return 0!=(hitmap[ind2]&1<<ind1)}},{key:"_getHitMap",value:function _getHitMap(){var _a;return null==this._cachedHitmap&&(this._cachedHitmap=function generateHitMap(image){var canvas=document.createElement("canvas");canvas.width=image.width,canvas.height=image.height;var context=canvas.getContext("2d");if(null==context)throw new Error("Invalid context 2d");var w=canvas.width,h=canvas.height;context.drawImage(image,0,0);for(var imageData=context.getImageData(0,0,w,h),hitmap=new Uint32Array(Math.ceil(w*h/32)),i=0;i<w*h;i++){var ind1=i%32,ind2=i/32|0;imageData.data[4*i+3]>=25&&(hitmap[ind2]=hitmap[ind2]|1<<ind1)}return hitmap}(this._texture.baseTexture.resource.source)),null!==(_a=this._cachedHitmap)&&void 0!==_a?_a:new Uint8ClampedArray}}],[{key:"fromSpriteSheet",value:(_fromSpriteSheet=_asyncToGenerator(regeneratorRuntime.mark((function _callee(spritesheet,name){var texture;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return texture=spritesheet.textures[name],_context.abrupt("return",new HitTexture(texture));case 2:case"end":return _context.stop()}}),_callee)}))),function fromSpriteSheet(_x,_x2){return _fromSpriteSheet.apply(this,arguments)})},{key:"fromBlob",value:(_fromBlob=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(blob){var url;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,loadImageFromBlob_1.loadImageFromBlob(blob);case 2:return url=_context2.sent,_context2.abrupt("return",HitTexture.fromUrl(url));case 4:case"end":return _context2.stop()}}),_callee2)}))),function fromBlob(_x3){return _fromBlob.apply(this,arguments)})},{key:"fromUrl",value:(_fromUrl=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(imageUrl){var image,texture;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return(image=new Image).crossOrigin="anonymous",image.src=imageUrl,_context3.next=5,new Promise((function(resolve,reject){image.onload=function(){resolve({width:image.width,height:image.height})},image.onerror=function(value){return reject(value)}}));case 5:return texture=PIXI.Texture.from(image),_context3.abrupt("return",new HitTexture(texture));case 7:case"end":return _context3.stop()}}),_callee3)}))),function fromUrl(_x4){return _fromUrl.apply(this,arguments)})}]),HitTexture}();exports.HitTexture=HitTexture},331:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(55),__webpack_require__(15),__webpack_require__(19),__webpack_require__(36),__webpack_require__(49),__webpack_require__(201),__webpack_require__(28),__webpack_require__(167),__webpack_require__(62);var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NOOP_EVENT_MANAGER=exports.EventManager=void 0;var EventManagerNode_1=__webpack_require__(977),rbush_1=__importDefault(__webpack_require__(978)),IEventGroup_1=__webpack_require__(125),EventManager=function(){function EventManager(){_classCallCheck(this,EventManager),this._nodes=new Map,this._bush=new rbush_1.default,this._currentOverElements=new Set,this._pointerDownElements=new Set,this._onBackgroundClick=void 0}return _createClass(EventManager,[{key:"onBackgroundClick",set:function set(value){this._onBackgroundClick=value}},{key:"click",value:function click(event,x,y){var elements=this._performHitTest(x,y);new Propagation(event,elements.activeNodes,(function(target,event){return target.triggerClick(event)}))}},{key:"pointerDown",value:function pointerDown(event,x,y){var elements=this._performHitTest(x,y);this._pointerDownElements=new Set(elements.activeNodes),new Propagation(event,elements.activeNodes,(function(target,event){return target.triggerPointerDown(event)}))}},{key:"pointerUp",value:function pointerUp(event,x,y){var elements=this._performHitTest(x,y),elementsSet=new Set(elements.activeNodes),clickedNodes=new Set;this._pointerDownElements.forEach((function(node){elementsSet.has(node)&&clickedNodes.add(node)})),0===elements.activeNodes.length&&0===clickedNodes.size&&this._onBackgroundClick&&this._onBackgroundClick(event),new Propagation(event,elements.activeNodes,(function(target,event){return target.triggerPointerUp(event)})),new Propagation(event,Array.from(clickedNodes),(function(target,event){target.triggerClick(event)}))}},{key:"move",value:function move(event,x,y){var elements=this._performHitTest(x,y),current=new Set(elements.activeNodes.filter((function(node,index){return 0===index||node.target.getGroup().getEventGroupIdentifier()===IEventGroup_1.TILE_CURSOR}))),previous=this._currentOverElements,added=new Set;current.forEach((function(node){previous.has(node)||added.add(node)}));var removed=new Set;previous.forEach((function(node){current.has(node)||removed.add(node)}));var addedGroups=new Set;added.forEach((function(node){addedGroups.add(node.target.getGroup())}));var removedButGroupPresent=new Set,actualRemoved=new Set;removed.forEach((function(node){addedGroups.has(node.target.getGroup())&&removedButGroupPresent.add(node),actualRemoved.add(node)})),this._currentOverElements=current,new Propagation(event,Array.from(removedButGroupPresent),(function(target,event){target.triggerPointerTargetChanged(event)})),new Propagation(event,Array.from(actualRemoved),(function(target,event){return target.triggerPointerOut(event)})),new Propagation(event,Array.from(added),(function(target,event){return target.triggerPointerOver(event)}))}},{key:"register",value:function register(target){if(this._nodes.has(target))throw new Error("Target already registered");var node=new EventManagerNode_1.EventManagerNode(target,this._bush);return this._nodes.set(target,node),node}},{key:"remove",value:function remove(target){var current=this._nodes.get(target);if(null==current)throw new Error("Target isn't in the event manager");current.destroy()}},{key:"_performHitTest",value:function _performHitTest(x,y){var sortedElements=this._bush.search({minX:x,minY:y,maxX:x,maxY:y}).sort((function(a,b){return b.target.getEventZOrder()-a.target.getEventZOrder()})).filter((function(node){return node.target.hits(x,y)})),groups=new Map,groupElements=[];return sortedElements.forEach((function(node){var group=node.target.getGroup();null!=group&&groups.has(group)||(groupElements.push(node),null!=group&&groups.set(group,node))})),{activeNodes:groupElements,activeGroups:groups}}}]),EventManager}();exports.EventManager=EventManager;var Propagation=function(){function Propagation(event,path,_trigger){_classCallCheck(this,Propagation),this.event=event,this.path=path,this._trigger=_trigger,this._skip=new Set,this._allow=new Set,this._stopped=!1,this._propagate()}return _createClass(Propagation,[{key:"_propagate",value:function _propagate(){for(var event=this._createEvent(),i=0;i<this.path.length;i++){if(this._stopped)return;var node=this.path[i];this._skip.has(node.target.getGroup().getEventGroupIdentifier())&&!this._allow.has(node.target.getGroup().getEventGroupIdentifier())||(this._allow.size>0&&!this._allow.has(node.target.getGroup().getEventGroupIdentifier())||this._trigger(this.path[i].target,event))}}},{key:"_createEvent",value:function _createEvent(){var _this=this;return{interactionEvent:this.event,mouseEvent:this.event.data.originalEvent,stopPropagation:function stopPropagation(){_this._stopped=!0},skip:function skip(){for(var add=function add(identifier){Array.isArray(identifier)?identifier.forEach((function(value){return add(value)})):_this._skip.add(identifier)},_len=arguments.length,identifiers=new Array(_len),_key=0;_key<_len;_key++)identifiers[_key]=arguments[_key];add(identifiers)},skipExcept:function skipExcept(){for(var add=function add(identifier){Array.isArray(identifier)?identifier.forEach((function(value){return add(value)})):_this._allow.add(identifier)},_len2=arguments.length,identifiers=new Array(_len2),_key2=0;_key2<_len2;_key2++)identifiers[_key2]=arguments[_key2];add(identifiers)}}}}]),Propagation}();exports.NOOP_EVENT_MANAGER={register:function register(){return{destroy:function destroy(){}}},remove:function remove(){}}},332:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(33),__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(31),__webpack_require__(15),__webpack_require__(19),__webpack_require__(11);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseFurniture=void 0;var PIXI=__importStar(__webpack_require__(59)),ClickHandler_1=__webpack_require__(496),HighlightFilter_1=__webpack_require__(500),FurnitureSprite_1=__webpack_require__(529),AnimatedFurnitureVisualization_1=__webpack_require__(243),getDirectionForFurniture_1=__webpack_require__(987),IEventGroup_1=__webpack_require__(125),EventManager_1=__webpack_require__(331),FurnitureVisualizationView_1=__webpack_require__(988),EventOverOutHandler_1=__webpack_require__(498),BaseFurniture=(new HighlightFilter_1.HighlightFilter(10066329,16777215),function(){function BaseFurniture(_ref){var _this=this,type=_ref.type,direction=_ref.direction,_ref$animation=_ref.animation,animation=void 0===_ref$animation?"0":_ref$animation,_ref$getMaskId=_ref.getMaskId,getMaskId=void 0===_ref$getMaskId?function(){}:_ref$getMaskId,dependencies=_ref.dependencies,onLoad=_ref.onLoad;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseFurniture),this._sprites=new Map,this._x=0,this._y=0,this._zIndex=0,this._direction=0,this._clickHandler=new ClickHandler_1.ClickHandler,this._overOutHandler=new EventOverOutHandler_1.EventOverOutHandler,this._fallbackVisualization=new AnimatedFurnitureVisualization_1.AnimatedFurnitureVisualization,this._refreshPosition=!1,this._refreshFurniture=!1,this._refreshZIndex=!1,this._highlight=!1,this._alpha=1,this._destroyed=!1,this._maskNodes=[],this._maskSprites=[],this._cancelTicker=void 0,this._onTicker=function(){_this._refreshFurniture&&(_this._refreshFurniture=!1,_this._updateFurniture()),_this._refreshPosition&&(_this._refreshPosition=!1,_this._updatePosition()),_this._refreshZIndex&&(_this._refreshZIndex=!1,_this._updateZIndex())},this._direction=direction,this._animation=animation,this._type=type,this._getMaskId=getMaskId,this._onLoad=onLoad,null!=dependencies&&(this.dependencies=dependencies),PIXI.Ticker.shared.add(this._onTicker),this._loadFurniResultPromise=new Promise((function(resolve){_this._resolveLoadFurniResult=resolve}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BaseFurniture,[{key:"dependencies",get:function get(){if(null==this._dependencies)throw new Error("Invalid dependencies");return this._dependencies},set:function set(value){this._dependencies=value,this._loadFurniture()}},{key:"visualization",get:function get(){return null==this._visualization?this._fallbackVisualization:this._visualization},set:function set(value){var _a;null===(_a=this._visualization)||void 0===_a||_a.destroy(),this._visualization=value,this._updateFurniture()}},{key:"mounted",get:function get(){return null!=this._dependencies}},{key:"extradata",get:function get(){return this._loadFurniResultPromise.then((function(result){return result.getExtraData()}))}},{key:"validDirections",get:function get(){return this._loadFurniResultPromise.then((function(result){return result.directions}))}},{key:"highlight",get:function get(){return this._highlight},set:function set(value){this._highlight=value,this._refreshFurniture=!0}},{key:"alpha",get:function get(){return this._alpha},set:function set(value){this._alpha=value,this._refreshFurniture=!0}},{key:"onClick",get:function get(){return this._clickHandler.onClick},set:function set(value){this._clickHandler.onClick=value}},{key:"onDoubleClick",get:function get(){return this._clickHandler.onDoubleClick},set:function set(value){this._clickHandler.onDoubleClick=value}},{key:"onPointerDown",get:function get(){return this._clickHandler.onPointerDown},set:function set(value){this._clickHandler.onPointerDown=value}},{key:"onPointerUp",get:function get(){return this._clickHandler.onPointerUp},set:function set(value){this._clickHandler.onPointerUp=value}},{key:"onPointerOut",get:function get(){return this._overOutHandler.onOut},set:function set(value){this._overOutHandler.onOut=value}},{key:"onPointerOver",get:function get(){return this._overOutHandler.onOver},set:function set(value){this._overOutHandler.onOver=value}},{key:"x",get:function get(){return this._x},set:function set(value){value!==this.x&&(this._x=value,this._refreshPosition=!0)}},{key:"y",get:function get(){return this._y},set:function set(value){value!==this.y&&(this._y=value,this._refreshPosition=!0)}},{key:"zIndex",get:function get(){return this._zIndex},set:function set(value){value!==this.zIndex&&(this._zIndex=value,this._refreshZIndex=!0)}},{key:"direction",get:function get(){return this._direction},set:function set(value){this._direction=value,this._updateDirection()}},{key:"animation",get:function get(){return this._animation},set:function set(value){this._animation=value,this.mounted&&(this.visualization.updateAnimation(this.animation),this._handleAnimationChange())}},{key:"maskId",get:function get(){return this._getMaskId},set:function set(value){this._getMaskId=value}},{key:"getEventGroupIdentifier",value:function getEventGroupIdentifier(){return IEventGroup_1.FURNITURE}},{key:"destroy",value:function destroy(){var _a;this._destroySprites(),this._destroyed=!0,PIXI.Ticker.shared.remove(this._onTicker),this._cancelTicker&&this._cancelTicker(),this._cancelTicker=void 0,null===(_a=this._view)||void 0===_a||_a.destroy()}},{key:"_updateDirection",value:function _updateDirection(){this.mounted&&null!=this._validDirections&&this.visualization.updateDirection(getDirectionForFurniture_1.getDirectionForFurniture(this.direction,this._validDirections))}},{key:"_updateSprites",value:function _updateSprites(cb){this._sprites.forEach(cb),null!=this._unknownSprite&&cb(this._unknownSprite)}},{key:"_updateZIndex",value:function _updateZIndex(){var _this2=this;this._updateSprites((function(element){element.baseZIndex=_this2.zIndex}))}},{key:"_updatePosition",value:function _updatePosition(){var _this3=this;this._updateSprites((function(element){element.baseX=_this3.x,element.baseY=_this3.y})),null!=this._view&&(this._view.x=this.x,this._view.y=this.y,this._view.zIndex=this.zIndex,this._view.updateLayers())}},{key:"_updateFurniture",value:function _updateFurniture(){this.mounted&&(null!=this._loadFurniResult?this._updateFurnitureSprites(this._loadFurniResult):this._updateUnknown())}},{key:"_updateUnknown",value:function _updateUnknown(){this.mounted&&null==this._unknownSprite&&(this._unknownSprite=new FurnitureSprite_1.FurnitureSprite({eventManager:this.dependencies.eventManager,group:this}),this._unknownSprite.baseX=this.x,this._unknownSprite.baseY=this.y,this._unknownSprite.offsetY=-32,null!=this._unknownTexture&&(this._unknownSprite.texture=this._unknownTexture),this._unknownSprite.zIndex=this.zIndex,this.dependencies.visualization.container.addChild(this._unknownSprite),this._updatePosition())}},{key:"_createNewView",value:function _createNewView(loadFurniResult){var _a,_b,_c;null===(_a=this._view)||void 0===_a||_a.destroy();var view=new FurnitureVisualizationView_1.FurnitureVisualizationView(this.dependencies.eventManager,this._clickHandler,this._overOutHandler,this.dependencies.visualization.container,loadFurniResult);return view.x=this.x,view.y=this.y,view.zIndex=this.zIndex,view.alpha=null!==(_b=this.alpha)&&void 0!==_b?_b:1,view.highlight=null!==(_c=this.highlight)&&void 0!==_c&&_c,this._view=view,view}},{key:"_updateFurnitureSprites",value:function _updateFurnitureSprites(loadFurniResult){var _a;this.mounted&&(this._maskNodes.forEach((function(node){return node.remove()})),this._maskNodes=[],null===(_a=this._unknownSprite)||void 0===_a||_a.destroy(),this._unknownSprite=void 0,this.visualization.setView(this._createNewView(loadFurniResult)),this.visualization.update(this),this._validDirections=loadFurniResult.directions,this._updateDirection(),this.visualization.updateAnimation(this.animation),this.visualization.updateFrame(this.dependencies.animationTicker.current()),this._handleAnimationChange(),this._updatePosition())}},{key:"_destroySprites",value:function _destroySprites(){var _a;this._sprites.forEach((function(sprite){return sprite.destroy()})),this._maskNodes.forEach((function(node){return node.remove()})),null===(_a=this._unknownSprite)||void 0===_a||_a.destroy(),this._sprites=new Map}},{key:"_loadFurniture",value:function _loadFurniture(){var _a,_this4=this;this.mounted&&(this._unknownTexture=null!==(_a=this.dependencies.placeholder)&&void 0!==_a?_a:void 0,this.dependencies.furnitureLoader.loadFurni(this._type).then((function(result){_this4._destroyed||(_this4._loadFurniResult=result,_this4._resolveLoadFurniResult&&_this4._resolveLoadFurniResult(result),_this4._updateFurniture(),_this4._onLoad&&_this4._onLoad())})),this._updateFurniture())}},{key:"_handleAnimationChange",value:function _handleAnimationChange(){var _this5=this;this.visualization.isAnimated(this.animation)&&null==this._cancelTicker&&(this._cancelTicker=this.dependencies.animationTicker.subscribe((function(frame){_this5.visualization.updateFrame(frame)})),this.visualization.update(this),this.visualization.updateFrame(this.dependencies.animationTicker.current())),this.visualization.isAnimated(this.animation)||null==this._cancelTicker||(this._cancelTicker(),this._cancelTicker=void 0,this.visualization.update(this),this.visualization.updateFrame(this.dependencies.animationTicker.current()))}},{key:"_getAlpha",value:function _getAlpha(_ref2){var layerAlpha=_ref2.layerAlpha,baseAlpha=_ref2.baseAlpha;return null!=layerAlpha?layerAlpha/255*baseAlpha:baseAlpha}}],[{key:"fromRoomContext",value:function fromRoomContext(context,props){return new BaseFurniture(Object.assign({dependencies:{placeholder:context.configuration.placeholder,animationTicker:context.animationTicker,furnitureLoader:context.furnitureLoader,visualization:context.visualization,application:context.application,eventManager:context.eventManager}},props))}},{key:"fromShroom",value:function fromShroom(shroom,container,props){return new BaseFurniture(Object.assign({dependencies:{animationTicker:shroom.dependencies.animationTicker,furnitureLoader:shroom.dependencies.furnitureLoader,placeholder:shroom.dependencies.configuration.placeholder,application:shroom.dependencies.application,eventManager:EventManager_1.NOOP_EVENT_MANAGER,visualization:{container:container,addMask:function addMask(){return{remove:function remove(){},update:function update(){},sprite:null}}}}},props))}}]),BaseFurniture}());exports.BaseFurniture=BaseFurniture},335:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRightMatrix=exports.getLeftMatrix=exports.getFloorMatrix=void 0;var createPlaneMatrix_1=__webpack_require__(995);exports.getFloorMatrix=function getFloorMatrix(x,y){return createPlaneMatrix_1.createPlaneMatrix({c:{x:0,y:16},d:{x:32,y:0},a:{x:64,y:16},b:{x:32,y:32}},{width:32,height:32,x:x,y:y})},exports.getLeftMatrix=function getLeftMatrix(x,y,dim){return createPlaneMatrix_1.createPlaneMatrix({b:{x:0,y:16},c:{x:dim.width,y:16+dim.width/2},d:{x:dim.width,y:16+dim.width/2+dim.height},a:{x:0,y:16+dim.height}},{width:dim.width,height:dim.height,x:x,y:y})},exports.getRightMatrix=function getRightMatrix(x,y,dim){return createPlaneMatrix_1.createPlaneMatrix({b:{x:32,y:32},c:{x:32+dim.width,y:32-dim.width/2},d:{x:32+dim.width,y:32+dim.height-dim.width/2},a:{x:32,y:32+dim.height}},{width:dim.width,height:dim.height,x:x,y:y})}},336:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.WallLeft=void 0;var PIXI=__importStar(__webpack_require__(59)),WallLeft=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WallLeft,_PIXI$Container);var _super=_createSuper(WallLeft);function WallLeft(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WallLeft),(_this=_super.call(this)).props=props,_this._offsets={x:0,y:0},_this._borderWidth=0,_this._wallHeight=0,_this._wallWidth=32,_this._tileHeight=0,_this._wallLeftColor=0,_this._wallRightColor=0,_this._wallTopColor=0,_this._drawHitArea=!1,_this._hideBorder=!1,_this._roomZ=0,_this._hideBorder=props.hideBorder,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WallLeft,[{key:"roomZ",get:function get(){return this._roomZ},set:function set(value){this._roomZ=value,this._update()}},{key:"wallY",get:function get(){return-this._wallHeight}},{key:"wallHeight",get:function get(){return null!=this.props.cutawayHeight?this._wallHeight-this.props.cutawayHeight:this._wallHeight}},{key:"update",value:function update(data){this._borderWidth=data.borderWidth,this._wallHeight=data.wallHeight-32*this.roomZ,this._tileHeight=data.tileHeight,this._wallLeftColor=data.wallLeftColor,this._wallRightColor=data.wallRightColor,this._wallTopColor=data.wallTopColor,this._wallTexture=data.wallTexture,this._update()}},{key:"destroy",value:function destroy(){var _a;_get(_getPrototypeOf(WallLeft.prototype),"destroy",this).call(this),null===(_a=this._hitAreaElement)||void 0===_a||_a.destroy(),this.removeChildren()}},{key:"_update",value:function _update(){var _this2=this;null!=this._hitAreaElement&&(this.props.hitAreaContainer.removeChild(this._hitAreaElement),this._hitAreaElement=void 0),this.removeChildren();var hitArea=new PIXI.Polygon(this._getDisplayPoints());this.hitArea=hitArea;var primary=this._createPrimarySprite(),border=this._createBorderSprite(),top=this._createTopSprite();this.addChild(primary),this._hideBorder||this.addChild(border),this.addChild(top);var graphics=new PIXI.Graphics;graphics.beginFill(16711935),graphics.drawPolygon(hitArea),graphics.alpha=this._drawHitArea?1:0,graphics.endFill();var handleMoveEvent=function handleMoveEvent(event){if(event.target===graphics){var position=event.data.getLocalPosition(graphics);_this2.props.onMouseMove({offsetX:position.x,offsetY:position.y})}};graphics.addListener("mousemove",handleMoveEvent),graphics.addListener("mouseover",handleMoveEvent),graphics.addListener("mouseout",(function(){_this2.props.onMouseOut()})),graphics.interactive=!0,this._hitAreaElement=graphics,this._hitAreaElement.x=this.x,this._hitAreaElement.y=this.y,this._hitAreaElement.scale=this.scale,this.props.hitAreaContainer.addChild(this._hitAreaElement)}},{key:"_getDisplayPoints",value:function _getDisplayPoints(){var _a,_b;return[new PIXI.Point(this._getOffsetX()+this._borderWidth,this._wallWidth/2-(null!==(_a=this.props.cutawayHeight)&&void 0!==_a?_a:0)),new PIXI.Point(this._getOffsetX()+this._wallWidth+this._borderWidth,-(null!==(_b=this.props.cutawayHeight)&&void 0!==_b?_b:0)),new PIXI.Point(this._getOffsetX()+this._wallWidth+this._borderWidth,-this._wallHeight),new PIXI.Point(this._getOffsetX()+this._borderWidth,-this._wallHeight+this._wallWidth/2)]}},{key:"_getOffsetX",value:function _getOffsetX(){return this.scale.x*this._offsets.x-this._borderWidth}},{key:"_createPrimarySprite",value:function _createPrimarySprite(){var _a,sprite=new PIXI.TilingSprite(null!==(_a=this._wallTexture)&&void 0!==_a?_a:PIXI.Texture.WHITE,this._wallWidth,this.wallHeight);return sprite.transform.setFromMatrix(new PIXI.Matrix(-1,.5,0,1)),sprite.x=this._getOffsetX()+this._borderWidth+this._wallWidth,sprite.y=this.wallY,sprite.tint=this._wallLeftColor,sprite}},{key:"_createBorderSprite",value:function _createBorderSprite(){var border=new PIXI.TilingSprite(PIXI.Texture.WHITE,this._borderWidth,this._wallHeight+this._tileHeight);return border.transform.setFromMatrix(new PIXI.Matrix(-1,-.5,0,1)),border.y=this.wallY+this._wallWidth/2,border.x=this._getOffsetX()+this._borderWidth,border.tint=this._wallRightColor,border}},{key:"_createTopSprite",value:function _createTopSprite(){var border=new PIXI.TilingSprite(PIXI.Texture.WHITE,this._borderWidth,this._wallWidth);return border.transform.setFromMatrix(new PIXI.Matrix(1,.5,1,-.5)),border.x=this._getOffsetX()+0,border.y=this.wallY+this._wallWidth/2-this._borderWidth/2,border.tint=this._wallTopColor,border}}]),WallLeft}(PIXI.Container);exports.WallLeft=WallLeft},337:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(57),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTileInfo=exports.getNumberOfTileType=void 0;var isTile_1=__webpack_require__(1005),offsets={none:{x:0,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},topLeft:{x:-1,y:-1},bottomLeft:{x:-1,y:1},right:{x:1,y:0},topRight:{x:1,y:-1},bottomRight:{x:1,y:1}};function getNumberOfTileType(tileType){if("x"===tileType||null==tileType)return"x";var parsedNumber=Number(tileType);if(isNaN(parsedNumber)){return tileType.charCodeAt(0)-96+9}return parsedNumber}exports.getNumberOfTileType=getNumberOfTileType;var getTile=function getTile(tiles,x,y){var offset=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return x+=offsets[offset].x,null==tiles[y+=offsets[offset].y]||null==tiles[y][x]?"x":getNumberOfTileType(tiles[y][x])};exports.getTileInfo=function getTileInfo(tiles,x,y){var type=getTile(tiles,x,y),leftType=getTile(tiles,x-1,y),topType=getTile(tiles,x,y-1),topLeftDiagonalType=getTile(tiles,x-1,y-1),bottomLeftDiagonalType=getTile(tiles,x-1,y+1),bottomType=getTile(tiles,x,y+1),rightType=getTile(tiles,x+1,y),rowDoor="x"===topType&&"x"===leftType&&"x"===topLeftDiagonalType&&"x"===bottomType&&"x"===bottomLeftDiagonalType&&isTile_1.isTile(rightType)&&isTile_1.isTile(type),stairs=function getStairs(tiles,x,y){var type=getTile(tiles,x,y),topType=getTile(tiles,x,y,"top"),leftType=getTile(tiles,x,y,"left"),rightType=getTile(tiles,x,y,"right"),topLeftType=getTile(tiles,x,y,"topLeft"),bottomLeftType=getTile(tiles,x,y,"bottomLeft"),topRightType=getTile(tiles,x,y,"topRight");if(isTile_1.isTile(topType)&&isTile_1.isTile(type)){if(1===Number(topType)-Number(type))return{direction:0}}if(isTile_1.isTile(leftType)&&isTile_1.isTile(type)){if(1===Number(leftType)-Number(type))return{direction:2}}if(isTile_1.isTile(bottomLeftType)&&isTile_1.isTile(type)&&("x"===leftType||Number(leftType)<=Number(type))){if(1===Number(bottomLeftType)-Number(type))return{cornerType:"left",isCorner:!0}}if(isTile_1.isTile(topRightType)&&isTile_1.isTile(type)&&("x"===rightType||Number(rightType)<=Number(type))){if(1===Number(topRightType)-Number(type))return{cornerType:"right",isCorner:!0}}if(isTile_1.isTile(topLeftType)&&isTile_1.isTile(type)&&("x"===leftType||Number(leftType)<=Number(type))){if(1===Number(topLeftType)-Number(type))return{cornerType:"front",isCorner:!0}}}(tiles,x,y),baseHeight=isTile_1.isTile(type)?type:void 0;return{rowEdge:"x"===leftType&&isTile_1.isTile(type),colEdge:"x"===topType&&isTile_1.isTile(type),innerEdge:"x"===topLeftDiagonalType&&isTile_1.isTile(type)&&isTile_1.isTile(topType)&&isTile_1.isTile(leftType),stairs:stairs,height:baseHeight,rowDoor:rowDoor}}},357:function(module,exports,__webpack_require__){"use strict";function applyOffsets(_ref2){var offsets=_ref2.offsets,_ref2$customOffsets=_ref2.customOffsets,offsetX=_ref2$customOffsets.offsetX,offsetY=_ref2$customOffsets.offsetY,flipped=_ref2.flipped,lay=_ref2.lay,offsetsX=0,offsetsY=0;return offsetsY=-offsets.offsetY+offsetY,offsetsX=flipped?64+offsets.offsetX-offsetX:-offsets.offsetX-offsetX,lay&&(flipped?offsetsX-=52:offsetsX+=52),{x:offsetsX,y:offsetsY+=16}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyOffsets=exports.getAssetFromPartMeta=void 0,exports.getAssetFromPartMeta=function getAssetFromPartMeta(assetPartDefinition,assetInfoFrame,offsetsData,_ref){var offsetX=_ref.offsetX,offsetY=_ref.offsetY,offsets=offsetsData.getOffsets(assetInfoFrame.asset);if(null!=offsets){var _applyOffsets=applyOffsets({offsets:offsets,customOffsets:{offsetX:offsetX,offsetY:offsetY},flipped:assetInfoFrame.flipped,lay:"lay"===assetPartDefinition}),offsetsX=_applyOffsets.x,offsetsY=_applyOffsets.y;if(isNaN(offsetsX))throw new Error("Invalid x offset");if(isNaN(offsetsY))throw new Error("Invalid y offset");return{fileId:assetInfoFrame.asset,library:"",mirror:assetInfoFrame.flipped,x:offsetsX,y:offsetsY}}},exports.applyOffsets=applyOffsets},493:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(26),__webpack_require__(15),__webpack_require__(19),__webpack_require__(204),__webpack_require__(25),__webpack_require__(11),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseAvatar=void 0;var PIXI=__importStar(__webpack_require__(59)),ClickHandler_1=__webpack_require__(496),HitSprite_1=__webpack_require__(497),isSetEqual_1=__webpack_require__(976),AvatarFigurePartType_1=__webpack_require__(242),EventManager_1=__webpack_require__(331),IEventGroup_1=__webpack_require__(125),EventOverOutHandler_1=__webpack_require__(498),bodyPartTypes=new Set([AvatarFigurePartType_1.AvatarFigurePartType.Head,AvatarFigurePartType_1.AvatarFigurePartType.Body,AvatarFigurePartType_1.AvatarFigurePartType.LeftHand,AvatarFigurePartType_1.AvatarFigurePartType.RightHand]),headPartTypes=new Set([AvatarFigurePartType_1.AvatarFigurePartType.Head,AvatarFigurePartType_1.AvatarFigurePartType.Face,AvatarFigurePartType_1.AvatarFigurePartType.Eyes,AvatarFigurePartType_1.AvatarFigurePartType.EyeAccessory,AvatarFigurePartType_1.AvatarFigurePartType.Hair,AvatarFigurePartType_1.AvatarFigurePartType.HairBig,AvatarFigurePartType_1.AvatarFigurePartType.FaceAccessory,AvatarFigurePartType_1.AvatarFigurePartType.HeadAccessory,AvatarFigurePartType_1.AvatarFigurePartType.HeadAccessoryExtra]),BaseAvatar=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BaseAvatar,_PIXI$Container);var _super=_createSuper(BaseAvatar);function BaseAvatar(options){var _this,_a,_b,_c;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseAvatar),(_this=_super.call(this))._avatarDestroyed=!1,_this._currentFrame=0,_this._clickHandler=new ClickHandler_1.ClickHandler,_this._overOutHandler=new EventOverOutHandler_1.EventOverOutHandler,_this._refreshFrame=!1,_this._refreshLook=!1,_this._sprites=new Map,_this._updateId=0,_this._spritesZIndex=0,_this.x=options.position.x,_this.y=options.position.y,_this.zIndex=options.zIndex,_this.spritesZIndex=options.zIndex,_this._nextLookOptions=options.look,_this._onLoad=options.onLoad,_this._skipBodyParts=null!==(_a=options.skipBodyParts)&&void 0!==_a&&_a,_this._headOnly=null!==(_b=options.headOnly)&&void 0!==_b&&_b,_this._skipCaching=null!==(_c=options.skipCaching)&&void 0!==_c&&_c,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BaseAvatar,[{key:"spritesZIndex",get:function get(){return this._spritesZIndex},set:function set(value){this._spritesZIndex=value,this._updateSpritesZIndex()}},{key:"dependencies",get:function get(){if(null==this._dependencies)throw new Error("Invalid dependencies in BaseAvatar");return this._dependencies},set:function set(value){this._dependencies=value,this._handleDependenciesSet()}},{key:"mounted",get:function get(){return null!=this._dependencies}},{key:"onClick",get:function get(){return this._clickHandler.onClick},set:function set(value){this._clickHandler.onClick=value}},{key:"onDoubleClick",get:function get(){return this._clickHandler.onDoubleClick},set:function set(value){this._clickHandler.onDoubleClick=value}},{key:"onPointerDown",get:function get(){return this._clickHandler.onPointerDown},set:function set(value){this._clickHandler.onPointerDown=value}},{key:"onPointerUp",get:function get(){return this._clickHandler.onPointerUp},set:function set(value){this._clickHandler.onPointerUp=value}},{key:"onPointerOut",get:function get(){return this._overOutHandler.onOut},set:function set(value){this._overOutHandler.onOut=value}},{key:"onPointerOver",get:function get(){return this._overOutHandler.onOver},set:function set(value){this._overOutHandler.onOver=value}},{key:"lookOptions",get:function get(){if(null!=this._nextLookOptions)return this._nextLookOptions;if(null==this._lookOptions)throw new Error("Invalid look options");return this._lookOptions},set:function set(lookOptions){this._updateLookOptions(this._lookOptions,lookOptions)}},{key:"currentFrame",get:function get(){return this._currentFrame},set:function set(value){value!==this._currentFrame&&(this._currentFrame=value,this._refreshFrame=!0)}},{key:"getEventGroupIdentifier",value:function getEventGroupIdentifier(){return IEventGroup_1.AVATAR}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(BaseAvatar.prototype),"destroy",this).call(this),this._destroyAssets(),null!=this._cancelTicker&&this._cancelTicker()}},{key:"_destroyAssets",value:function _destroyAssets(){var _a,_this2=this;this._sprites.forEach((function(sprite){_this2._overOutHandler.remove(sprite.events),sprite.destroy()})),this._sprites=new Map,null===(_a=this._container)||void 0===_a||_a.destroy()}},{key:"_updateSpritesZIndex",value:function _updateSpritesZIndex(){var _this3=this;this._sprites.forEach((function(sprite){sprite.zIndex=_this3.spritesZIndex}))}},{key:"_updateLookOptions",value:function _updateLookOptions(oldLookOptions,newLookOptions){null!=oldLookOptions&&isSetEqual_1.isSetEqual(oldLookOptions.actions,newLookOptions.actions)&&oldLookOptions.look==newLookOptions.look&&oldLookOptions.item==newLookOptions.item&&oldLookOptions.effect==newLookOptions.effect&&oldLookOptions.direction==newLookOptions.direction&&oldLookOptions.headDirection==newLookOptions.headDirection||(this._nextLookOptions=newLookOptions,this._refreshLook=!0)}},{key:"_updatePosition",value:function _updatePosition(definition){null!=this._container&&(this._container.x=0,this._container.y=0)}},{key:"_updateSprites",value:function _updateSprites(){if(null!=this._avatarLoaderResult&&null!=this._lookOptions){var definition=this._avatarLoaderResult.getDrawDefinition(this._lookOptions);this._avatarDrawDefinition=definition,this._updateSpritesWithAvatarDrawDefinition(definition,this.currentFrame),this._updatePosition(definition)}}},{key:"_updateSpritesWithAvatarDrawDefinition",value:function _updateSpritesWithAvatarDrawDefinition(drawDefinition,currentFrame){var _a,_this4=this;if(this._destroyed)throw new Error("BaseAvatar was destroyed already");this.mounted&&(this._sprites.forEach((function(value){value.visible=!1,value.ignore=!0})),null===(_a=this._container)||void 0===_a||_a.destroy(),this._container=new PIXI.Container,this._container.sortableChildren=!0,drawDefinition.getDrawDefinition().forEach((function(part){var _a,_b;if("AVATAR_DRAW_PART"===part.kind){var figurePart=part.type;if(_this4._skipBodyParts&&bodyPartTypes.has(figurePart))return;if(_this4._headOnly&&!headPartTypes.has(figurePart))return;var frame=currentFrame%part.assets.length,asset=part.assets[frame],sprite=_this4._sprites.get(asset.fileId);if(null==sprite&&null!=(sprite=_this4._createAsset(part,asset))&&_this4._overOutHandler.register(sprite.events),null==sprite)return;sprite.x=asset.x,sprite.y=asset.y,sprite.visible=!0,sprite.mirrored=asset.mirror,sprite.ignore=!1,sprite.zIndex=_this4.spritesZIndex+part.z,_this4._sprites.set(asset.fileId,sprite),null===(_a=_this4._container)||void 0===_a||_a.addChild(sprite)}else if("EFFECT_DRAW_PART"===part.kind){var _frame=currentFrame%part.assets.length,_asset=part.assets[_frame],_sprite=_this4._sprites.get(_asset.fileId);if(null==_sprite&&null!=(_sprite=_this4._createAsset(part,_asset))&&_this4._overOutHandler.register(_sprite.events),null==_sprite)return;switch(part.ink){case 33:_sprite.blendMode=PIXI.BLEND_MODES.ADD}_sprite.x=_asset.x+(null!=_asset.substractWidth&&_asset.substractWidth?_sprite.texture.width:0),_sprite.y=_asset.y,_sprite.visible=!0,_sprite.mirrored=_asset.mirror,_sprite.ignore=!1,_sprite.zIndex=_this4.spritesZIndex+part.z,_this4._sprites.set(_asset.fileId,_sprite),null===(_b=_this4._container)||void 0===_b||_b.addChild(_sprite)}})),this.addChild(this._container))}},{key:"_createAsset",value:function _createAsset(part,asset){var _this5=this;if(null==this._avatarLoaderResult)throw new Error("Cant create asset when avatar loader result not present");var texture=this._avatarLoaderResult.getTexture(asset.fileId);if(null!=texture){var sprite=new HitSprite_1.HitSprite({eventManager:this.dependencies.eventManager,mirrored:asset.mirror,group:this});return sprite.hitTexture=texture,sprite.x=asset.x,sprite.y=asset.y,sprite.events.addEventListener("click",(function(event){_this5._clickHandler.handleClick(event)})),sprite.events.addEventListener("pointerdown",(function(event){_this5._clickHandler.handlePointerDown(event)})),sprite.events.addEventListener("pointerup",(function(event){_this5._clickHandler.handlePointerUp(event)})),"AVATAR_DRAW_PART"===part.kind&&null!=part.color&&"colored"===part.mode?sprite.tint=parseInt(part.color.slice(1),16):sprite.tint=16777215,sprite}}},{key:"_reloadLook",value:function _reloadLook(){var _this6=this;if(this.mounted){var lookOptions=this._nextLookOptions;if(null!=lookOptions){var requestId=++this._updateId;this.dependencies.avatarLoader.getAvatarDrawDefinition(Object.assign({},lookOptions,{initial:!0,skipCaching:this._skipCaching})).then((function(result){_this6._destroyed||requestId===_this6._updateId&&(_this6._avatarLoaderResult=result,_this6._lookOptions=lookOptions,_this6._nextLookOptions=void 0,_this6._destroyAssets(),_this6._updateSprites(),_this6._onLoad&&_this6._onLoad())}))}}}},{key:"_updateFrame",value:function _updateFrame(){null!=this._avatarDrawDefinition&&(this._updateSpritesWithAvatarDrawDefinition(this._avatarDrawDefinition,this.currentFrame),this._updatePosition(this._avatarDrawDefinition))}},{key:"_handleDependenciesSet",value:function _handleDependenciesSet(){var _this7=this;this._reloadLook(),null!=this._cancelTicker&&this._cancelTicker(),null!=this._cancelTicker&&this._cancelTicker(),this._cancelTicker=this.dependencies.animationTicker.subscribe((function(){_this7._refreshLook&&(_this7._refreshLook=!1,_this7._reloadLook()),_this7._refreshFrame&&(_this7._refreshFrame=!1,_this7._updateFrame())}))}}],[{key:"fromShroom",value:function fromShroom(shroom,options){var avatar=new BaseAvatar(Object.assign({},options));return avatar.dependencies=Object.assign({},shroom.dependencies,{eventManager:EventManager_1.NOOP_EVENT_MANAGER}),avatar}}]),BaseAvatar}(PIXI.Container);exports.BaseAvatar=BaseAvatar},496:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(153),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClickHandler=void 0;var ClickHandler=function(){function ClickHandler(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClickHandler),this._map=new Map}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ClickHandler,[{key:"onClick",get:function get(){return this._onClick},set:function set(value){this._onClick=value}},{key:"onDoubleClick",get:function get(){return this._onDoubleClick},set:function set(value){this._onDoubleClick=value}},{key:"onPointerDown",get:function get(){return this._onPointerDown},set:function set(value){this._onPointerDown=value}},{key:"onPointerUp",get:function get(){return this._onPointerUp},set:function set(value){this._onPointerUp=value}},{key:"handleClick",value:function handleClick(event){null==this._doubleClickInfo?(this.onClick&&this.onClick(event),null!=this.onDoubleClick&&this._startDoubleClick(event)):(event.stopPropagation(),this._performDoubleClick(event))}},{key:"handlePointerDown",value:function handlePointerDown(event){this.onPointerDown&&this.onPointerDown(event)}},{key:"handlePointerUp",value:function handlePointerUp(event){this.onPointerUp&&this.onPointerUp(event)}},{key:"_performDoubleClick",value:function _performDoubleClick(event){var _this=this;null!=this._doubleClickInfo&&(this.onDoubleClick&&this.onDoubleClick(this._doubleClickInfo.initialEvent),setTimeout((function(){_this._resetDoubleClick()})))}},{key:"_resetDoubleClick",value:function _resetDoubleClick(){null!=this._doubleClickInfo&&(clearTimeout(this._doubleClickInfo.timeout),this._doubleClickInfo=void 0)}},{key:"_startDoubleClick",value:function _startDoubleClick(event){var _this2=this;this._doubleClickInfo={initialEvent:event,timeout:window.setTimeout((function(){return _this2._resetDoubleClick()}),350)}}}]),ClickHandler}();exports.ClickHandler=ClickHandler},497:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.HitSprite=void 0;var PIXI=__importStar(__webpack_require__(59)),rxjs_1=__webpack_require__(358),EventEmitter_1=__webpack_require__(975),HitSprite=function(_PIXI$Sprite){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(HitSprite,_PIXI$Sprite);var _super=_createSuper(HitSprite);function HitSprite(_ref){var _this,eventManager=_ref.eventManager,_ref$mirrored=_ref.mirrored,mirrored=void 0!==_ref$mirrored&&_ref$mirrored,getHitmap=_ref.getHitmap,tag=_ref.tag,group=_ref.group;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HitSprite),(_this=_super.call(this))._ignore=!1,_this._ignoreMouse=!1,_this._rectangleSubject=new rxjs_1.BehaviorSubject(void 0),_this._eventEmitter=new EventEmitter_1.EventEmitter,_this._group=group,_this._mirrored=mirrored,_this._getHitmap=getHitmap,_this._tag=tag,_this.mirrored=_this._mirrored,_this._eventManager=eventManager,eventManager.register(_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(HitSprite,[{key:"events",get:function get(){return this._eventEmitter}},{key:"getGroup",value:function getGroup(){return this._group}},{key:"getRectangleObservable",value:function getRectangleObservable(){return this._rectangleSubject}},{key:"getEventZOrder",value:function getEventZOrder(){return this.zIndex}},{key:"triggerPointerTargetChanged",value:function triggerPointerTargetChanged(event){event.tag=this._tag,this._eventEmitter.trigger("pointertargetchanged",event)}},{key:"triggerClick",value:function triggerClick(event){event.tag=this._tag,this._eventEmitter.trigger("click",event)}},{key:"triggerPointerDown",value:function triggerPointerDown(event){event.tag=this._tag,this._eventEmitter.trigger("pointerdown",event)}},{key:"triggerPointerUp",value:function triggerPointerUp(event){event.tag=this._tag,this._eventEmitter.trigger("pointerup",event)}},{key:"triggerPointerOver",value:function triggerPointerOver(event){event.tag=this._tag,this._eventEmitter.trigger("pointerover",event)}},{key:"triggerPointerOut",value:function triggerPointerOut(event){event.tag=this._tag,this._eventEmitter.trigger("pointerout",event)}},{key:"createDebugSprite",value:function createDebugSprite(){if(null!=this._hitTexture&&null!=this._hitTexture.getHitMap()){var sprite=new PIXI.TilingSprite(PIXI.Texture.WHITE,this._hitTexture.texture.width,this._hitTexture.texture.height);return sprite.alpha=.1,sprite.x=this.getGlobalPosition().x,sprite.y=this.getGlobalPosition().y,sprite}}},{key:"ignoreMouse",get:function get(){return this._ignoreMouse},set:function set(value){this._ignoreMouse=value}},{key:"group",get:function get(){return this._group}},{key:"ignore",get:function get(){return this._ignore},set:function set(value){this._ignore=value}},{key:"mirrored",get:function get(){return this._mirrored},set:function set(value){this._mirrored=value,this.scale.x=this._mirrored?-1:1}},{key:"hitTexture",get:function get(){return this._hitTexture},set:function set(value){var _this2=this;null!=value&&(this.texture=value.texture,this._hitTexture=value,this._getHitmap=function(){return function(x,y,transform){return value.hits(x,y,transform,{mirrorHorizonally:_this2._mirrored})}})}},{key:"getHitDetectionZIndex",value:function getHitDetectionZIndex(){return this.zIndex}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(HitSprite.prototype),"destroy",this).call(this),this._eventManager.remove(this)}},{key:"getHitBox",value:function getHitBox(){var pos=this.getGlobalPosition();return this._mirrored?{x:pos.x-this.texture.width,y:pos.y,width:this.texture.width,height:this.texture.height}:{x:pos.x,y:pos.y,width:this.texture.width,height:this.texture.height}}},{key:"hits",value:function hits(x,y){if(null==this._getHitmap)return!1;if(this.ignore)return!1;if(this.ignoreMouse)return!1;var hitBox=this.getHitBox(),inBoundsX=hitBox.x<=x&&x<=hitBox.x+hitBox.width,inBoundsY=hitBox.y<=y&&y<=hitBox.y+hitBox.height;if(inBoundsX&&inBoundsY){var hits=this._getHitmap();return hits(x,y,{x:this.getGlobalPosition().x,y:this.getGlobalPosition().y})}return!1}},{key:"updateTransform",value:function updateTransform(){_get(_getPrototypeOf(HitSprite.prototype),"updateTransform",this).call(this),this._rectangleSubject.next(this.getHitBox())}}]),HitSprite}(PIXI.Sprite);exports.HitSprite=HitSprite},498:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(55),Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventOverOutHandler=void 0;var EventOverOutHandler=function(){function EventOverOutHandler(){var _this=this;_classCallCheck(this,EventOverOutHandler),this._eventEmitters=new Map,this._overElements=new Set,this._hover=!1,this._targetChanged=!1,this._onOver=function(emitter,event){_this._overElements.add(emitter),_this._update(event)},this._onOut=function(emitter,event){_this._overElements.delete(emitter),_this._update(event)},this._onTargetChanged=function(emitter,event){_this._overElements.delete(emitter),_this._targetChanged=!0,_this._update(event)}}return _createClass(EventOverOutHandler,[{key:"onOver",get:function get(){return this._onOverCallback},set:function set(value){this._onOverCallback=value}},{key:"onOut",get:function get(){return this._onOutCallback},set:function set(value){this._onOutCallback=value}},{key:"register",value:function register(emitter){this._eventEmitters.has(emitter)||this._eventEmitters.set(emitter,new RegisteredOverOutHandler(emitter,this._onOver,this._onOut,this._onTargetChanged))}},{key:"remove",value:function remove(emitter){var handler=this._eventEmitters.get(emitter);null!=handler&&(this._eventEmitters.delete(emitter),this._overElements.delete(emitter),handler.destroy())}},{key:"_update",value:function _update(event){this._overElements.size>0&&!this._hover&&(this._hover=!0,this._targetChanged||this.onOver&&this.onOver(event),this._targetChanged=!1),this._overElements.size<1&&this._hover&&(this._hover=!1,this._targetChanged||this.onOut&&this.onOut(event))}}]),EventOverOutHandler}();exports.EventOverOutHandler=EventOverOutHandler;var RegisteredOverOutHandler=function(){function RegisteredOverOutHandler(emitter,onOver,onOut,onTargetChanged){var _this2=this;_classCallCheck(this,RegisteredOverOutHandler),this.emitter=emitter,this.onOver=onOver,this.onOut=onOut,this.onTargetChanged=onTargetChanged,this._handlePointerOut=function(event){_this2.onOut(_this2.emitter,event)},this._handlePointerOver=function(event){_this2.onOver(_this2.emitter,event)},this._handlePointerTargetChanged=function(event){_this2.onTargetChanged(_this2.emitter,event)},emitter.addEventListener("pointerout",this._handlePointerOut),emitter.addEventListener("pointerover",this._handlePointerOver),emitter.addEventListener("pointertargetchanged",this._handlePointerTargetChanged)}return _createClass(RegisteredOverOutHandler,[{key:"destroy",value:function destroy(){this.emitter.removeEventListener("pointerout",this._handlePointerOut),this.emitter.removeEventListener("pointerover",this._handlePointerOver),this.emitter.removeEventListener("pointertargetchanged",this._handlePointerTargetChanged)}}]),RegisteredOverOutHandler}()},499:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectAnimation=void 0;var ObjectAnimation=function(){function ObjectAnimation(_animationTicker,_callbacks){var _duration=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;_classCallCheck(this,ObjectAnimation),this._animationTicker=_animationTicker,this._callbacks=_callbacks,this._duration=_duration,this._start=0,this._enqueued=[],this._destroyed=!1}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ObjectAnimation,[{key:"clear",value:function clear(){return this._enqueued=[],this._nextPosition}},{key:"destroy",value:function destroy(){this._destroyed=!0,null!=this._cancelTicker&&this._cancelTicker()}},{key:"move",value:function move(currentPos,newPos,data){var _this=this;null!=this._finishCurrent&&(this._finishCurrent(),this._finishCurrent=void 0),this._callbacks.onStart(data),this._current=currentPos,this._diff={roomX:newPos.roomX-currentPos.roomX,roomY:newPos.roomY-currentPos.roomY,roomZ:newPos.roomZ-currentPos.roomZ},this._nextPosition=newPos,this._start=performance.now();var handleFinish=function handleFinish(){_this._diff=void 0,_this._current=void 0;var next=_this._enqueued.shift();null!=next?_this.move(next.currentPosition,next.newPosition,next.data):_this._callbacks.onStop(data),cancel()};this._finishCurrent=handleFinish,this._callbacks.onUpdatePosition({roomX:this._current.roomX,roomY:this._current.roomY,roomZ:this._current.roomZ},data);var cancel=this._animationTicker.subscribe((function(){if(!_this._destroyed){var factor=(performance.now()-_this._start)/_this._duration,current=_this._current,diff=_this._diff;factor>1&&(factor=1),null!=current&&null!=diff&&_this._callbacks.onUpdatePosition({roomX:current.roomX+diff.roomX*factor,roomY:current.roomY+diff.roomY*factor,roomZ:current.roomZ+diff.roomZ*factor},data),factor>=1&&handleFinish()}}));this._cancelTicker=cancel}}]),ObjectAnimation}();exports.ObjectAnimation=ObjectAnimation},500:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(980),__webpack_require__(505),__webpack_require__(506),__webpack_require__(507),__webpack_require__(508),__webpack_require__(509),__webpack_require__(510),__webpack_require__(511),__webpack_require__(512),__webpack_require__(513),__webpack_require__(514),__webpack_require__(515),__webpack_require__(516),__webpack_require__(517),__webpack_require__(518),__webpack_require__(519),__webpack_require__(520),__webpack_require__(521),__webpack_require__(522),__webpack_require__(523),__webpack_require__(524),__webpack_require__(525),__webpack_require__(526),__webpack_require__(527),__webpack_require__(5),__webpack_require__(7),__webpack_require__(528),__webpack_require__(13),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(9),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.HighlightFilter=void 0;var PIXI=__importStar(__webpack_require__(59)),HighlightFilter=function(_PIXI$Filter){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(HighlightFilter,_PIXI$Filter);var _super=_createSuper(HighlightFilter);function HighlightFilter(_backgroundColor,_borderColor){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HighlightFilter),(_this=_super.call(this,vertex,fragment))._backgroundColor=_backgroundColor,_this._borderColor=_borderColor,_this.uniforms.backgroundColor=new Float32Array(4),_this.uniforms.borderColor=new Float32Array(4),_this.uniforms.backgroundColor=[].concat(_toConsumableArray(PIXI.utils.hex2rgb(_this._backgroundColor)),[1]),_this.uniforms.borderColor=[].concat(_toConsumableArray(PIXI.utils.hex2rgb(_this._borderColor)),[1]),_this}return HighlightFilter}(PIXI.Filter);exports.HighlightFilter=HighlightFilter;var vertex="\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n",fragment="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 backgroundColor;\nuniform vec4 borderColor;\n\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n\n    if (currentColor.a > 0.0) {\n        if (currentColor.r == 0.0 && currentColor.g == 0.0 && currentColor.b == 0.0) {\n            gl_FragColor = borderColor;\n        } else {\n            gl_FragColor = backgroundColor;\n        }\n    }\n}\n"},529:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureSprite=void 0;var FurnitureSprite=function(_HitSprite_1$HitSprit){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FurnitureSprite,_HitSprite_1$HitSprit);var _super=_createSuper(FurnitureSprite);function FurnitureSprite(){var _this;return _classCallCheck(this,FurnitureSprite),(_this=_super.apply(this,arguments))._baseX=0,_this._baseY=0,_this._baseZIndex=0,_this._offsetX=0,_this._offsetY=0,_this._offsetZIndex=0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureSprite,[{key:"offsetX",get:function get(){return this._offsetX},set:function set(value){this._offsetX=value,this._update()}},{key:"offsetY",get:function get(){return this._offsetY},set:function set(value){this._offsetY=value,this._update()}},{key:"offsetZIndex",get:function get(){return this._offsetZIndex},set:function set(value){this._offsetZIndex=value,this._update()}},{key:"baseX",get:function get(){return this._baseX},set:function set(value){this._baseX=value,this._update()}},{key:"baseY",get:function get(){return this._baseY},set:function set(value){this._baseY=value,this._update()}},{key:"baseZIndex",get:function get(){return this._baseZIndex},set:function set(value){this._baseZIndex=value,this._update()}},{key:"assetName",get:function get(){return this._assetName},set:function set(value){this._assetName=value}},{key:"_update",value:function _update(){this.x=this.baseX+this.offsetX,this.y=this.baseY+this.offsetY,this.zIndex=this.baseZIndex+this.offsetZIndex}}]),FurnitureSprite}(__webpack_require__(497).HitSprite);exports.FurnitureSprite=FurnitureSprite},530:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFurnitureFetch=void 0,exports.getFurnitureFetch=function getFurnitureFetch(data,placementType){if(null!=data.id&&null!=data.type)throw new Error("Both `id` and `type` specified. Please supply only one of the two.");if(null!=data.id)return{kind:"id",id:data.id,placementType:placementType};if(null!=data.type)return{kind:"type",type:data.type};throw new Error("No `id` or `type` provided for the furniture.")}},531:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMaskId=void 0,exports.getMaskId=function getMaskId(direction,roomX,roomY){switch(direction){case 2:case 6:return"x_".concat(roomX);case 0:case 4:return"y_".concat(roomY)}}},532:function(module,exports,__webpack_require__){"use strict";function toTileType(str){return str}__webpack_require__(3),__webpack_require__(67),__webpack_require__(28),__webpack_require__(20),__webpack_require__(49),__webpack_require__(70),__webpack_require__(181),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseTileMapString=void 0,exports.parseTileMapString=function parseTileMapString(str){return(str=(str=str.replace(/\r/g,"\n")).replace(/ /g,"")).split("\n").map((function(row){return row.trim()})).filter((function(row){return row.length>0})).map((function(row){return row.split("").map(toTileType)}))}},533:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(55),__webpack_require__(15),__webpack_require__(19),__webpack_require__(13),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoomModelVisualization=void 0;var PIXI=__importStar(__webpack_require__(59)),rxjs_1=__webpack_require__(358),getZOrder_1=__webpack_require__(241),EventManagerContainer_1=__webpack_require__(993),Stair_1=__webpack_require__(994),StairCorner_1=__webpack_require__(996),Tile_1=__webpack_require__(997),TileCursor_1=__webpack_require__(998),WallLeft_1=__webpack_require__(336),WallOuterCorner_1=__webpack_require__(1e3),WallRight_1=__webpack_require__(534),getTileMapBounds_1=__webpack_require__(1001),RoomModelVisualization=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RoomModelVisualization,_PIXI$Container);var _super=_createSuper(RoomModelVisualization);function RoomModelVisualization(_eventManager,_application,parsedTileMap){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RoomModelVisualization),(_this=_super.call(this))._eventManager=_eventManager,_this._application=_application,_this.parsedTileMap=parsedTileMap,_this._hideTileCursor=!1,_this._hideWalls=!1,_this._hideFloor=!1,_this._positionalContainer=new PIXI.Container,_this._behindWallLayer=new PIXI.Container,_this._wallLayer=new PIXI.Container,_this._tileLayer=new PIXI.Container,_this._primaryLayer=new PIXI.Container,_this._landscapeLayer=new PIXI.Container,_this._wallHitAreaLayer=new PIXI.Container,_this._masksLayer=new PIXI.Container,_this._walls=[],_this._tiles=[],_this._tileCursors=[],_this._masks=new Map,_this._parts=new Set,_this._borderWidth=8,_this._tileHeight=8,_this._wallHeight=116,_this._onActiveTileChange=new rxjs_1.Subject,_this._onActiveWallChange=new rxjs_1.Subject,_this._onTileClick=new rxjs_1.Subject,_this._refreshRoom=!1,_this._rebuildRoom=!1,_this._handleTick=function(){_this._rebuildRoom&&(_this._updateHeightmap(),_this._rebuildRoom=!1),_this._refreshRoom&&(_this._updateParts(),_this._refreshRoom=!1)},_this._tileMapBounds=getTileMapBounds_1.getTileMapBounds(_this.parsedTileMap.parsedTileTypes,{x:_this.parsedTileMap.wallOffsets.x,y:_this.parsedTileMap.wallOffsets.y}),_this._positionalContainer.addChild(_this._behindWallLayer),_this._positionalContainer.addChild(_this._wallLayer),_this._positionalContainer.addChild(_this._wallHitAreaLayer),_this._positionalContainer.addChild(_this._tileLayer),_this._positionalContainer.addChild(_this._landscapeLayer),_this._positionalContainer.addChild(_this._primaryLayer),_this._positionalContainer.addChild(_this._masksLayer),_this._positionalContainer.x=-_this.roomBounds.minX,_this._positionalContainer.y=-_this.roomBounds.minY,_this._primaryLayer.sortableChildren=!0,_this._tileLayer.sortableChildren=!0,_this.addChild(_this._positionalContainer),new EventManagerContainer_1.EventManagerContainer(_this._application,_this._eventManager),_this._updateHeightmap(),_this._application.ticker.add(_this._handleTick),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RoomModelVisualization,[{key:"addPart",value:function addPart(part){var _this2=this;return this._parts.add(part),part.update(this._getCurrentRoomPartData()),{remove:function remove(){_this2._parts.delete(part)}}}},{key:"getMaskLevel",value:function getMaskLevel(roomX,roomY){return{roomX:roomX,roomY:roomY}}},{key:"onTileClick",get:function get(){return this._onTileClick}},{key:"hideFloor",get:function get(){return this._hideFloor},set:function set(value){this._hideFloor=value,this._rebuildRoom=!0}},{key:"hideWalls",get:function get(){return this._hideWalls},set:function set(value){this._hideWalls=value,this._rebuildRoom=!0}},{key:"hideTileCursor",get:function get(){return this._hideTileCursor},set:function set(value){this._hideTileCursor=value,this._rebuildRoom=!0}},{key:"wallTexture",get:function get(){return this._wallTexture},set:function set(value){this._wallTexture=value,this._refreshRoom=!0}},{key:"floorTexture",get:function get(){return this._floorTexture},set:function set(value){this._floorTexture=value,this._refreshRoom=!0}},{key:"wallHeight",get:function get(){return this._wallHeight},set:function set(value){this._wallHeight=value,this._refreshRoom=!0}},{key:"tileHeight",get:function get(){return this._tileHeight},set:function set(value){this._tileHeight=value,this._refreshRoom=!0}},{key:"wallDepth",get:function get(){return this._borderWidth},set:function set(value){this._borderWidth=value,this._refreshRoom=!0}},{key:"roomBounds",get:function get(){var hasWalls=this.hideWalls||this.hideFloor,minOffsetY=hasWalls?0:-this._wallHeight-this._borderWidth,minXOffset=hasWalls?0:-this._borderWidth,maxOffsetX=hasWalls?0:this._borderWidth,maxOffsetY=hasWalls?0:this._tileHeight;return{minX:this._tileMapBounds.minX+minXOffset,maxX:this._tileMapBounds.maxX+maxOffsetX,minY:this._tileMapBounds.minY+minOffsetY,maxY:this._tileMapBounds.maxY+maxOffsetY}}},{key:"rectangle",get:function get(){return{x:this.x,y:this.y,width:this.roomBounds.maxX-this.roomBounds.minX,height:this.roomBounds.maxY-this.roomBounds.minY}}},{key:"wallLeftColor",get:function get(){return this._wallLeftColor},set:function set(value){this._wallLeftColor=value,this._refreshRoom=!0}},{key:"wallRightColor",get:function get(){return this._wallRightColor},set:function set(value){this._wallRightColor=value,this._refreshRoom=!0}},{key:"wallTopColor",get:function get(){return this._wallTopColor},set:function set(value){this._wallTopColor=value,this._refreshRoom=!0}},{key:"tileLeftColor",get:function get(){return this._tileLeftColor},set:function set(value){this._tileLeftColor=value,this._refreshRoom=!0}},{key:"tileRightColor",get:function get(){return this._tileRightColor},set:function set(value){this._tileRightColor=value,this._refreshRoom=!0}},{key:"tileTopColor",get:function get(){return this._tileTopColor},set:function set(value){this._tileTopColor=value,this._refreshRoom=!0}},{key:"onActiveTileChange",get:function get(){return this._onActiveTileChange.asObservable()}},{key:"onActiveWallChange",get:function get(){return this._onActiveWallChange.asObservable()}},{key:"container",get:function get(){return this._primaryLayer}},{key:"behindWallContainer",get:function get(){return this._behindWallLayer}},{key:"landscapeContainer",get:function get(){return this._landscapeLayer}},{key:"floorContainer",get:function get(){return this._tileLayer}},{key:"wallContainer",get:function get(){return this._wallLayer}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(RoomModelVisualization.prototype),"destroy",this).call(this),this._destroyAllSprites()}},{key:"addMask",value:function addMask(id,element){return{update:function update(){},remove:function remove(){},sprite:element}}},{key:"getScreenPosition",value:function getScreenPosition(roomX,roomY,roomZ){return this._getPosition(roomX,roomY,roomZ)}},{key:"_getCurrentRoomPartData",value:function _getCurrentRoomPartData(){var _a,_b,_c,_d,_e,_f,_g,_h;return{borderWidth:this._borderWidth,tileHeight:this._tileHeight,wallHeight:this._getLargestWallHeight(),wallLeftColor:null!==(_a=this._wallLeftColor)&&void 0!==_a?_a:9540767,wallRightColor:null!==(_b=this._wallRightColor)&&void 0!==_b?_b:12304077,wallTopColor:null!==(_c=this._wallTopColor)&&void 0!==_c?_c:7369339,tileLeftColor:null!==(_d=this._tileLeftColor)&&void 0!==_d?_d:8618839,tileRightColor:null!==(_e=this._tileRightColor)&&void 0!==_e?_e:6710852,tileTopColor:null!==(_f=this._tileTopColor)&&void 0!==_f?_f:10000485,tileTexture:null!==(_g=this._floorTexture)&&void 0!==_g?_g:PIXI.Texture.WHITE,wallTexture:null!==(_h=this._wallTexture)&&void 0!==_h?_h:PIXI.Texture.WHITE,masks:this._masks}}},{key:"_setCache",value:function _setCache(cache){[this._tileLayer,this._wallLayer].forEach((function(container){return container.cacheAsBitmap=cache}))}},{key:"_getLargestWallHeight",value:function _getLargestWallHeight(){return 32*this.parsedTileMap.largestDiff+this._wallHeight}},{key:"_destroyAllSprites",value:function _destroyAllSprites(){[].concat(_toConsumableArray(this._tileCursors),_toConsumableArray(this._tiles),_toConsumableArray(this._walls)).forEach((function(part){return part.destroy()})),this._tileCursors=[],this._tiles=[],this._walls=[]}},{key:"_updateHeightmap",value:function _updateHeightmap(){this._destroyAllSprites();for(var y=0;y<this.parsedTileMap.parsedTileTypes.length;y++)for(var x=0;x<this.parsedTileMap.parsedTileTypes[y].length;x++){var cell=this.parsedTileMap.parsedTileTypes[y][x];this._createHeightmapElement(cell,x,y)}this._updateParts(),this._positionalContainer.x=-this.roomBounds.minX,this._positionalContainer.y=-this.roomBounds.minY}},{key:"_updateParts",value:function _updateParts(){var _this3=this;this._setCache(!1),[].concat(_toConsumableArray(this._tiles),_toConsumableArray(this._walls),_toConsumableArray(this._parts)).forEach((function(tile){return tile.update(_this3._getCurrentRoomPartData())})),this._setCache(!0)}},{key:"_createHeightmapElement",value:function _createHeightmapElement(element,x,y){switch(element.type){case"wall":this._createWallElement(element,x,y,element.height);break;case"tile":this._createTileElement(x,y,element.z);break;case"door":this._createDoor(x,y,element.z);break;case"stairs":this._createStair(x,y,element.z,element.kind);break;case"stairCorner":this._createStairCorner(x,y,element.z,element.kind)}}},{key:"_createStairCorner",value:function _createStairCorner(x,y,z,kind){var stair=new StairCorner_1.StairCorner({type:kind}),position=this._getPosition(x,y,z);stair.x=position.x,stair.y=position.y,this._tiles.push(stair),this._tileLayer.addChild(stair),this._createTileCursor(x,y,z),this._createTileCursor(x,y,z+1)}},{key:"_createStair",value:function _createStair(x,y,z,direction){var stair=new Stair_1.Stair({tileHeight:this._tileHeight,direction:direction}),position=this._getPosition(x,y,z);stair.x=position.x,stair.y=position.y,this._tiles.push(stair),this._tileLayer.addChild(stair),this._createTileCursor(x,y,z),this._createTileCursor(x,y,z+1)}},{key:"_createDoor",value:function _createDoor(x,y,z){this._createTileElement(x,y,z,this._behindWallLayer),this._createLeftWall(x,y,z,{hideBorder:!1,cutawayHeight:90})}},{key:"_createTileElement",value:function _createTileElement(x,y,z,container){if(!this._hideFloor){var tile=new Tile_1.Tile({color:"#eeeeee",tileHeight:this._tileHeight}),xEven=x%2==0,yEven=y%2==0;tile.tilePositions=new PIXI.Point(xEven?32:0,yEven?32:0);var position=this._getPosition(x,y,z);tile.x=position.x,tile.y=position.y,(null!=container?container:this._tileLayer).addChild(tile),this._tiles.push(tile),this._createTileCursor(x,y,z,container)}}},{key:"_createTileCursor",value:function _createTileCursor(x,y,z,container){var _this4=this;if(!this._hideTileCursor){var position={roomX:x,roomY:y,roomZ:z},cursor=new TileCursor_1.TileCursor(this._eventManager,position,(function(pos,event){_this4._onTileClick.next({position:position,event:event})}),(function(){_this4._onActiveTileChange.next(position)}),(function(){_this4._onActiveTileChange.next(void 0)})),_this$_getPosition=this._getPosition(x,y,z),posX=_this$_getPosition.x,posY=_this$_getPosition.y;cursor.x=posX,cursor.y=posY,cursor.zIndex=getZOrder_1.getZOrder(x,y,z)-1e3,this._tileCursors.push(cursor),(null!=container?container:this._primaryLayer).addChild(cursor)}}},{key:"_createRightWall",value:function _createRightWall(roomX,roomY,roomZ,options){var _a,_this5=this,wall=new WallRight_1.WallRight({hideBorder:null!==(_a=options.hideBorder)&&void 0!==_a&&_a,onMouseMove:function onMouseMove(event){_this5._onActiveWallChange.next({roomX:roomX,roomY:roomY,offsetX:-event.offsetX-16,offsetY:event.offsetY/2+_this5._wallHeight/2-event.offsetX/4+16*roomZ-8,wall:"r"})},onMouseOut:function onMouseOut(){_this5._onActiveWallChange.next(void 0)},hitAreaContainer:this._wallHitAreaLayer}),_this$_getPosition2=this._getPosition(roomX,roomY+1,roomZ),x=_this$_getPosition2.x,y=_this$_getPosition2.y;wall.x=x+32,wall.y=y,wall.roomZ=roomZ,this._wallLayer.addChild(wall),this._walls.push(wall)}},{key:"_createLeftWall",value:function _createLeftWall(roomX,roomY,roomZ,_ref){var _this6=this,_ref$hideBorder=_ref.hideBorder,hideBorder=void 0!==_ref$hideBorder&&_ref$hideBorder,cutawayHeight=_ref.cutawayHeight;if(!this._hideWalls){var wall=new WallLeft_1.WallLeft({hideBorder:hideBorder,onMouseMove:function onMouseMove(event){_this6._onActiveWallChange.next({roomX:roomX,roomY:roomY,offsetX:event.offsetX,offsetY:event.offsetY/2+_this6._wallHeight/2-event.offsetX/4+16*roomZ,wall:"l"})},onMouseOut:function onMouseOut(){_this6._onActiveWallChange.next(void 0)},hitAreaContainer:this._wallHitAreaLayer,cutawayHeight:cutawayHeight}),_this$_getPosition3=this._getPosition(roomX+1,roomY,roomZ),x=_this$_getPosition3.x,y=_this$_getPosition3.y;wall.x=x,wall.y=y,wall.roomZ=roomZ,this._wallLayer.addChild(wall),this._walls.push(wall)}}},{key:"_createOuterBorder",value:function _createOuterBorder(roomX,roomY,roomZ){var wall=new WallOuterCorner_1.WallOuterCorner,_this$_getPosition4=this._getPosition(roomX+1,roomY,roomZ),x=_this$_getPosition4.x,y=_this$_getPosition4.y;wall.x=x,wall.y=y,wall.roomZ=roomZ,this._wallLayer.addChild(wall),this._walls.push(wall)}},{key:"_createWallElement",value:function _createWallElement(element,x,y,z){if(!this._hideWalls&&!this._hideFloor)switch(element.kind){case"colWall":this._createRightWall(x,y,z,{hideBorder:element.hideBorder});break;case"rowWall":this._createLeftWall(x,y,z,{hideBorder:element.hideBorder});break;case"innerCorner":this._createRightWall(x,y,z,{hideBorder:!1}),this._createLeftWall(x,y,z,{hideBorder:!0});break;case"outerCorner":this._createOuterBorder(x,y,z)}}},{key:"_getPosition",value:function _getPosition(roomX,roomY,roomZ){var _getBasePosition=function getBasePosition(){return{x:roomX,y:roomY}}(),x=_getBasePosition.x,y=_getBasePosition.y;return{x:32*x-32*y,y:16*x+16*y-32*roomZ}}}]),RoomModelVisualization}(PIXI.Container);exports.RoomModelVisualization=RoomModelVisualization},534:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(33),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.WallRight=void 0;var WallRight=function(_WallLeft_1$WallLeft){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WallRight,_WallLeft_1$WallLeft);var _super=_createSuper(WallRight);function WallRight(props){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WallRight),_super.call(this,props)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WallRight,[{key:"_update",value:function _update(){this._offsets={x:this._wallWidth,y:0},this.scale.x=-1;var left=this._wallLeftColor;this._wallLeftColor=this._wallRightColor,this._wallRightColor=left,_get(_getPrototypeOf(WallRight.prototype),"_update",this).call(this)}}]),WallRight}(__webpack_require__(336).WallLeft);exports.WallRight=WallRight},535:function(module,exports,__webpack_require__){"use strict";__webpack_require__(33),__webpack_require__(3);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyTextureProperties=void 0;var PIXI=__importStar(__webpack_require__(59));exports.applyTextureProperties=function applyTextureProperties(texture){texture.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST}},536:function(module,exports,__webpack_require__){"use strict";function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(31),__webpack_require__(5),__webpack_require__(20),__webpack_require__(105),__webpack_require__(15),__webpack_require__(19),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(25),__webpack_require__(12),__webpack_require__(36),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureData=void 0;var xml2js_1=__webpack_require__(1013),furnitureDataTransformers_1=__webpack_require__(1037),FurnitureData=function(){function FurnitureData(_getFurniData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FurnitureData),this._getFurniData=_getFurniData,this._data=this._prepareData()}var _prepareData2,_getInfos,_getInfoForFurniture,_getTypeById,_getInfo,_getRevisionForType;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureData,[{key:"getRevisionForType",value:(_getRevisionForType=_asyncToGenerator(regeneratorRuntime.mark((function _callee(type){var info;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.getInfo(type);case 2:return info=_context.sent,_context.abrupt("return",null==info?void 0:info.revision);case 4:case"end":return _context.stop()}}),_callee,this)}))),function getRevisionForType(_x){return _getRevisionForType.apply(this,arguments)})},{key:"getInfo",value:(_getInfo=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(type){var data;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._data;case 2:return data=_context2.sent,_context2.abrupt("return",data.typeToInfo[type]);case 4:case"end":return _context2.stop()}}),_callee2,this)}))),function getInfo(_x2){return _getInfo.apply(this,arguments)})},{key:"getTypeById",value:(_getTypeById=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(id,placementType){var data,type;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this._data;case 2:if(data=_context3.sent,null!=(type="floor"!=placementType?data.floorIdToType[id]:data.wallIdToType[id])){_context3.next=6;break}return _context3.abrupt("return");case 6:return _context3.abrupt("return",type);case 7:case"end":return _context3.stop()}}),_callee3,this)}))),function getTypeById(_x3,_x4){return _getTypeById.apply(this,arguments)})},{key:"getInfoForFurniture",value:(_getInfoForFurniture=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(furniture){var type;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(null==furniture.id){_context4.next=6;break}return _context4.next=3,this.getTypeById(furniture.id,furniture.placementType);case 3:if(null==(type=_context4.sent)){_context4.next=6;break}return _context4.abrupt("return",this.getInfo(type));case 6:if(null==furniture.type){_context4.next=8;break}return _context4.abrupt("return",this.getInfo(furniture.type));case 8:case"end":return _context4.stop()}}),_callee4,this)}))),function getInfoForFurniture(_x5){return _getInfoForFurniture.apply(this,arguments)})},{key:"getInfos",value:(_getInfos=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var data;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this._data;case 2:return data=_context5.sent,_context5.abrupt("return",Object.entries(data.typeToInfo).map((function(_ref){var _ref2=_slicedToArray(_ref,2);return[_ref2[0],_ref2[1]]})));case 4:case"end":return _context5.stop()}}),_callee5,this)}))),function getInfos(){return _getInfos.apply(this,arguments)})},{key:"_prepareData",value:(_prepareData2=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var furniDataString,parsed,typeToInfo,floorIdToType,wallIdToType,register;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this._getFurniData();case 2:return furniDataString=_context6.sent,_context6.next=5,xml2js_1.parseStringPromise(furniDataString);case 5:return parsed=_context6.sent,typeToInfo={},floorIdToType={},wallIdToType={},(register=function register(data,furnitureType){data.forEach((function(element){var type=element.$.classname,id=element.$.id;if(typeToInfo[type]=furnitureDataTransformers_1.formatFurnitureData(element),"floor"===furnitureType){if(null!=floorIdToType[id])throw new Error("Floor furniture with id ".concat(id," already exists"));floorIdToType[id]=type}else if("wall"===furnitureType){if(null!=wallIdToType[id])throw new Error("Wall furniture with id ".concat(id," already exists"));wallIdToType[id]=type}}))})(parsed.furnidata.roomitemtypes[0].furnitype,"wall"),register(parsed.furnidata.wallitemtypes[0].furnitype,"floor"),_context6.abrupt("return",{typeToInfo:typeToInfo,floorIdToType:floorIdToType,wallIdToType:wallIdToType});case 13:case"end":return _context6.stop()}}),_callee6,this)}))),function _prepareData(){return _prepareData2.apply(this,arguments)})}],[{key:"create",value:function create(){var resourcePath=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new FurnitureData(_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",fetch("".concat(resourcePath,"/furnidata.xml")).then((function(response){return response.text()})));case 1:case"end":return _context7.stop()}}),_callee7)}))))}}]),FurnitureData}();exports.FurnitureData=FurnitureData},549:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationTicker=void 0;var AnimationTicker=function(){function AnimationTicker(application){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AnimationTicker),this._frame=0,this._idCounter=0,this._subscriptions=new Map,application.ticker.maxFPS=60,application.ticker.minFPS=24,application.ticker.add((function(){return _this._increment()}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AnimationTicker,[{key:"subscribe",value:function subscribe(cb){var _this2=this,id=this._idCounter++;return this._subscriptions.set(id,cb),function(){return _this2._subscriptions.delete(id)}}},{key:"current",value:function current(){return this._getNormalizedFrame(this._frame).rounded}},{key:"_getNormalizedFrame",value:function _getNormalizedFrame(frame){var calculatedFrame=.4*frame;return{rounded:Math.floor(calculatedFrame),pure:calculatedFrame}}},{key:"_increment",value:function _increment(){this._frame+=1;var data=this._getNormalizedFrame(this._frame);this._subscriptions.forEach((function(cb){return cb(data.rounded,data.pure)}))}}],[{key:"create",value:function create(application){return new AnimationTicker(application)}}]),AnimationTicker}();exports.AnimationTicker=AnimationTicker},550:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(72),__webpack_require__(20),__webpack_require__(36),__webpack_require__(6),__webpack_require__(26),__webpack_require__(5),__webpack_require__(7),__webpack_require__(9),__webpack_require__(31),__webpack_require__(11),__webpack_require__(55),__webpack_require__(138),__webpack_require__(139),__webpack_require__(13);var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarLoader=void 0;var util_1=__webpack_require__(1040),bluebird_1=__importDefault(__webpack_require__(1053)),AvatarAnimationData_1=__webpack_require__(1054),FigureMapData_1=__webpack_require__(1056),AvatarPartSetsData_1=__webpack_require__(1057),FigureData_1=__webpack_require__(1059),AvatarActionsData_1=__webpack_require__(1060),AvatarGeometryData_1=__webpack_require__(1062),LegacyAssetBundle_1=__webpack_require__(557),ShroomAssetBundle_1=__webpack_require__(558),AvatarEffectMap_1=__webpack_require__(1066),AvatarEffectBundle_1=__webpack_require__(1067),getLibrariesForLook_1=__webpack_require__(1071),parseLookString_1=__webpack_require__(555),AvatarAssetLibraryCollection_1=__webpack_require__(1072),ManifestLibrary_1=__webpack_require__(1074);var AvatarLoader=function(){function AvatarLoader(_options){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarLoader),this._options=_options,this._effectCache=new Map,this._lookOptionsCache=new Map,this._assetBundles=new Map,this._offsets=new AvatarAssetLibraryCollection_1.AvatarAssetLibraryCollection,this._dependencies=this._options.createDependencies(),this._lookServer=this._dependencies.then(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(dependencies){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",util_1.createLookServer(Object.assign({},dependencies,{offsetsData:_this._offsets})));case 1:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}()).then(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(server){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this._getAvatarDrawDefinition(server,{direction:0,headDirection:0,actions:new Set,look:"hd-99999-99999"});case 2:return _context2.abrupt("return",server);case 3:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref2.apply(this,arguments)}}()),this._effectMap=this._options.getEffectMap()}var _getAssetBundle2,_loadEffect2,_loadEffectCached2,_getAvatarDrawDefinition3,_getAvatarDrawDefinition2;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarLoader,[{key:"getAvatarDrawDefinition",value:(_getAvatarDrawDefinition2=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(options){var getDrawDefinition;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this._lookServer;case 2:return getDrawDefinition=_context3.sent,_context3.abrupt("return",this._getAvatarDrawDefinition(getDrawDefinition,options));case 4:case"end":return _context3.stop()}}),_callee3,this)}))),function getAvatarDrawDefinition(_x3){return _getAvatarDrawDefinition2.apply(this,arguments)})},{key:"_getAvatarDrawDefinition",value:(_getAvatarDrawDefinition3=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(_getDrawDefinition,options){var _a,effect,effectData,effectBundle,effectCache,_yield$this$_dependen,figureData,figureMap,libs,fileIds,_this2=this;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(null==(effect=options.effect)){_context4.next=6;break}return _context4.next=4,this._loadEffectCached(effect);case 4:null!=(effectCache=_context4.sent)&&(effectData=effectCache.effectData,effectBundle=effectCache.effectBundle);case 6:return _context4.next=8,this._dependencies;case 8:if(_yield$this$_dependen=_context4.sent,figureData=_yield$this$_dependen.figureData,figureMap=_yield$this$_dependen.figureMap,null==effectBundle){_context4.next=14;break}return _context4.next=14,this._offsets.open(effectBundle);case 14:return libs=getLibrariesForLook_1.getLibrariesForLook(parseLookString_1.parseLookString(options.look),{figureData:figureData,figureMap:figureMap}),_context4.next=17,Promise.all(Array.from(libs).map((function(lib){return _this2._getAssetBundle(lib).then((function(bundle){return _this2._offsets.open(bundle)}))})));case 17:if(null==(fileIds=null===(_a=_getDrawDefinition(options,effectData))||void 0===_a?void 0:_a.getDrawDefinition().flatMap((function(part){return part.assets})).map((function(asset){return asset.fileId})))){_context4.next=21;break}return _context4.next=21,this._offsets.loadTextures(fileIds);case 21:return _context4.abrupt("return",{getDrawDefinition:function getDrawDefinition(options){var result=_this2._getDrawDefinitionCached(_getDrawDefinition,options,effectData);if(null==result)throw new Error("Invalid look");return result},getTexture:function getTexture(id){var texture=_this2._offsets.getTexture(id);if(null==texture)throw console.error("Texture not found in",_this2._offsets),new Error("Invalid texture: ".concat(id));return texture}});case 22:case"end":return _context4.stop()}}),_callee4,this)}))),function _getAvatarDrawDefinition(_x4,_x5){return _getAvatarDrawDefinition3.apply(this,arguments)})},{key:"_loadEffectCached",value:(_loadEffectCached2=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(effect){var current,promise;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(null==(current=this._effectCache.get(effect))){_context5.next=3;break}return _context5.abrupt("return",current);case 3:return promise=this._loadEffect(effect),this._effectCache.set(effect,promise),_context5.abrupt("return",promise);case 6:case"end":return _context5.stop()}}),_callee5,this)}))),function _loadEffectCached(_x6){return _loadEffectCached2.apply(this,arguments)})},{key:"_loadEffect",value:(_loadEffect2=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(effect){var effectMap,effectInfo,effectBundle,effectData;return regeneratorRuntime.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this._effectMap;case 2:if(effectMap=_context6.sent,null==(effectInfo=effectMap.getEffectInfo(effect))){_context6.next=12;break}return _context6.next=7,this._options.getEffectBundle(effectInfo);case 7:return effectBundle=_context6.sent,_context6.next=10,effectBundle.getData();case 10:return effectData=_context6.sent,_context6.abrupt("return",{effectBundle:effectBundle,effectData:effectData});case 12:case"end":return _context6.stop()}}),_callee6,this)}))),function _loadEffect(_x7){return _loadEffect2.apply(this,arguments)})},{key:"_getAssetBundle",value:(_getAssetBundle2=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(library){var current,bundle;return regeneratorRuntime.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(null==(current=this._assetBundles.get(library))){_context7.next=3;break}return _context7.abrupt("return",current);case 3:return bundle=this._options.getAssetBundle(library).then((function(bundle){return new ManifestLibrary_1.ManifestLibrary(bundle)})),this._assetBundles.set(library,bundle),_context7.abrupt("return",bundle);case 6:case"end":return _context7.stop()}}),_callee7,this)}))),function _getAssetBundle(_x8){return _getAssetBundle2.apply(this,arguments)})},{key:"_getDrawDefinitionCached",value:function _getDrawDefinitionCached(getAvatarDrawDefinition,lookOptions,effect){var key=function _getLookOptionsString(lookOptions){var parts=[];if(lookOptions.actions.size>0){var actionString=Array.from(lookOptions.actions).map((function(action){return action})).join(",");parts.push("actions(".concat(actionString,")"))}return parts.push("direction(".concat(lookOptions.direction,")")),parts.push("headdirection(".concat(lookOptions.headDirection,")")),null!=lookOptions.item&&parts.push("item(".concat(lookOptions.item,")")),null!=lookOptions.look&&parts.push("look(".concat(lookOptions.look,")")),null!=lookOptions.effect&&parts.push("effect(".concat(lookOptions.effect,")")),parts.join(",")}(lookOptions),existing=this._lookOptionsCache.get(key);if(null!=existing)return existing;var drawDefinition=getAvatarDrawDefinition(lookOptions,effect);return null!=drawDefinition?(this._lookOptionsCache.set(key,drawDefinition),drawDefinition):void 0}}],[{key:"create",value:function create(){var _getEffectBundle,_getEffectMap,_getAssetBundle3,resourcePath=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new AvatarLoader({createDependencies:function createDependencies(){return initializeDefaultAvatarDependencies(resourcePath)},getAssetBundle:(_getAssetBundle3=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(library){return regeneratorRuntime.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.abrupt("return",new LegacyAssetBundle_1.LegacyAssetBundle("".concat(resourcePath,"/figure/").concat(library)));case 1:case"end":return _context8.stop()}}),_callee8)}))),function getAssetBundle(_x9){return _getAssetBundle3.apply(this,arguments)}),getEffectMap:(_getEffectMap=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(){var response,text;return regeneratorRuntime.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,fetch("".concat(resourcePath,"/effectmap.xml"));case 2:return response=_context9.sent,_context9.next=5,response.text();case 5:return text=_context9.sent,_context9.abrupt("return",new AvatarEffectMap_1.AvatarEffectMap(text));case 7:case"end":return _context9.stop()}}),_callee9)}))),function getEffectMap(){return _getEffectMap.apply(this,arguments)}),getEffectBundle:(_getEffectBundle=_asyncToGenerator(regeneratorRuntime.mark((function _callee10(effect){var data;return regeneratorRuntime.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,ShroomAssetBundle_1.ShroomAssetBundle.fromUrl("".concat(resourcePath,"/effects/").concat(effect.lib,".shroom"));case 2:return data=_context10.sent,_context10.abrupt("return",new AvatarEffectBundle_1.AvatarEffectBundle(data));case 4:case"end":return _context10.stop()}}),_callee10)}))),function getEffectBundle(_x10){return _getEffectBundle.apply(this,arguments)})})}},{key:"createForAssetBundle",value:function createForAssetBundle(){var _getEffectBundle2,_getEffectMap2,_getAssetBundle4,resourcePath=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new AvatarLoader({createDependencies:function createDependencies(){return initializeDefaultAvatarDependencies(resourcePath)},getAssetBundle:(_getAssetBundle4=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(library){return regeneratorRuntime.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.abrupt("return",ShroomAssetBundle_1.ShroomAssetBundle.fromUrl("".concat(resourcePath,"/figure/").concat(library,".shroom")));case 1:case"end":return _context11.stop()}}),_callee11)}))),function getAssetBundle(_x11){return _getAssetBundle4.apply(this,arguments)}),getEffectMap:(_getEffectMap2=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(){var response,text;return regeneratorRuntime.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.next=2,fetch("".concat(resourcePath,"/effectmap.xml"));case 2:return response=_context12.sent,_context12.next=5,response.text();case 5:return text=_context12.sent,_context12.abrupt("return",new AvatarEffectMap_1.AvatarEffectMap(text));case 7:case"end":return _context12.stop()}}),_callee12)}))),function getEffectMap(){return _getEffectMap2.apply(this,arguments)}),getEffectBundle:(_getEffectBundle2=_asyncToGenerator(regeneratorRuntime.mark((function _callee13(effect){var data;return regeneratorRuntime.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,ShroomAssetBundle_1.ShroomAssetBundle.fromUrl("".concat(resourcePath,"/effects/").concat(effect.lib,".shroom"));case 2:return data=_context13.sent,_context13.abrupt("return",new AvatarEffectBundle_1.AvatarEffectBundle(data));case 4:case"end":return _context13.stop()}}),_callee13)}))),function getEffectBundle(_x12){return _getEffectBundle2.apply(this,arguments)})})}}]),AvatarLoader}();function initializeDefaultAvatarDependencies(_x13){return _initializeDefaultAvatarDependencies.apply(this,arguments)}function _initializeDefaultAvatarDependencies(){return(_initializeDefaultAvatarDependencies=_asyncToGenerator(regeneratorRuntime.mark((function _callee14(resourcePath){var _yield$bluebird_1$def,animationData,figureMap,figureData,partSetsData,actionsData,geometry;return regeneratorRuntime.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.next=2,bluebird_1.default.props({animationData:AvatarAnimationData_1.AvatarAnimationData.default(),figureData:FigureData_1.FigureData.fromUrl("".concat(resourcePath,"/figuredata.xml")),figureMap:FigureMapData_1.FigureMapData.fromUrl("".concat(resourcePath,"/figuremap.xml")),partSetsData:AvatarPartSetsData_1.AvatarPartSetsData.default(),actionsData:AvatarActionsData_1.AvatarActionsData.default(),geometry:AvatarGeometryData_1.AvatarGeometryData.default()});case 2:return _yield$bluebird_1$def=_context14.sent,animationData=_yield$bluebird_1$def.animationData,figureMap=_yield$bluebird_1$def.figureMap,figureData=_yield$bluebird_1$def.figureData,partSetsData=_yield$bluebird_1$def.partSetsData,actionsData=_yield$bluebird_1$def.actionsData,geometry=_yield$bluebird_1$def.geometry,_context14.abrupt("return",{animationData:animationData,figureData:figureData,figureMap:figureMap,partSetsData:partSetsData,actionsData:actionsData,geometry:geometry});case 10:case"end":return _context14.stop()}}),_callee14)})))).apply(this,arguments)}exports.AvatarLoader=AvatarLoader},551:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEffectSprite=void 0;var getFlippedMetaData_1=__webpack_require__(552),AvatarEffectPart_1=__webpack_require__(553);exports.getEffectSprite=function getEffectSprite(member,direction,frame,offsetsData,hasDirection,handleFlipped){var id=AvatarEffectPart_1.getSpriteId(member,direction,frame),offsets=offsetsData.getOffsets(id),flip=!1;if(handleFlipped&&null==offsets){var flippedMeta=getFlippedMetaData_1.getBasicFlippedMetaData(direction);id=AvatarEffectPart_1.getSpriteId(member,flippedMeta.direction,frame),offsets=offsetsData.getOffsets(id),flip=flippedMeta.flip}return hasDirection||(id=AvatarEffectPart_1.getSpriteId(member,0,frame),null==offsets&&(offsets=offsetsData.getOffsets(id))),{id:id,offsets:offsets,flip:flip}}},552:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPartFlippedMetaData=exports.getBasicFlippedMetaData=exports.getFlippedMetaData=exports.DIRECTION_IS_FLIPPED=void 0;var AvatarFigurePartType_1=__webpack_require__(242);function getBasicFlippedMetaData(direction){var overrideDirection=direction,flipped=!1;return 4===direction&&(overrideDirection=2,flipped=!0),5===direction&&(overrideDirection=1,flipped=!0),6===direction&&(overrideDirection=0,flipped=!0),{direction:overrideDirection,flip:flipped}}exports.DIRECTION_IS_FLIPPED=[!1,!1,!1,!1,!0,!0,!0,!1],exports.getFlippedMetaData=function getFlippedMetaData(_ref){var assetPartDefinition=_ref.assetPartDefinition,direction=_ref.direction,partType=_ref.partType,flippedPartType=_ref.flippedPartType;if(!exports.DIRECTION_IS_FLIPPED[direction])return{direction:direction,flip:!1,partType:partType,swapped:!1};if("wav"===assetPartDefinition&&(partType==AvatarFigurePartType_1.AvatarFigurePartType.LeftHand||partType==AvatarFigurePartType_1.AvatarFigurePartType.LeftSleeve||partType==AvatarFigurePartType_1.AvatarFigurePartType.LeftCoatSleeve))return{direction:direction,flip:!0,partType:partType,swapped:!1};if("drk"==assetPartDefinition&&(partType==AvatarFigurePartType_1.AvatarFigurePartType.RightHand||partType==AvatarFigurePartType_1.AvatarFigurePartType.RightSleeve||partType==AvatarFigurePartType_1.AvatarFigurePartType.RightCoatSleeve))return{direction:direction,flip:!0,partType:partType,swapped:!1};if("blw"==assetPartDefinition&&partType==AvatarFigurePartType_1.AvatarFigurePartType.RightHand)return{direction:direction,flip:!0,partType:partType,swapped:!1};if("sig"==assetPartDefinition&&partType==AvatarFigurePartType_1.AvatarFigurePartType.LeftHand)return{direction:direction,flip:!0,partType:partType,swapped:!1};if("respect"==assetPartDefinition&&partType==AvatarFigurePartType_1.AvatarFigurePartType.LeftHand)return{direction:direction,flip:!0,partType:partType,swapped:!1};if(partType==AvatarFigurePartType_1.AvatarFigurePartType.RightHandItem)return{direction:direction,flip:!0,partType:partType,swapped:!1};if(partType==AvatarFigurePartType_1.AvatarFigurePartType.LeftHandItem)return{direction:direction,flip:!0,partType:partType,swapped:!1};if(partType==AvatarFigurePartType_1.AvatarFigurePartType.ChestPrint)return{direction:direction,flip:!0,partType:partType,swapped:!1};var overrideDirection=getBasicFlippedMetaData(direction);return flippedPartType!=partType?{direction:overrideDirection.direction,flip:!1,partType:null!=flippedPartType?flippedPartType:partType,swapped:!0}:{direction:overrideDirection.direction,flip:!1,partType:partType}},exports.getBasicFlippedMetaData=getBasicFlippedMetaData,exports.getPartFlippedMetaData=function getPartFlippedMetaData(direction,_ref2){var partType=_ref2.partType,flippedPartType=_ref2.flippedPartType,overrideDirection=getBasicFlippedMetaData(direction);return flippedPartType!=partType?{direction:overrideDirection.direction,flip:!1,partType:null!=flippedPartType?flippedPartType:partType,swapped:!0}:{direction:overrideDirection.direction,flip:!1,partType:partType}}},553:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(138),__webpack_require__(139),__webpack_require__(13),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSpriteId=exports.AvatarEffectPart=void 0;var AvatarAction_1=__webpack_require__(205),getAssetFromPartMeta_1=__webpack_require__(357),getAvatarDirection_1=__webpack_require__(249),getEffectSprite_1=__webpack_require__(551),AvatarEffectPart=function(){function AvatarEffectPart(_sprite,_actionsData,_offsetsData,_effectData){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarEffectPart),this._sprite=_sprite,this._actionsData=_actionsData,this._offsetsData=_offsetsData,this._effectData=_effectData,this._directionOffset=0,this._offsets=new Map,this._customFrames=[]}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarEffectPart,[{key:"setDirection",value:function setDirection(direction){this._direction=direction}},{key:"setDirectionOffset",value:function setDirectionOffset(offset){this._directionOffset=offset}},{key:"getDirection",value:function getDirection(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(null!=this._direction)return this._sprite.directions?getAvatarDirection_1.getAvatarDirection(this._direction+this._directionOffset+offset):0}},{key:"setEffectFrame",value:function setEffectFrame(effect,frame){var part=effect.getFrameEffectPart(this._sprite.id,frame);if(null!=part){var actionData=null!=part.action?this._actionsData.getAction(part.action):void 0;null==actionData&&(actionData=this._actionsData.getAction(AvatarAction_1.AvatarAction.Default)),this._customFrames.push({action:actionData,frame:part.frame,dd:part.dd,dx:part.dx,dy:part.dy})}}},{key:"setAvatarOffsets",value:function setAvatarOffsets(avatarFrame,frame){this._offsets.set(frame,avatarFrame)}},{key:"setEffectFrameDefaultIfNotSet",value:function setEffectFrameDefaultIfNotSet(){if(!(this._customFrames.length>0)){var action=this._actionsData.getAction(AvatarAction_1.AvatarAction.Default);this._customFrames.push({action:action})}}},{key:"getDrawDefinition",value:function getDrawDefinition(){var _a,_this=this,assets=[],directionData=null!=this._direction?this._effectData.getSpriteDirection(this._sprite.id,this._direction):void 0;if(this._customFrames.forEach((function(customFrame){var _a;if(null==customFrame.action)throw new Error("Invalid action");var direction=_this.getDirection(customFrame.dd);if(null!=direction){var asset=_this._getAvatarAsset(direction,null!==(_a=customFrame.frame)&&void 0!==_a?_a:0,customFrame,directionData);null!=asset&&assets.push(asset)}})),0!==assets.length)return{assets:assets.flatMap((function(asset){return[asset,asset]})),addition:!1,kind:"EFFECT_DRAW_PART",z:null!==(_a=null==directionData?void 0:directionData.dz)&&void 0!==_a?_a:0,ink:this._sprite.ink}}},{key:"_getAvatarAsset",value:function _getAvatarAsset(direction,frame,customFrame,directionData){var _a,_b,_c,_d;if(null!=this._sprite.member){var _getEffectSprite_1$ge=getEffectSprite_1.getEffectSprite(this._sprite.member,direction,frame,this._offsetsData,this._sprite.directions,!1),id=_getEffectSprite_1$ge.id,offsets=_getEffectSprite_1$ge.offsets,flip=_getEffectSprite_1$ge.flip;if(null==offsets)return;var _getAssetFromPartMeta=getAssetFromPartMeta_1.applyOffsets({offsets:offsets,customOffsets:{offsetX:null!==(_a=customFrame.dx)&&void 0!==_a?_a:0-(null!==(_b=null==directionData?void 0:directionData.dx)&&void 0!==_b?_b:0),offsetY:null!==(_c=customFrame.dy)&&void 0!==_c?_c:0+(null!==(_d=null==directionData?void 0:directionData.dy)&&void 0!==_d?_d:0)},lay:!1,flipped:flip});return{fileId:id,library:"",mirror:flip,x:_getAssetFromPartMeta.x,y:_getAssetFromPartMeta.y}}}}]),AvatarEffectPart}();exports.AvatarEffectPart=AvatarEffectPart;exports.getSpriteId=function getSpriteId(member,direction,frame){return"h_".concat(member,"_").concat(direction,"_").concat(frame)}},555:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(20),__webpack_require__(70),__webpack_require__(28),__webpack_require__(57),Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseLookString=void 0,exports.parseLookString=function parseLookString(look){return new Map(look.split(".").map((function(str){var partData=str.split("-");return[partData[0],{setId:Number(partData[1]),colorId:Number(partData[2])}]})))}},556:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),__webpack_require__(57),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNumberFromAttribute=void 0,exports.getNumberFromAttribute=function getNumberFromAttribute(value){if(null!=value){var numberValue=Number(value);if(!isNaN(numberValue))return numberValue}}},557:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(31),__webpack_require__(13),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LegacyAssetBundle=void 0;var LegacyAssetBundle=function(){function LegacyAssetBundle(_folderUrl){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LegacyAssetBundle),this._folderUrl=_folderUrl,this._blobs=new Map,this._strings=new Map}var _getString,_getBlob;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LegacyAssetBundle,[{key:"getBlob",value:(_getBlob=_asyncToGenerator(regeneratorRuntime.mark((function _callee(name){var current,imageUrl,blob;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null==(current=this._blobs.get(name))){_context.next=3;break}return _context.abrupt("return",current);case 3:return imageUrl="".concat(this._folderUrl,"/").concat(name),blob=fetch(imageUrl).then((function(response){return response.blob()})),this._blobs.set(name,blob),_context.abrupt("return",blob);case 7:case"end":return _context.stop()}}),_callee,this)}))),function getBlob(_x){return _getBlob.apply(this,arguments)})},{key:"getString",value:(_getString=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(name){var current,imageUrl,string;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null==(current=this._strings.get(name))){_context2.next=3;break}return _context2.abrupt("return",current);case 3:return imageUrl="".concat(this._folderUrl,"/").concat(name),string=fetch(imageUrl).then((function(response){return response.text()})),this._strings.set(name,string),_context2.abrupt("return",string);case 7:case"end":return _context2.stop()}}),_callee2,this)}))),function getString(_x2){return _getString.apply(this,arguments)})}]),LegacyAssetBundle}();exports.LegacyAssetBundle=LegacyAssetBundle},558:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(36),__webpack_require__(31),__webpack_require__(13);var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShroomAssetBundle=void 0;var bytebuffer_1=__importDefault(__webpack_require__(1064)),ShroomAssetBundle=function(){function ShroomAssetBundle(){var _this=this,files=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,ShroomAssetBundle),this._files=new Map,this._blobs=new Map,this._strings=new Map,files.forEach((function(file){return _this._files.set(file.fileName,file.buffer)}))}var _fromUrl,_getString,_getBlob;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ShroomAssetBundle,[{key:"files",get:function get(){return Array.from(this._files.entries())}},{key:"addFile",value:function addFile(fileName,buffer){this._files.set(fileName,buffer)}},{key:"toBuffer",value:function toBuffer(){var byteBuffer=new bytebuffer_1.default;return byteBuffer.writeByte(ShroomAssetBundle.VERSION),byteBuffer.writeUint16(this._files.size),this._files.forEach((function(buffer,key){byteBuffer.writeUint16(key.length),byteBuffer.writeString(key),byteBuffer.writeUint32(buffer.byteLength),byteBuffer.append(buffer)})),byteBuffer.flip().toBuffer()}},{key:"getBlob",value:(_getBlob=_asyncToGenerator(regeneratorRuntime.mark((function _callee(name){var current,buffer,blob;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null==(current=this._blobs.get(name))){_context.next=3;break}return _context.abrupt("return",current);case 3:if(null!=(buffer=this._files.get(name))){_context.next=6;break}throw new Error("Couldn't find ".concat(name,"."));case 6:return blob=new Blob([buffer]),this._blobs.set(name,blob),_context.abrupt("return",blob);case 9:case"end":return _context.stop()}}),_callee,this)}))),function getBlob(_x){return _getBlob.apply(this,arguments)})},{key:"getString",value:(_getString=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(name){var current,buffer,encoder,string;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null==(current=this._strings.get(name))){_context2.next=3;break}return _context2.abrupt("return",current);case 3:if(null!=(buffer=this._files.get(name))){_context2.next=6;break}throw new Error("Couldn't find ".concat(name,"."));case 6:return encoder=new TextDecoder,string=encoder.decode(buffer),this._strings.set(name,string),_context2.abrupt("return",string);case 10:case"end":return _context2.stop()}}),_callee2,this)}))),function getString(_x2){return _getString.apply(this,arguments)})}],[{key:"fromUrl",value:(_fromUrl=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(url){var response,buffer;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,fetch(url);case 2:if(!((response=_context3.sent).status>=400)){_context3.next=5;break}throw new Error("Failed to load: ".concat(url," - ").concat(response.status));case 5:return _context3.next=7,response.arrayBuffer();case 7:return buffer=_context3.sent,_context3.abrupt("return",ShroomAssetBundle.fromBuffer(buffer));case 9:case"end":return _context3.stop()}}),_callee3)}))),function fromUrl(_x3){return _fromUrl.apply(this,arguments)})},{key:"fromBuffer",value:function fromBuffer(buffer){for(var byteBuffer=bytebuffer_1.default.wrap(buffer),readFile=function readFile(){var fileNameLength=byteBuffer.readUint16(),fileName=byteBuffer.readString(fileNameLength),fileLength=byteBuffer.readUint32();return{fileName:fileName,buffer:byteBuffer.readBytes(fileLength).toArrayBuffer()}},fileCount=(byteBuffer.readByte(),byteBuffer.readUint16()),files=[],i=0;i<fileCount;i++){var file=readFile();files.push(file)}return new ShroomAssetBundle(files)}}]),ShroomAssetBundle}();exports.ShroomAssetBundle=ShroomAssetBundle,ShroomAssetBundle.VERSION=1},559:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _loadImageFromBlob(){return(_loadImageFromBlob=_asyncToGenerator(regeneratorRuntime.mark((function _callee(blob){var reader,url;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return reader=new FileReader,_context.next=3,new Promise((function(resolve){reader.readAsDataURL(blob),reader.onloadend=function(){resolve(reader.result)}}));case 3:return url=_context.sent,_context.abrupt("return",url);case 5:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}__webpack_require__(3),__webpack_require__(31),__webpack_require__(5),Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadImageFromBlob=void 0,exports.loadImageFromBlob=function loadImageFromBlob(_x){return _loadImageFromBlob.apply(this,arguments)}},560:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(70),__webpack_require__(28),__webpack_require__(57),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(33),__webpack_require__(25),__webpack_require__(12),__webpack_require__(36),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(62),Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvatarManifestData=void 0;var AvatarManifestData=function(_AvatarData_1$AvatarD){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AvatarManifestData,_AvatarData_1$AvatarD);var _super=_createSuper(AvatarManifestData);function AvatarManifestData(xml){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AvatarManifestData),(_this=_super.call(this,xml))._assets=[],_this._assetbyName=new Map,_this._aliases=[],_this._cacheData(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(AvatarManifestData,[{key:"getAliases",value:function getAliases(){return this._aliases}},{key:"getAssets",value:function getAssets(){return this._assets}},{key:"getAssetByName",value:function getAssetByName(name){return this._assetbyName.get(name)}},{key:"_cacheData",value:function _cacheData(){var _step,assets=this.querySelectorAll("assets asset"),aliases=this.querySelectorAll("aliases alias"),_iterator=_createForOfIteratorHelper(assets);try{for(_iterator.s();!(_step=_iterator.n()).done;){var asset=_step.value,offsetParam=asset.querySelector('param[key="offset"]'),value=null==offsetParam?void 0:offsetParam.getAttribute("value"),name=asset.getAttribute("name");if(null!=value&&null!=name){var offsets=value.split(","),_asset={name:name,x:Number(offsets[0]),y:Number(offsets[1]),flipH:!1,flipV:!1};this._assets.push(_asset),this._assetbyName.set(name,_asset)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _step2,_iterator2=_createForOfIteratorHelper(aliases);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var alias=_step2.value,_name=alias.getAttribute("name"),link=alias.getAttribute("link"),fliph="1"===alias.getAttribute("fliph"),flipv="1"===alias.getAttribute("flipv");if(null!=_name&&null!=link){var _alias={name:_name,link:link,fliph:fliph,flipv:flipv};this._aliases.push(_alias)}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}]),AvatarManifestData}(__webpack_require__(250).AvatarData);exports.AvatarManifestData=AvatarManifestData},561:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(31),__webpack_require__(153),__webpack_require__(70),__webpack_require__(28),__webpack_require__(13),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureLoader=void 0;var LegacyAssetBundle_1=__webpack_require__(557),ShroomAssetBundle_1=__webpack_require__(558),JsonFurnitureAssetBundle_1=__webpack_require__(1075),loadFurni_1=__webpack_require__(1079),XmlFurnitureAssetBundle_1=__webpack_require__(1087),FurnitureLoader=function(){function FurnitureLoader(_options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FurnitureLoader),this._options=_options,this._furnitureCache=new Map,this._assetBundles=new Map}var _loadFurni;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FurnitureLoader,[{key:"delay",get:function get(){return this._artificalDelay},set:function set(value){this._artificalDelay=value}},{key:"loadFurni",value:(_loadFurni=_asyncToGenerator(regeneratorRuntime.mark((function _callee(fetch){var typeWithColor,_type,typeSplitted,type,revision,furniture,_this=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null==this.delay){_context.next=3;break}return _context.next=3,new Promise((function(resolve){return setTimeout(resolve,_this.delay)}));case 3:if("id"!==fetch.kind){_context.next=12;break}return _context.next=6,this._options.furnitureData.getTypeById(fetch.id,fetch.placementType);case 6:if(null!=(_type=_context.sent)){_context.next=9;break}throw new Error("Couldn't determine type for furniture.");case 9:typeWithColor=_type,_context.next=13;break;case 12:typeWithColor=fetch.type;case 13:return typeSplitted=typeWithColor.split("*"),type=typeSplitted[0],_context.next=17,this._options.furnitureData.getRevisionForType(typeWithColor);case 17:if(revision=_context.sent,null==(furniture=this._furnitureCache.get(typeWithColor))){_context.next=21;break}return _context.abrupt("return",furniture);case 21:return _context.t0=loadFurni_1,_context.t1=typeWithColor,_context.next=25,this._getAssetBundle(type,revision);case 25:return _context.t2=_context.sent,furniture=_context.t0.loadFurni.call(_context.t0,_context.t1,_context.t2),this._furnitureCache.set(type,furniture),_context.abrupt("return",furniture);case 29:case"end":return _context.stop()}}),_callee,this)}))),function loadFurni(_x){return _loadFurni.apply(this,arguments)})},{key:"_getAssetBundle",value:function _getAssetBundle(type,revision){var key="".concat(type,"_").concat(revision),current=this._assetBundles.get(key);if(null!=current)return current;var bundle=this._options.getAssetBundle(type,revision);return this._assetBundles.set(key,bundle),bundle}}],[{key:"create",value:function create(furnitureData){var _getAssetBundle2,resourcePath=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new FurnitureLoader({furnitureData:furnitureData,getAssetBundle:(_getAssetBundle2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(type,revision){var bundle;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return bundle=new LegacyAssetBundle_1.LegacyAssetBundle("".concat(resourcePath,"/hof_furni/").concat(normalizePath(revision,type))),_context2.abrupt("return",new XmlFurnitureAssetBundle_1.XmlFurnitureAssetBundle(type,bundle));case 2:case"end":return _context2.stop()}}),_callee2)}))),function getAssetBundle(_x2,_x3){return _getAssetBundle2.apply(this,arguments)})})}},{key:"createForJson",value:function createForJson(furnitureData){var _getAssetBundle3,resourcePath=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new FurnitureLoader({furnitureData:furnitureData,getAssetBundle:(_getAssetBundle3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(type,revision){var bundle;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,ShroomAssetBundle_1.ShroomAssetBundle.fromUrl("".concat(resourcePath,"/hof_furni/").concat(normalizePath(revision,type),".shroom"));case 2:return bundle=_context3.sent,_context3.abrupt("return",new JsonFurnitureAssetBundle_1.JsonFurnitureAssetBundle(bundle));case 4:case"end":return _context3.stop()}}),_callee3)}))),function getAssetBundle(_x4,_x5){return _getAssetBundle3.apply(this,arguments)})})}}]),FurnitureLoader}();exports.FurnitureLoader=FurnitureLoader;var normalizePath=function normalizePath(revision,type){return null==revision?type:"".concat(revision,"/").concat(type)}},562:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(36),__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.XmlData=void 0;var XmlData=function(){function XmlData(xml){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,XmlData),this.document=(new DOMParser).parseFromString(xml,"text/xml")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(XmlData,[{key:"querySelectorAll",value:function querySelectorAll(query){return Array.from(this.document.querySelectorAll(query))}},{key:"querySelector",value:function querySelector(query){return this.document.querySelector(query)}}]),XmlData}();exports.XmlData=XmlData},616:function(module,exports,__webpack_require__){__webpack_require__(617),__webpack_require__(780),__webpack_require__(781),__webpack_require__(1109),__webpack_require__(1111),__webpack_require__(1112),__webpack_require__(1113),__webpack_require__(1114),__webpack_require__(1110),__webpack_require__(1115),__webpack_require__(1116),module.exports=__webpack_require__(964)},690:function(module,exports){},781:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(416)},964:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(416).configure)([__webpack_require__(965),__webpack_require__(966)],module,!1)}).call(this,__webpack_require__(216)(module))},965:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=965},966:function(module,exports,__webpack_require__){var map={"./Documentation.stories.ts":967,"./Issues.stories.ts":1098,"./Room.stories.ts":1099,"./RoomModel.stories.ts":1100,"./avatar/Avatar.stories.ts":1101,"./avatar/AvatarActions.stories.ts":1102,"./avatar/AvatarEffect.stories.ts":1103,"./furniture/Furniture.stories.ts":1104,"./furniture/FurnitureExamples.stories.ts":1106,"./furniture/FurnitureIssues.stories.ts":1107,"./furniture/FurnitureVisualizations.stories.ts":1108};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=966},967:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ImplementingFurnitureLogic",(function(){return ImplementingFurnitureLogic})),__webpack_require__.d(__webpack_exports__,"AvatarActions",(function(){return AvatarActions})),__webpack_require__.d(__webpack_exports__,"BaseAvatarAndFurniture",(function(){return BaseAvatarAndFurniture}));__webpack_require__(5),__webpack_require__(71),__webpack_require__(35),__webpack_require__(11),__webpack_require__(153),__webpack_require__(55),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9);var _tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1),_common_createShroom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10);__webpack_exports__.default={title:"Documentation"};var ImplementingFurnitureLogic=function ImplementingFurnitureLogic(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_10__.a)((function(_ref){var application=_ref.application,shroom=_ref.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.Room.create(shroom,{tilemap:"\n        xxxx\n        x000\n        x000\n        x000\n        "}),furniture=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.FloorFurniture({roomX:1,roomY:1,roomZ:0,direction:0,animation:"0",type:"edicehc"}),handleDice=function handleDice(furniture){var timeout,state={rolling:!1,value:1,active:!1},updateState=function updateState(newState){(state=newState).rolling?furniture.animation="-1":state.active?furniture.animation=state.value.toString():furniture.animation="0",console.log("ANIM",furniture.animation)},roll=function roll(){updateState(Object.assign({},state,{rolling:!0,active:!0})),clearTimeout(timeout),timeout=window.setTimeout((function(){updateState(Object.assign({},state,{rolling:!1,value:Math.floor(6*Math.random())+1}))}),1e3)};furniture.onDoubleClick=function(event){switch(console.log("EVENT TAG",event.tag),event.tag){case"activate":roll();break;case"deactivate":!function deactivate(){updateState(Object.assign({},state,{rolling:!1,active:!state.active})),state.active&&roll()}()}}};furniture.extradata.then((function(_ref2){switch(_ref2.logic){case"furniture_dice":handleDice(furniture)}})),furniture.onPointerOver=function(){console.log("OVER")},furniture.onPointerOut=function(){console.log("OUT")},room.addRoomObject(furniture),application.stage.addChild(room)}))},AvatarActions=function AvatarActions(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_10__.a)((function(_ref3){var application=_ref3.application,shroom=_ref3.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.Room.create(shroom,{tilemap:"\n          xxxx\n          x000\n          x000\n          x000\n          "}),avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.Avatar({roomX:1,roomY:1,roomZ:0,direction:2,look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62"});avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.AvatarAction.GestureSmile),avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.AvatarAction.Respect),avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.AvatarAction.Sit),avatar.addAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.AvatarAction.CarryItem),avatar.item=1,setTimeout((function(){avatar.removeAction(_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.AvatarAction.Sit)}),5e3),room.addRoomObject(avatar),application.stage.addChild(room)}))},BaseAvatarAndFurniture=function BaseAvatarAndFurniture(){return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_10__.a)((function(_ref4){var application=_ref4.application,shroom=_ref4.shroom,avatar=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.BaseAvatar.fromShroom(shroom,{look:{actions:new Set,direction:2,look:"hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62"},position:{x:0,y:100},zIndex:0,onLoad:function onLoad(){console.log("Loaded")}}),furniture=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_9__.BaseFurniture.fromShroom(shroom,application.stage,{direction:2,type:{kind:"type",type:"club_sofa"},animation:"0"});furniture.x=100,furniture.y=50,application.stage.addChild(avatar)}))};ImplementingFurnitureLogic.parameters=Object.assign({storySource:{source:'function ImplementingFurnitureLogic() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n        xxxx\r\n        x000\r\n        x000\r\n        x000\r\n        `,\r\n    });\r\n\r\n    const furniture = new FloorFurniture({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      direction: 0,\r\n      animation: "0",\r\n      type: "edicehc",\r\n    });\r\n\r\n    const handleDice = (furniture: IFurniture) => {\r\n      interface State {\r\n        rolling: boolean;\r\n        value: number;\r\n        active: boolean;\r\n      }\r\n\r\n      let state: State = { rolling: false, value: 1, active: false };\r\n      let timeout: number;\r\n\r\n      const updateState = (newState: State) => {\r\n        state = newState;\r\n\r\n        if (state.rolling) {\r\n          furniture.animation = "-1";\r\n        } else if (state.active) {\r\n          furniture.animation = state.value.toString();\r\n        } else {\r\n          furniture.animation = "0";\r\n        }\r\n\r\n        console.log("ANIM", furniture.animation);\r\n      };\r\n\r\n      const roll = () => {\r\n        updateState({ ...state, rolling: true, active: true });\r\n\r\n        clearTimeout(timeout);\r\n        timeout = window.setTimeout(() => {\r\n          updateState({\r\n            ...state,\r\n            rolling: false,\r\n            value: Math.floor(Math.random() * 6) + 1,\r\n          });\r\n        }, 1000);\r\n      };\r\n\r\n      const deactivate = () => {\r\n        updateState({ ...state, rolling: false, active: !state.active });\r\n        if (state.active) {\r\n          roll();\r\n        }\r\n      };\r\n\r\n      furniture.onDoubleClick = (event) => {\r\n        console.log("EVENT TAG", event.tag);\r\n\r\n        switch (event.tag) {\r\n          case "activate":\r\n            roll();\r\n            break;\r\n\r\n          case "deactivate":\r\n            deactivate();\r\n            break;\r\n        }\r\n      };\r\n    };\r\n\r\n    furniture.extradata.then(({ logic }) => {\r\n      switch (logic) {\r\n        // Here you should handle every possible logic a furniture can have.\r\n        // We only handle the dice logic here.\r\n        case "furniture_dice":\r\n          handleDice(furniture);\r\n          break;\r\n      }\r\n    });\r\n\r\n    furniture.onPointerOver = () => {\r\n      console.log("OVER");\r\n    };\r\n\r\n    furniture.onPointerOut = () => {\r\n      console.log("OUT");\r\n    };\r\n\r\n    room.addRoomObject(furniture);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},ImplementingFurnitureLogic.parameters),AvatarActions.parameters=Object.assign({storySource:{source:'function AvatarActions() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const room = Room.create(shroom, {\r\n      tilemap: `\r\n          xxxx\r\n          x000\r\n          x000\r\n          x000\r\n          `,\r\n    });\r\n\r\n    const avatar = new Avatar({\r\n      roomX: 1,\r\n      roomY: 1,\r\n      roomZ: 0,\r\n      direction: 2,\r\n      look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n    });\r\n\r\n    avatar.addAction(AvatarAction.GestureSmile);\r\n    avatar.addAction(AvatarAction.Respect);\r\n    avatar.addAction(AvatarAction.Sit);\r\n    avatar.addAction(AvatarAction.CarryItem);\r\n    avatar.item = 1;\r\n\r\n    setTimeout(() => {\r\n      avatar.removeAction(AvatarAction.Sit);\r\n    }, 5000);\r\n\r\n    room.addRoomObject(avatar);\r\n\r\n    application.stage.addChild(room);\r\n  });\r\n}'}},AvatarActions.parameters),BaseAvatarAndFurniture.parameters=Object.assign({storySource:{source:'function BaseAvatarAndFurniture() {\r\n  return createShroom(({ application, shroom }) => {\r\n    const avatar = BaseAvatar.fromShroom(shroom, {\r\n      look: {\r\n        actions: new Set(),\r\n        direction: 2,\r\n        look: "hd-180-1.hr-100-61.ch-210-66.lg-280-110.sh-305-62",\r\n      },\r\n      position: { x: 0, y: 100 },\r\n      zIndex: 0,\r\n      onLoad: () => {\r\n        // This is called when the avatar has been loaded completly.\r\n        console.log("Loaded");\r\n      },\r\n    });\r\n\r\n    const furniture = BaseFurniture.fromShroom(shroom, application.stage, {\r\n      direction: 2,\r\n      type: { kind: "type", type: "club_sofa" },\r\n      animation: "0",\r\n    });\r\n\r\n    furniture.x = 100;\r\n    furniture.y = 50;\r\n\r\n    application.stage.addChild(avatar);\r\n  });\r\n}'}},BaseAvatarAndFurniture.parameters)},968:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),Object.defineProperty(exports,"__esModule",{value:!0}),exports.Avatar=void 0;var RoomObject_1=__webpack_require__(203),getZOrder_1=__webpack_require__(241),BaseAvatar_1=__webpack_require__(493),ObjectAnimation_1=__webpack_require__(499),AvatarAction_1=__webpack_require__(205),Avatar=function(_RoomObject_1$RoomObj){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Avatar,_RoomObject_1$RoomObj);var _super=_createSuper(Avatar);function Avatar(_ref){var _this,look=_ref.look,roomX=_ref.roomX,roomY=_ref.roomY,roomZ=_ref.roomZ,direction=_ref.direction,headDirection=_ref.headDirection;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Avatar),(_this=_super.call(this))._walking=!1,_this._moving=!1,_this._frame=0,_this._waving=!1,_this._direction=0,_this._roomX=0,_this._roomY=0,_this._roomZ=0,_this._animatedPosition={roomX:0,roomY:0,roomZ:0},_this._actions=new Set,_this._loaded=!1,_this._onClick=void 0,_this._onDoubleClick=void 0,_this._onPointerDown=void 0,_this._onPointerUp=void 0,_this._onPointerOver=void 0,_this._onPointerOut=void 0,_this._onStopWalkingCallback=void 0,_this._direction=direction,_this._look=look,_this._roomX=roomX,_this._roomY=roomY,_this._roomZ=roomZ,_this._headDirection=headDirection,_this._placeholderSprites=new BaseAvatar_1.BaseAvatar({look:_this._getPlaceholderLookOptions(),zIndex:_this._calculateZIndex(),position:{x:0,y:0},onLoad:function onLoad(){_this._updateAvatarSprites()}}),_this._placeholderSprites.alpha=.5,_this._avatarSprites=_this._placeholderSprites,_this._loadingAvatarSprites=new BaseAvatar_1.BaseAvatar({look:_this._getLookOptions(),position:{x:0,y:0},zIndex:_this._calculateZIndex(),onLoad:function onLoad(){_this._loaded=!0,_this._updateAvatarSprites()}}),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Avatar,[{key:"look",get:function get(){return this._look}},{key:"onClick",get:function get(){return this._onClick},set:function set(value){this._onClick=value,this._updateEventHandlers()}},{key:"onDoubleClick",get:function get(){return this._onDoubleClick},set:function set(value){this._onDoubleClick=value,this._updateEventHandlers()}},{key:"onPointerDown",get:function get(){return this._onPointerDown},set:function set(value){this._onPointerDown=value,this._updateEventHandlers()}},{key:"onPointerUp",get:function get(){return this._onPointerUp},set:function set(value){this._onPointerUp=value,this._updateEventHandlers()}},{key:"onPointerOver",get:function get(){return this._onPointerOver},set:function set(value){this._onPointerOver=value,this._updateEventHandlers()}},{key:"onPointerOut",get:function get(){return this._onPointerOut},set:function set(value){this._onPointerOut=value,this._updateEventHandlers()}},{key:"roomX",get:function get(){return this._roomX},set:function set(value){this._roomX=value,this._updatePosition()}},{key:"roomY",get:function get(){return this._roomY},set:function set(value){this._roomY=value,this._updatePosition()}},{key:"roomZ",get:function get(){return this._roomZ},set:function set(value){this._roomZ=value,this._updatePosition()}},{key:"item",get:function get(){return this._item},set:function set(value){this._item=value,this._updateAvatarSprites()}},{key:"effect",get:function get(){return this._effect},set:function set(value){this._effect=value,this._updateAvatarSprites()}},{key:"direction",get:function get(){return this._direction},set:function set(value){this._direction=value,this._updateAvatarSprites()}},{key:"headDirection",get:function get(){return this._headDirection},set:function set(value){this._headDirection=value,this._updateAvatarSprites()}},{key:"waving",get:function get(){return this._waving},set:function set(value){this._waving=value,this._updateAvatarSprites()}},{key:"actions",get:function get(){return this._actions},set:function set(value){this._actions=value,this._updateAvatarSprites()}},{key:"screenPosition",get:function get(){var worldTransform=this._avatarSprites.getGlobalPosition();if(null!=worldTransform)return{x:worldTransform.x,y:worldTransform.y}}},{key:"clearMovement",value:function clearMovement(){var _a,current=null===(_a=this._moveAnimation)||void 0===_a?void 0:_a.clear();null!=current&&(this.roomX=current.roomX,this.roomY=current.roomY,this.roomZ=current.roomZ)}},{key:"walk",value:function walk(roomX,roomY,roomZ,options){var _a;null===(_a=this._moveAnimation)||void 0===_a||_a.move({roomX:this.roomX,roomY:this.roomY,roomZ:this.roomZ},{roomX:roomX,roomY:roomY,roomZ:roomZ},{direction:null==options?void 0:options.direction,headDirection:null==options?void 0:options.headDirection,type:"walk"}),this._roomX=roomX,this._roomY=roomY,this._roomZ=roomZ}},{key:"move",value:function move(roomX,roomY,roomZ){var _a;null===(_a=this._moveAnimation)||void 0===_a||_a.move({roomX:this.roomX,roomY:this.roomY,roomZ:this.roomZ},{roomX:roomX,roomY:roomY,roomZ:roomZ},{type:"move"}),this._roomX=roomX,this._roomY=roomY,this._roomZ=roomZ}},{key:"getScreenPosition",value:function getScreenPosition(){return{x:this._avatarSprites.x,y:this._avatarSprites.y}}},{key:"registered",value:function registered(){var _this2=this;null!=this._placeholderSprites&&(this._placeholderSprites.dependencies={animationTicker:this.animationTicker,avatarLoader:this.avatarLoader,eventManager:this.eventManager}),this._loadingAvatarSprites.dependencies={animationTicker:this.animationTicker,avatarLoader:this.avatarLoader,eventManager:this.eventManager},this._updateAvatarSprites(),this._moveAnimation=new ObjectAnimation_1.ObjectAnimation(this.animationTicker,{onUpdatePosition:function onUpdatePosition(position){_this2._animatedPosition=position,_this2._updatePosition()},onStart:function onStart(data){"walk"===data.type?(_this2._startWalking(data.direction,data.headDirection),_this2._moving=!1):"move"===data.type&&(_this2._stopWalking(),_this2._moving=!0)},onStop:function onStop(){_this2._stopWalking(),_this2._moving=!1}},this.configuration.avatarMovementDuration)}},{key:"addAction",value:function addAction(action){this.actions=new Set(this._actions).add(action)}},{key:"removeAction",value:function removeAction(action){var newSet=new Set(this._actions);newSet.delete(action),this.actions=newSet}},{key:"hasAction",value:function hasAction(action){return this.actions.has(action)}},{key:"destroyed",value:function destroyed(){var _a,_b;null===(_a=this._avatarSprites)||void 0===_a||_a.destroy(),null!=this._cancelAnimation&&this._cancelAnimation(),null===(_b=this._moveAnimation)||void 0===_b||_b.destroy()}},{key:"_updateEventHandlers",value:function _updateEventHandlers(){null!=this._placeholderSprites&&(this._placeholderSprites.onClick=this._onClick,this._placeholderSprites.onDoubleClick=this._onDoubleClick,this._placeholderSprites.onPointerDown=this._onPointerDown,this._placeholderSprites.onPointerUp=this._onPointerUp,this._placeholderSprites.onPointerOut=this._onPointerOut,this._placeholderSprites.onPointerOver=this._onPointerOver),this._loadingAvatarSprites.onClick=this._onClick,this._loadingAvatarSprites.onDoubleClick=this._onDoubleClick,this._loadingAvatarSprites.onPointerDown=this._onPointerDown,this._loadingAvatarSprites.onPointerUp=this._onPointerUp,this._loadingAvatarSprites.onPointerOut=this._onPointerOut,this._loadingAvatarSprites.onPointerOver=this._onPointerOver}},{key:"_getPlaceholderLookOptions",value:function _getPlaceholderLookOptions(){return{actions:new Set,direction:this.direction,headDirection:this.direction,look:"hd-99999-99999",effect:void 0,initial:!1,item:void 0}}},{key:"_getCurrentLookOptions",value:function _getCurrentLookOptions(){return this._loaded?this._getLookOptions():this._getPlaceholderLookOptions()}},{key:"_getLookOptions",value:function _getLookOptions(){var combinedActions=new Set(this.actions);return this._walking&&combinedActions.add(AvatarAction_1.AvatarAction.Move),this.waving&&combinedActions.add(AvatarAction_1.AvatarAction.Wave),combinedActions.has(AvatarAction_1.AvatarAction.Lay)&&this._walking&&combinedActions.delete(AvatarAction_1.AvatarAction.Lay),{actions:combinedActions,direction:this.direction,headDirection:this.headDirection,look:this._look,item:this.item,effect:this.effect}}},{key:"_updateAvatarSprites",value:function _updateAvatarSprites(){if(this.mounted){this._loaded?(null!=this._placeholderSprites&&this._placeholderSprites.destroy(),this._placeholderSprites=void 0,this._avatarSprites=this._loadingAvatarSprites):null!=this._placeholderSprites&&(this._avatarSprites=this._placeholderSprites);var look=this._getCurrentLookOptions();this._startAnimation();var avatarSprites=this._avatarSprites;null!=avatarSprites&&(avatarSprites.lookOptions=look),this._updatePosition(),this._updateEventHandlers()}}},{key:"_updateFrame",value:function _updateFrame(){this._avatarSprites.currentFrame=this._frame}},{key:"_startAnimation",value:function _startAnimation(){var _this3=this;if(null==this._cancelAnimation){this._frame=0;var start=this.animationTicker.current();this._cancelAnimation=this.animationTicker.subscribe((function(value){_this3._frame=value-start,_this3._updateFrame()}))}}},{key:"_stopAnimation",value:function _stopAnimation(){this._frame=0,null!=this._cancelAnimation&&(this._cancelAnimation(),this._cancelAnimation=void 0)}},{key:"_startWalking",value:function _startWalking(direction,headDirection){this._walking=!0,null!=direction&&(this.direction=direction),null!=headDirection&&(this.headDirection=headDirection),this._updateAvatarSprites()}},{key:"_stopWalking",value:function _stopWalking(){this._walking=!1,this._updateAvatarSprites(),this._onStopWalkingCallback&&this._onStopWalkingCallback()}},{key:"onStopWalkingCallback",set:function set(value){this._onStopWalkingCallback=value}},{key:"_calculateZIndex",value:function _calculateZIndex(){return this._getZIndexAtPosition(this.roomX,this.roomY,this.roomZ)}},{key:"_getDisplayRoomPosition",value:function _getDisplayRoomPosition(){return this._walking||this._moving?this._animatedPosition:{roomX:this.roomX,roomY:this.roomY,roomZ:this.roomZ}}},{key:"_getZIndexAtPosition",value:function _getZIndexAtPosition(roomX,roomY,roomZ){var zOffset=1;return this._getCurrentLookOptions().actions.has(AvatarAction_1.AvatarAction.Lay)&&(zOffset+=2e3),getZOrder_1.getZOrder(roomX,roomY,roomZ)+zOffset}},{key:"_updatePosition",value:function _updatePosition(){if(this.mounted){var _this$_getDisplayRoom=this._getDisplayRoomPosition(),roomX=_this$_getDisplayRoom.roomX,roomY=_this$_getDisplayRoom.roomY,roomZ=_this$_getDisplayRoom.roomZ,_this$geometry$getPos=this.geometry.getPosition(roomX,roomY,roomZ),x=_this$geometry$getPos.x,y=_this$geometry$getPos.y,roomXrounded=Math.round(roomX),roomYrounded=Math.round(roomY);if(null!=this._avatarSprites){this._avatarSprites.x=Math.round(x),this._avatarSprites.y=Math.round(y);var zIndex=this._getZIndexAtPosition(roomXrounded,roomYrounded,this.roomZ);this._avatarSprites.zIndex=zIndex,this._avatarSprites.spritesZIndex=zIndex}var item=this.tilemap.getTileAtPosition(roomXrounded,roomYrounded);"door"===(null==item?void 0:item.type)&&(this.roomVisualization.container.removeChild(this._avatarSprites),this.roomVisualization.behindWallContainer.addChild(this._avatarSprites)),null!=item&&"door"===item.type||(this.roomVisualization.behindWallContainer.removeChild(this._avatarSprites),this.roomVisualization.container.addChild(this._avatarSprites))}}}]),Avatar}(RoomObject_1.RoomObject);exports.Avatar=Avatar},975:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(71),__webpack_require__(35),__webpack_require__(55),__webpack_require__(15),__webpack_require__(19),Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventEmitter=void 0;var EventEmitter=function(){function EventEmitter(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventEmitter),this._map=new Map}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EventEmitter,[{key:"addEventListener",value:function addEventListener(name,callback){var _a,key=name.toString(),currentEventCallbackSet=null!==(_a=this._map.get(key))&&void 0!==_a?_a:new Set;currentEventCallbackSet.add(callback),this._map.set(key,currentEventCallbackSet)}},{key:"removeEventListener",value:function removeEventListener(name,callback){var key=name.toString(),currentEventCallbackSet=this._map.get(key);null!=currentEventCallbackSet&&currentEventCallbackSet.delete(callback)}},{key:"trigger",value:function trigger(name,value){var key=name.toString(),currentEventCallbackSet=this._map.get(key);null==currentEventCallbackSet||currentEventCallbackSet.forEach((function(callback){return callback(value)}))}}]),EventEmitter}();exports.EventEmitter=EventEmitter,window.addEventListener},976:function(module,exports,__webpack_require__){"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__(3),__webpack_require__(25),__webpack_require__(5),__webpack_require__(12),__webpack_require__(36),__webpack_require__(6),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(7),__webpack_require__(9),__webpack_require__(62),Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSetEqual=void 0,exports.isSetEqual=function isSetEqual(as,bs){if(as.size!==bs.size)return!1;var _step,_iterator=_createForOfIteratorHelper(as);try{for(_iterator.s();!(_step=_iterator.n()).done;){var a=_step.value;if(!bs.has(a))return!1}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!0}},977:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventManagerNode=void 0;var EventManagerNode=function(){function EventManagerNode(target,_bush){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventManagerNode),this.target=target,this._bush=_bush,this._subscription=target.getRectangleObservable().subscribe((function(value){_this._updateRectangle(value)}))}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EventManagerNode,[{key:"minX",get:function get(){if(null==this._rectangle)throw new Error("Rectangle wasn't set");return this._rectangle.x}},{key:"maxX",get:function get(){if(null==this._rectangle)throw new Error("Rectangle wasn't set");return this._rectangle.x+this._rectangle.width}},{key:"minY",get:function get(){if(null==this._rectangle)throw new Error("Rectangle wasn't set");return this._rectangle.y}},{key:"maxY",get:function get(){if(null==this._rectangle)throw new Error("Rectangle wasn't set");return this._rectangle.y+this._rectangle.height}},{key:"destroy",value:function destroy(){null!=this._rectangle&&this._bush.remove(this),this._subscription.unsubscribe()}},{key:"_updateRectangle",value:function _updateRectangle(rectangle){null!=this._rectangle&&this._bush.remove(this),this._rectangle=rectangle,null!=rectangle&&this._bush.insert(this)}}]),EventManagerNode}();exports.EventManagerNode=EventManagerNode},979:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(15),__webpack_require__(19),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.FloorFurniture=void 0;var RoomObject_1=__webpack_require__(203),getZOrder_1=__webpack_require__(241),BaseFurniture_1=__webpack_require__(332),ObjectAnimation_1=__webpack_require__(499),getFurnitureFetch_1=__webpack_require__(530),FloorFurniture=function(_RoomObject_1$RoomObj){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FloorFurniture,_RoomObject_1$RoomObj);var _super=_createSuper(FloorFurniture);function FloorFurniture(options){var _this,_a;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FloorFurniture),(_this=_super.call(this)).placementType="floor",_this._animatedPosition={roomX:0,roomY:0,roomZ:0},_this._moving=!1,_this._highlight=!1,_this._type=options.type,_this._id=options.id,_this._roomX=options.roomX,_this._roomY=options.roomY,_this._roomZ=options.roomZ,_this._direction=options.direction,_this._animation=options.animation,"type"in options&&(_this._type=options.type),_this._baseFurniture=new BaseFurniture_1.BaseFurniture({animation:_this.animation,direction:_this.direction,type:getFurnitureFetch_1.getFurnitureFetch(options,"floor")}),null===(_a=options.behaviors)||void 0===_a||_a.forEach((function(behavior){return behavior.setParent(_assertThisInitialized(_this))})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(FloorFurniture,[{key:"move",value:function move(roomX,roomY,roomZ){var _a;null===(_a=this._moveAnimation)||void 0===_a||_a.move({roomX:this.roomX,roomY:this.roomY,roomZ:this.roomZ},{roomX:roomX,roomY:roomY,roomZ:roomZ},void 0),this._roomX=roomX,this._roomY=roomY,this._roomZ=roomZ}},{key:"clearMovement",value:function clearMovement(){var _a,current=null===(_a=this._moveAnimation)||void 0===_a?void 0:_a.clear();null!=current&&(this.roomX=current.roomX,this.roomY=current.roomY,this.roomZ=current.roomZ)}},{key:"destroyed",value:function destroyed(){var _a;this._baseFurniture.destroy(),null===(_a=this._moveAnimation)||void 0===_a||_a.destroy()}},{key:"registered",value:function registered(){var _this2=this;this._baseFurniture.dependencies={animationTicker:this.animationTicker,furnitureLoader:this.furnitureLoader,placeholder:this.configuration.placeholder,visualization:this.roomVisualization,eventManager:this.eventManager},this._moveAnimation=new ObjectAnimation_1.ObjectAnimation(this.animationTicker,{onStart:function onStart(){_this2._moving=!0},onStop:function onStop(){_this2._moving=!1},onUpdatePosition:function onUpdatePosition(position){_this2._animatedPosition=position,_this2._updatePosition()}},this.configuration.furnitureMovementDuration),this._updatePosition()}},{key:"highlight",get:function get(){return this._highlight},set:function set(value){this._highlight=value,this._updateHighlight()}},{key:"alpha",get:function get(){return this._baseFurniture.alpha},set:function set(value){this._baseFurniture.alpha=value}},{key:"type",get:function get(){return this._type}},{key:"onClick",get:function get(){return this._onClick},set:function set(value){this._onClick=value,this._baseFurniture.onClick=this.onClick}},{key:"onDoubleClick",get:function get(){return this._onDoubleClick},set:function set(value){this._onDoubleClick=value,this._baseFurniture.onDoubleClick=this.onDoubleClick}},{key:"onPointerDown",get:function get(){return this._onPointerDown},set:function set(value){this._onPointerDown=value,this._baseFurniture.onPointerDown=this.onPointerDown}},{key:"onPointerUp",get:function get(){return this._onPointerUp},set:function set(value){this._onPointerUp=value,this._baseFurniture.onPointerUp=this.onPointerUp}},{key:"onPointerOver",get:function get(){return this._onPointerOver},set:function set(value){this._onPointerOver=value,this._baseFurniture.onPointerOver=this.onPointerOver}},{key:"onPointerOut",get:function get(){return this._onPointerOut},set:function set(value){this._onPointerOut=value,this._baseFurniture.onPointerOut=this.onPointerOut}},{key:"id",get:function get(){return this._id}},{key:"extradata",get:function get(){return this._baseFurniture.extradata}},{key:"validDirections",get:function get(){return this._baseFurniture.validDirections}},{key:"animation",get:function get(){return this._animation},set:function set(value){this._animation=value,this._updateAnimation()}},{key:"direction",get:function get(){return this._direction},set:function set(value){this._direction=value,this._updateDirection()}},{key:"roomX",get:function get(){return this._roomX},set:function set(value){this._roomX=value,this._updatePosition()}},{key:"roomY",get:function get(){return this._roomY},set:function set(value){this._roomY=value,this._updatePosition()}},{key:"roomZ",get:function get(){return this._roomZ},set:function set(value){this._roomZ=value,this._updatePosition()}},{key:"visualization",get:function get(){return this._baseFurniture.visualization},set:function set(value){this._baseFurniture.visualization=value}},{key:"_updateDirection",value:function _updateDirection(){this._baseFurniture.direction=this.direction}},{key:"_getDisplayRoomPosition",value:function _getDisplayRoomPosition(){return this._moving?this._animatedPosition:{roomX:this.roomX,roomY:this.roomY,roomZ:this.roomZ}}},{key:"_updatePosition",value:function _updatePosition(){var _this$_getDisplayRoom=this._getDisplayRoomPosition(),roomX=_this$_getDisplayRoom.roomX,roomY=_this$_getDisplayRoom.roomY,roomZ=_this$_getDisplayRoom.roomZ,_this$geometry$getPos=this.geometry.getPosition(roomX,roomY,roomZ),x=_this$geometry$getPos.x,y=_this$geometry$getPos.y,roomXrounded=Math.round(roomX),roomYrounded=Math.round(roomY);this._baseFurniture.x=x,this._baseFurniture.y=y,this._baseFurniture.zIndex=getZOrder_1.getZOrder(roomXrounded,roomYrounded,this.roomZ)}},{key:"_updateAnimation",value:function _updateAnimation(){this._baseFurniture.animation=this.animation}},{key:"_updateHighlight",value:function _updateHighlight(){this._baseFurniture.highlight=this.highlight}}]),FloorFurniture}(RoomObject_1.RoomObject);exports.FloorFurniture=FloorFurniture},987:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDirectionForFurniture=void 0,exports.getDirectionForFurniture=function getDirectionForFurniture(direction,validDirections){if(validDirections.length<1)return 0;for(var fallbackDirection=validDirections[0],i=0;i<validDirections.length;i++){var validDirection=validDirections[i];if(validDirection===direction)return direction;if(validDirection>direction)return fallbackDirection;fallbackDirection=validDirection}return fallbackDirection}},988:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__(33),__webpack_require__(3),__webpack_require__(26),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(15),__webpack_require__(19),__webpack_require__(20),__webpack_require__(13),__webpack_require__(55),__webpack_require__(204),__webpack_require__(12);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FurnitureVisualizationView=void 0;var PIXI=__importStar(__webpack_require__(59)),IEventGroup_1=__webpack_require__(125),HighlightFilter_1=__webpack_require__(500),FurnitureSprite_1=__webpack_require__(529),highlightFilter=new HighlightFilter_1.HighlightFilter(10066329,16777215),FurnitureVisualizationView=function(){function FurnitureVisualizationView(_eventManager,_clickHandler,_overOutHandler,_container,_furniture){_classCallCheck(this,FurnitureVisualizationView),this._eventManager=_eventManager,this._clickHandler=_clickHandler,this._overOutHandler=_overOutHandler,this._container=_container,this._furniture=_furniture,this._cache=new Map}return _createClass(FurnitureVisualizationView,[{key:"x",get:function get(){if(null==this._x)throw new Error("x not set");return this._x},set:function set(value){this._x=value}},{key:"y",get:function get(){if(null==this._y)throw new Error("y not set");return this._y},set:function set(value){this._y=value}},{key:"zIndex",get:function get(){if(null==this._zIndex)throw new Error("zIndex not set");return this._zIndex},set:function set(value){this._zIndex=value}},{key:"alpha",get:function get(){if(null==this._alpha)throw new Error("alpha not set");return this._alpha},set:function set(value){this._alpha=value}},{key:"highlight",get:function get(){if(null==this._highlight)throw new Error("highlight not set");return this._highlight},set:function set(value){this._highlight=value}},{key:"getEventGroupIdentifier",value:function getEventGroupIdentifier(){return IEventGroup_1.FURNITURE}},{key:"getLayers",value:function getLayers(){if(null==this._layers)throw new Error("Layers not set yet. Call `updateDisplay` before accessing the layers.");return this._layers}},{key:"getVisualizationData",value:function getVisualizationData(){return this._furniture.visualizationData}},{key:"setDisplayAnimation",value:function setDisplayAnimation(animation){this._animation=animation}},{key:"setDisplayDirection",value:function setDisplayDirection(direction){this._direction=direction}},{key:"updateLayers",value:function updateLayers(){var _a,_this=this;null===(_a=this._layers)||void 0===_a||_a.forEach((function(layer){layer.x=_this.x,layer.y=_this.y,layer.zIndex=_this.zIndex,layer.alpha=_this.alpha,layer.highlight=_this.highlight,layer.update()}))}},{key:"updateDisplay",value:function updateDisplay(){var _a,_this2=this;if(null==this._direction)throw new Error("Direction was not set");var direction=this._direction,animation=this._animation;null===(_a=this._layers)||void 0===_a||_a.forEach((function(layer){return layer.destroy()})),this._layers=this._getDrawDefinition(direction,animation).parts.map((function(part){return new FurnitureVisualizationLayer(_this2,_this2._container,part,_this2._eventManager,_this2._clickHandler,_this2._overOutHandler,(function(id){return _this2._furniture.getTexture(id)}))})),this.updateLayers()}},{key:"destroy",value:function destroy(){var _a;null===(_a=this._layers)||void 0===_a||_a.forEach((function(layer){return layer.destroy()}))}},{key:"_getDrawDefinition",value:function _getDrawDefinition(direction,animation){animation=null!=animation?animation:"undefined";var key="".concat(direction,"_").concat(animation),current=this._cache.get(key);if(null!=current)return current;var definition=this._furniture.getDrawDefinition(direction,animation);return this._cache.set(key,definition),definition}}]),FurnitureVisualizationView}();exports.FurnitureVisualizationView=FurnitureVisualizationView;var FurnitureVisualizationLayer=function(){function FurnitureVisualizationLayer(_parent,_container,_part,_eventManager,_clickHandler,_overOutHandler,_getTexture){_classCallCheck(this,FurnitureVisualizationLayer),this._parent=_parent,this._container=_container,this._part=_part,this._eventManager=_eventManager,this._clickHandler=_clickHandler,this._overOutHandler=_overOutHandler,this._getTexture=_getTexture,this._sprites=new Map,this._spritePositionChanged=!1,this._spritesChanged=!1,this._frameIndex=0,this._mountedSprites=new Set,this.frameRepeat=_part.frameRepeat,this.layerIndex=_part.layerIndex,this.assetCount=_part.assets.length}return _createClass(FurnitureVisualizationLayer,[{key:"highlight",get:function get(){if(null==this._highlight)throw new Error("highlight not set");return this._highlight},set:function set(value){value!==this._highlight&&(this._highlight=value,this._spritesChanged=!0)}},{key:"alpha",get:function get(){if(null==this._alpha)throw new Error("alpha not set");return this._alpha},set:function set(value){value!==this._alpha&&(this._alpha=value,this._spritesChanged=!0)}},{key:"x",get:function get(){if(null==this._x)throw new Error("x not set");return this._x},set:function set(value){value!==this._x&&(this._x=value,this._spritePositionChanged=!0)}},{key:"y",get:function get(){if(null==this._y)throw new Error("y not set");return this._y},set:function set(value){this._y!==value&&(this._y=value,this._spritePositionChanged=!0)}},{key:"zIndex",get:function get(){if(null==this._zIndex)throw new Error("zIndex not set");return this._zIndex},set:function set(value){this._zIndex!==value&&(this._zIndex=value,this._spritePositionChanged=!0)}},{key:"tag",get:function get(){var _a;return null===(_a=this._part.layer)||void 0===_a?void 0:_a.tag}},{key:"setColor",value:function setColor(color){this._color!==color&&(this._color=color,this._spritesChanged=!0)}},{key:"setCurrentFrameIndex",value:function setCurrentFrameIndex(value){var previousFrameIndex=this._frameIndex;this._frameIndex=value;var previousFrame=this._getSprite(previousFrameIndex);null!=previousFrame&&this._setSpriteVisible(previousFrame,!1);var newFrame=this._getSprite(this._frameIndex);null!=newFrame&&(this._setSpriteVisible(newFrame,!0),this._addSprite(newFrame),null!=this._color&&(newFrame.tint=this._color))}},{key:"update",value:function update(){this._spritePositionChanged&&(this._spritePositionChanged=!1,this._updateSpritesPosition()),this._spritesChanged&&(this._spritesChanged=!1,this._destroySprites(),this._updateSprites())}},{key:"destroy",value:function destroy(){this._destroySprites()}},{key:"_updateSpritePosition",value:function _updateSpritePosition(sprite){sprite.baseX=this.x,sprite.baseY=this.y,sprite.baseZIndex=this.zIndex}},{key:"_addSprite",value:function _addSprite(sprite){this._mountedSprites.has(sprite)||(this._mountedSprites.add(sprite),this._container.addChild(sprite),this._overOutHandler.register(sprite.events))}},{key:"_destroySprites",value:function _destroySprites(){var _this3=this;this._sprites.forEach((function(sprite){_this3._container.removeChild(sprite),_this3._overOutHandler.remove(sprite.events),sprite.destroy()})),this._sprites=new Map,this._mountedSprites=new Set}},{key:"_setSpriteVisible",value:function _setSpriteVisible(sprite,visible){visible?(sprite.ignore=!1,sprite.visible=!0):(sprite.ignore=!0,sprite.visible=!1)}},{key:"_updateSprites",value:function _updateSprites(){var _this4=this,frameIndex=this._frameIndex,sprite=this._getSprite(frameIndex);this._sprites.forEach((function(sprite){return _this4._setSpriteVisible(sprite,!1)})),null!=sprite&&(this._addSprite(sprite),this._setSpriteVisible(sprite,!0))}},{key:"_updateSpritesPosition",value:function _updateSpritesPosition(){var _this5=this;this._sprites.forEach((function(sprite){_this5._updateSpritePosition(sprite)}))}},{key:"_getSpriteInfo",value:function _getSpriteInfo(frameIndex){var asset=this._part.assets[frameIndex];if(null!=asset)return{asset:asset,texture:this._getTexture(getAssetTextureName(asset))}}},{key:"_getSprite",value:function _getSprite(frameIndex){var _this6=this,current=this._sprites.get(frameIndex);if(null!=current)return current;var spriteInfo=this._getSpriteInfo(frameIndex);if(null!=spriteInfo){var _this$_part=this._part,z=_this$_part.z,layer=_this$_part.layer,shadow=_this$_part.shadow,mask=_this$_part.mask,tint=_this$_part.tint,asset=spriteInfo.asset,texture=spriteInfo.texture,zIndex=null!=z?z:0,sprite=new FurnitureSprite_1.FurnitureSprite({eventManager:this._eventManager,mirrored:asset.flipH,tag:null==layer?void 0:layer.tag,group:this._parent}),ignoreMouse=null!=(null==layer?void 0:layer.ignoreMouse)&&layer.ignoreMouse;sprite.ignoreMouse=ignoreMouse,sprite.events.addEventListener("click",(function(event){_this6._clickHandler.handleClick(event)})),sprite.events.addEventListener("pointerup",(function(event){_this6._clickHandler.handlePointerUp(event)})),sprite.events.addEventListener("pointerdown",(function(event){_this6._clickHandler.handlePointerDown(event)})),sprite.hitTexture=texture;var highlight=this._highlight&&null==(null==layer?void 0:layer.ink)&&!shadow&&!mask;sprite.filters=highlight?[highlightFilter]:[];var scaleX=asset.flipH?-1:1,offsetX=+(32-asset.x*scaleX),offsetY=16-asset.y;sprite.offsetX=offsetX,sprite.offsetY=offsetY,sprite.offsetZIndex=zIndex,sprite.baseX=this.x,sprite.baseY=this.y,sprite.baseZIndex=this.zIndex,shadow&&(sprite.baseZIndex=this.zIndex,sprite.offsetZIndex=-this.zIndex),null!=tint&&(sprite.tint=parseInt(tint,16));var alpha=this._getAlpha({baseAlpha:this.alpha,layerAlpha:null==layer?void 0:layer.alpha});return null!=layer&&null!=layer.ink&&(this.highlight&&(sprite.visible=!1),sprite.blendMode="ADD"===layer.ink?PIXI.BLEND_MODES.ADD:PIXI.BLEND_MODES.NORMAL),shadow?this.highlight?(sprite.visible=!1,sprite.alpha=0):(sprite.visible=!0,sprite.alpha=alpha/5):(sprite.visible=!0,sprite.alpha=alpha),mask&&(sprite.tint=16777215),null!=this._color&&(sprite.tint=this._color),this._setSpriteVisible(sprite,!1),this._sprites.set(frameIndex,sprite),this._overOutHandler.register(sprite.events),sprite}}},{key:"_getAlpha",value:function _getAlpha(_ref){var layerAlpha=_ref.layerAlpha,baseAlpha=_ref.baseAlpha;return null!=layerAlpha?layerAlpha/255*baseAlpha:baseAlpha}}]),FurnitureVisualizationLayer}(),getAssetTextureName=function getAssetTextureName(asset){var _a;return null!==(_a=asset.source)&&void 0!==_a?_a:asset.name}},989:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(33),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.WallFurniture=void 0;var RoomObject_1=__webpack_require__(203),getZOrder_1=__webpack_require__(241),BaseFurniture_1=__webpack_require__(332),getMaskId_1=__webpack_require__(531),getFurnitureFetch_1=__webpack_require__(530),LegacyWallGeometry_1=__webpack_require__(990),WallFurniture=function(_RoomObject_1$RoomObj){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WallFurniture,_RoomObject_1$RoomObj);var _super=_createSuper(WallFurniture);function WallFurniture(options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WallFurniture),(_this=_super.call(this)).placementType="wall",_this._offsetX=0,_this._offsetY=0,_this._highlight=!1,_this._type=options.type,_this._id=options.id,_this._roomX=options.roomX,_this._roomY=options.roomY,_this._animation=options.animation,_this._direction=options.direction,_this._offsetX=options.offsetX,_this._offsetY=options.offsetY,_this._baseFurniture=new BaseFurniture_1.BaseFurniture({animation:_this.animation,direction:_this.direction,type:getFurnitureFetch_1.getFurnitureFetch(options,"wall"),getMaskId:function getMaskId(direction){return getMaskId_1.getMaskId(direction,_this.roomX,_this.roomY)}}),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WallFurniture,[{key:"extradata",get:function get(){return this._baseFurniture.extradata}},{key:"validDirections",get:function get(){return this._baseFurniture.validDirections}},{key:"id",get:function get(){return this._id}},{key:"highlight",get:function get(){return this._highlight},set:function set(value){this._highlight=value,this._updateHighlight()}},{key:"alpha",get:function get(){return this._baseFurniture.alpha},set:function set(value){this._baseFurniture.alpha=value}},{key:"type",get:function get(){return this._type}},{key:"animation",get:function get(){return this._animation},set:function set(value){this._animation=value,this._updateAnimation()}},{key:"direction",get:function get(){return this._direction},set:function set(value){this._direction=value,this._updateDirection()}},{key:"roomX",get:function get(){return this._roomX},set:function set(value){this._roomX=value,this._updatePosition()}},{key:"roomY",get:function get(){return this._roomY},set:function set(value){this._roomY=value,this._updatePosition()}},{key:"offsetX",get:function get(){return this._offsetX},set:function set(value){this._offsetX=value,this._updatePosition()}},{key:"offsetY",get:function get(){return this._offsetY},set:function set(value){this._offsetY=value,this._updatePosition()}},{key:"visualization",get:function get(){return this._baseFurniture.visualization},set:function set(value){this._baseFurniture.visualization=value}},{key:"onClick",get:function get(){return this._baseFurniture.onClick},set:function set(value){this._baseFurniture.onClick=value}},{key:"onDoubleClick",get:function get(){return this._baseFurniture.onDoubleClick},set:function set(value){this._baseFurniture.onDoubleClick=value}},{key:"onPointerDown",get:function get(){return this._baseFurniture.onPointerDown},set:function set(value){this._baseFurniture.onPointerDown=value}},{key:"onPointerUp",get:function get(){return this._baseFurniture.onPointerUp},set:function set(value){this._baseFurniture.onPointerUp=value}},{key:"destroyed",value:function destroyed(){this._baseFurniture.destroy()}},{key:"registered",value:function registered(){this._baseFurniture.dependencies={animationTicker:this.animationTicker,furnitureLoader:this.furnitureLoader,placeholder:void 0,visualization:this.roomVisualization,eventManager:this.eventManager},this._updatePosition()}},{key:"_updateAnimation",value:function _updateAnimation(){this._baseFurniture.animation=this.animation}},{key:"_updateDirection",value:function _updateDirection(){this._baseFurniture.direction=this.direction}},{key:"_updateHighlight",value:function _updateHighlight(){this._baseFurniture.highlight=this.highlight}},{key:"_getOffsets",value:function _getOffsets(direction){var roomPosition=new LegacyWallGeometry_1.LegacyWallGeometry(this.room.getParsedTileTypes()).getLocation(this.roomX,this.roomY,this._offsetX,this._offsetY,2===direction?"l":"r");if(2===direction){var position=this.room.getPosition(roomPosition.x,roomPosition.y,2*roomPosition.z-.5);return{x:position.x,y:position.y-this.room.wallHeight}}var _position=this.room.getPosition(roomPosition.x,roomPosition.y-.5,2*roomPosition.z-.5);return{x:_position.x,y:_position.y-this.room.wallHeight}}},{key:"_updatePosition",value:function _updatePosition(){var _this2=this;if(null!=this._getOffsets(this.direction)){var position=this._getOffsets(this.direction);this._baseFurniture.x=position.x,this._baseFurniture.y=position.y,this._baseFurniture.maskId=function(direction){return getMaskId_1.getMaskId(direction,_this2.roomX,_this2.roomY)},this._baseFurniture.zIndex=getZOrder_1.getZOrder(this.roomX,this.roomY,0)-1}}}]),WallFurniture}(RoomObject_1.RoomObject);exports.WallFurniture=WallFurniture},99:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return renderAvatarDirections}));var _tetreum_shroom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_common_createShroom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),directions=[0,1,2,3,4,5,6,7];function renderAvatarDirections(look){var dirs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:directions,callback=arguments.length>2?arguments[2]:void 0;return Object(_common_createShroom__WEBPACK_IMPORTED_MODULE_1__.a)((function(_ref){for(var application=_ref.application,shroom=_ref.shroom,room=_tetreum_shroom__WEBPACK_IMPORTED_MODULE_0__.Room.create(shroom,{tilemap:"\n                       xxxxxxxxxxxxxxxx\n                       x000000000000000\n                       x000000000000000\n                       x000000000000000\n                      "}),avatars=[],y=1;y<=1;y++)for(var x=0;x<dirs.length;x++){var direction=dirs[x],_avatar=new _tetreum_shroom__WEBPACK_IMPORTED_MODULE_0__.Avatar({look:look,direction:direction,roomX:2*x+1,roomY:2*y-1,roomZ:0});callback(_avatar),room.addRoomObject(_avatar),avatars.push(_avatar)}application.stage.addChild(room)}))}},990:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.LegacyWallGeometry=void 0;var LegacyWallGeometry=function(){function LegacyWallGeometry(_heightmap){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LegacyWallGeometry),this._heightmap=_heightmap,this._width=_heightmap[0].length,this._height=_heightmap.length,this._scale=64}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(LegacyWallGeometry,[{key:"getLocation",value:function getLocation(roomX,roomY,offsetX,offsetY,wall){var rX=roomX,rY=roomY,rZ=this.getHeight(roomX,roomY);return wall==LegacyWallGeometry.LEFT_WALL?(rX+=offsetX/(this._scale/2)-.5,rY+=.5,rZ-=(offsetY-offsetX/2)/(this._scale/2)):(rY+=(this._scale/2-offsetX)/(this._scale/2)-.5,rX+=.5,rZ-=(offsetY-(this._scale/2-offsetX)/2)/(this._scale/2)),{x:rX,y:rY,z:rZ}}},{key:"getHeight",value:function getHeight(x,y){if(x<0||x>=this._width||y<0||y>=this._height)return 0;var row=this._heightmap[y];if(null==row)return 0;var cell=row[x];switch(cell.type){case"wall":return cell.height;case"stairs":case"tile":return cell.z}return 0}}]),LegacyWallGeometry}();exports.LegacyWallGeometry=LegacyWallGeometry,LegacyWallGeometry.RIGHT_WALL="l",LegacyWallGeometry.LEFT_WALL="r"},991:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(15),__webpack_require__(19),__webpack_require__(31),__webpack_require__(5),__webpack_require__(11),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Room=void 0;var PIXI=__importStar(__webpack_require__(59)),parseTileMapString_1=__webpack_require__(532),RoomObjectContainer_1=__webpack_require__(992),RoomModelVisualization_1=__webpack_require__(533),ParsedTileMap_1=__webpack_require__(1003),getTileColors_1=__webpack_require__(1009),EventManager_1=__webpack_require__(331),Room=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Room,_PIXI$Container);var _super=_createSuper(Room);function Room(_ref){var _this,animationTicker=_ref.animationTicker,avatarLoader=_ref.avatarLoader,furnitureLoader=_ref.furnitureLoader,tilemap=_ref.tilemap,configuration=_ref.configuration,application=_ref.application;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Room),_this=_super.call(this);var normalizedTileMap="string"==typeof tilemap?parseTileMapString_1.parseTileMapString(tilemap):tilemap;return _this._application=application,_this._animationTicker=animationTicker,_this._furnitureLoader=furnitureLoader,_this._avatarLoader=avatarLoader,_this._eventManager=new EventManager_1.EventManager,_this._configuration=configuration,_this.application=application,_this._visualization=new RoomModelVisualization_1.RoomModelVisualization(_this._eventManager,_this.application,new ParsedTileMap_1.ParsedTileMap(normalizedTileMap)),_this._roomObjectContainer=new RoomObjectContainer_1.RoomObjectContainer,_this._roomObjectContainer.context={geometry:_assertThisInitialized(_this),visualization:_this._visualization,animationTicker:_this._animationTicker,furnitureLoader:_this._furnitureLoader,roomObjectContainer:_assertThisInitialized(_this),avatarLoader:_this._avatarLoader,eventManager:_this._eventManager,configuration:_this._configuration,tilemap:_assertThisInitialized(_this),landscapeContainer:_this._visualization,application:_this._application,room:_assertThisInitialized(_this)},_this.addChild(_this._visualization),_this._visualization.onTileClick.subscribe((function(value){_this.onTileClick&&_this.onTileClick(value.position,value.event)})),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Room,[{key:"onActiveTileChange",get:function get(){return this._visualization.onActiveTileChange}},{key:"onActiveWallChange",get:function get(){return this._visualization.onActiveWallChange}},{key:"roomObjects",get:function get(){return this._roomObjectContainer.roomObjects}},{key:"hideWalls",get:function get(){return this._visualization.hideWalls},set:function set(value){this._visualization.hideWalls=value}},{key:"hideFloor",get:function get(){return this._visualization.hideFloor},set:function set(value){this._visualization.hideFloor=value}},{key:"hideTileCursor",get:function get(){return this._visualization.hideTileCursor},set:function set(value){this._visualization.hideTileCursor=value}},{key:"wallHeight",get:function get(){return this._visualization.wallHeight},set:function set(value){this._visualization.wallHeight=value}},{key:"tileHeight",get:function get(){return this._visualization.tileHeight},set:function set(value){this._visualization.tileHeight=value}},{key:"wallDepth",get:function get(){return this._visualization.wallDepth},set:function set(value){this._visualization.wallDepth=value}},{key:"onTileClick",get:function get(){return this._onTileClick},set:function set(value){this._onTileClick=value}},{key:"wallTexture",get:function get(){return this._wallTexture},set:function set(value){this._wallTexture=value,this._loadWallTextures()}},{key:"floorTexture",get:function get(){return this._floorTexture},set:function set(value){this._floorTexture=value,this._loadFloorTextures()}},{key:"wallColor",get:function get(){return this._wallColor},set:function set(value){this._wallColor=value,this._updateWallColor()}},{key:"floorColor",get:function get(){return this._floorColor},set:function set(value){this._floorColor=value,this._updateTileColor()}},{key:"roomHeight",get:function get(){return this._visualization.rectangle.height}},{key:"roomWidth",get:function get(){return this._visualization.rectangle.width}},{key:"visualization",get:function get(){return this._visualization}},{key:"eventManager",get:function get(){return this._eventManager}},{key:"changeTileMap",value:function changeTileMap(tileMap){var _this2=this;this._visualization=new RoomModelVisualization_1.RoomModelVisualization(this._eventManager,this.application,new ParsedTileMap_1.ParsedTileMap(tileMap));var currentVisualization=this.children[0];["hideWalls","wallDepth","tileHeight","wallHeight"].forEach((function(property){_this2._visualization[property]=currentVisualization[property]})),this.removeChildAt(0),this.addChild(this._visualization),this.floorColor=this.floorColor,this.wallColor=this.wallColor,this.floorTexture=this.floorTexture,this.wallTexture=this.wallTexture}},{key:"getParsedTileTypes",value:function getParsedTileTypes(){return this._visualization.parsedTileMap.parsedTileTypes}},{key:"addRoomObject",value:function addRoomObject(object){this._roomObjectContainer.addRoomObject(object)}},{key:"removeRoomObject",value:function removeRoomObject(object){this._roomObjectContainer.removeRoomObject(object)}},{key:"getPosition",value:function getPosition(roomX,roomY,roomZ){return this._visualization.getScreenPosition(roomX,roomY,roomZ)}},{key:"getTileAtPosition",value:function getTileAtPosition(roomX,roomY){var _this$_getObjectPosit=this._getObjectPositionWithOffset(roomX,roomY),x=_this$_getObjectPosit.x,y=_this$_getObjectPosit.y,row=this._visualization.parsedTileMap.parsedTileTypes[y];if(null!=row&&null!=row[x])return row[x]}},{key:"destroy",value:function destroy(){var _this3=this;_get(_getPrototypeOf(Room.prototype),"destroy",this).call(this),this.roomObjects.forEach((function(object){return _this3.removeRoomObject(object)})),this._visualization.destroy()}},{key:"onBackgroundClick",set:function set(value){this._eventManager.onBackgroundClick=value}},{key:"_getObjectPositionWithOffset",value:function _getObjectPositionWithOffset(roomX,roomY){return{x:roomX,y:roomY}}},{key:"_loadWallTextures",value:function _loadWallTextures(){var _this4=this;Promise.resolve(this.wallTexture).then((function(texture){_this4._currentWallTexture=texture,_this4._visualization.wallTexture=texture}))}},{key:"_loadFloorTextures",value:function _loadFloorTextures(){var _this5=this;Promise.resolve(this.floorTexture).then((function(texture){_this5._visualization.floorTexture=texture}))}},{key:"_updateWallColor",value:function _updateWallColor(){var wallColors=getTileColors_1.getWallColors(this._getWallColor());this._visualization.wallLeftColor=wallColors.rightTint,this._visualization.wallRightColor=wallColors.leftTint,this._visualization.wallTopColor=wallColors.topTint}},{key:"_updateTileColor",value:function _updateTileColor(){if(null!=this._floorColor){var tileColors=getTileColors_1.getTileColors(this._floorColor);this._visualization.tileTopColor=tileColors.tileTint,this._visualization.tileLeftColor=tileColors.borderRightTint,this._visualization.tileRightColor=tileColors.borderLeftTint}else this._visualization.tileTopColor=void 0,this._visualization.tileLeftColor=void 0,this._visualization.tileRightColor=void 0}},{key:"_getWallColor",value:function _getWallColor(){var _a;return null==this.wallColor&&null!=this._currentWallTexture?"#ffffff":null==this.wallColor&&null==this._currentWallTexture?"#b6b8c7":null!==(_a=this.wallColor)&&void 0!==_a?_a:"#ffffff"}}],[{key:"create",value:function create(shroom,_ref2){var tilemap=_ref2.tilemap;return new Room(Object.assign({},shroom.dependencies,{tilemap:tilemap}))}}]),Room}(PIXI.Container);exports.Room=Room},992:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(3),__webpack_require__(55),__webpack_require__(5),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoomObjectContainer=void 0;var RoomObjectContainer=function(){function RoomObjectContainer(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RoomObjectContainer),this._roomObjects=new Set}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(RoomObjectContainer,[{key:"roomObjects",get:function get(){return this._roomObjects}},{key:"context",get:function get(){return this._context},set:function set(value){this._context=value}},{key:"addRoomObject",value:function addRoomObject(object){if(null==this._context)throw new Error("Context wasn't supplied to RoomObjectContainer");this._roomObjects.has(object)||(object.setParent(this._context),this._roomObjects.add(object))}},{key:"removeRoomObject",value:function removeRoomObject(object){this._roomObjects.has(object)&&(this._roomObjects.delete(object),object.destroy())}}]),RoomObjectContainer}();exports.RoomObjectContainer=RoomObjectContainer},993:function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}__webpack_require__(33),__webpack_require__(3);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventManagerContainer=void 0;var PIXI=__importStar(__webpack_require__(59)),EventManagerContainer=function(){function EventManagerContainer(_application,_eventManager){var _this=this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventManagerContainer),this._application=_application,this._eventManager=_eventManager,this._updateRectangle=function(){var renderer=_this._application.renderer,width=renderer.width/renderer.resolution,height=renderer.height/renderer.resolution;_this._box=new PIXI.TilingSprite(PIXI.Texture.WHITE,width,height),_this._box.alpha=.3},this._updateRectangle(),_application.ticker.add(this._updateRectangle);var interactionManager=this._application.renderer.plugins.interaction;interactionManager.addListener("pointermove",(function(event){var position=event.data.getLocalPosition(_this._application.stage);_this._eventManager.move(event,position.x,position.y)}),!0),interactionManager.addListener("pointerup",(function(event){var position=event.data.getLocalPosition(_this._application.stage);_this._eventManager.pointerUp(event,position.x,position.y)}),!0),interactionManager.addListener("pointerdown",(function(event){var position=event.data.getLocalPosition(_this._application.stage);_this._eventManager.pointerDown(event,position.x,position.y)}),!0)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EventManagerContainer,[{key:"destroy",value:function destroy(){this._application.ticker.remove(this._updateRectangle)}}]),EventManagerContainer}();exports.EventManagerContainer=EventManagerContainer},994:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stair=void 0;var PIXI=__importStar(__webpack_require__(59)),matrixes_1=__webpack_require__(335),Stair=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Stair,_PIXI$Container);var _super=_createSuper(Stair);function Stair(_props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Stair),(_this=_super.call(this))._props=_props,_this._tileHeight=0,_this._tileLeftColor=0,_this._tileRightColor=0,_this._tileTopColor=0,_this._tileHeight=_props.tileHeight,_this.updateSprites(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Stair,[{key:"update",value:function update(data){this._tileHeight=data.tileHeight,this._tileLeftColor=data.tileLeftColor,this._tileRightColor=data.tileRightColor,this._tileTopColor=data.tileTopColor,this._texture=data.tileTexture,this.updateSprites()}},{key:"updateSprites",value:function updateSprites(){this.removeChildren();for(var direction=this._props.direction,i=0;i<4;i++)0===direction?this.addChild.apply(this,_toConsumableArray(this._createStairBoxDirection0(3-i))):2===direction&&this.addChild.apply(this,_toConsumableArray(this._createStairBoxDirection2(3-i)))}},{key:"_createStairBoxDirection0",value:function _createStairBoxDirection0(index){var baseX=+stairBase*index,baseY=-stairBase*index*1.5,texture=this._texture;function createSprite(matrix,tint,tilePosition){var tile=new PIXI.TilingSprite(null!=texture?texture:PIXI.Texture.WHITE);return tile.tilePosition=tilePosition,tile.transform.setFromMatrix(matrix),tile.tint=tint,tile}var tile=createSprite(matrixes_1.getFloorMatrix(baseX,baseY),this._tileTopColor,new PIXI.Point(0,0));tile.width=32,tile.height=8;var borderLeft=createSprite(matrixes_1.getLeftMatrix(baseX,baseY,{width:32,height:this._tileHeight}),this._tileLeftColor,new PIXI.Point(0,0));borderLeft.width=32,borderLeft.height=this._tileHeight;var borderRight=createSprite(matrixes_1.getRightMatrix(baseX,baseY,{width:8,height:this._tileHeight}),this._tileRightColor,new PIXI.Point(0,0));return borderRight.width=8,borderRight.height=this._tileHeight,[borderLeft,borderRight,tile]}},{key:"_createStairBoxDirection2",value:function _createStairBoxDirection2(index){var baseX=-stairBase*index,baseY=-stairBase*index*1.5,texture=this._texture;function createSprite(matrix,tint){var tile=new PIXI.TilingSprite(null!=texture?texture:PIXI.Texture.WHITE);return tile.tilePosition=new PIXI.Point(0,0),tile.transform.setFromMatrix(matrix),tile.tint=tint,tile}var tile=createSprite(matrixes_1.getFloorMatrix(baseX+32-stairBase,baseY+1.5*stairBase),this._tileTopColor);tile.width=stairBase,tile.height=32;var borderLeft=createSprite(matrixes_1.getLeftMatrix(baseX+32-stairBase,baseY+1.5*stairBase,{width:stairBase,height:this._tileHeight}),this._tileLeftColor);borderLeft.width=stairBase,borderLeft.height=this._tileHeight;var borderRight=createSprite(matrixes_1.getRightMatrix(baseX,baseY,{width:32,height:this._tileHeight}),this._tileRightColor);return borderRight.width=32,borderRight.height=this._tileHeight,[borderLeft,borderRight,tile]}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(Stair.prototype),"destroy",this).call(this),this.removeChildren()}}]),Stair}(PIXI.Container);exports.Stair=Stair;var stairBase=8},995:function(module,exports,__webpack_require__){"use strict";__webpack_require__(33),__webpack_require__(3);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createPlaneMatrix=void 0;var PIXI=__importStar(__webpack_require__(59));exports.createPlaneMatrix=function createPlaneMatrix(points,_ref){var width=_ref.width,height=_ref.height,x=_ref.x,y=_ref.y,diffDxCx=points.d.x-points.c.x,diffDyCy=points.d.y-points.c.y,diffBxCx=points.b.x-points.c.x,diffByCy=points.b.y-points.c.y;Math.abs(diffBxCx-width)<=1&&(diffBxCx=width),Math.abs(diffByCy-width)<=1&&(diffByCy=width),Math.abs(diffDxCx-height)<=1&&(diffDxCx=height),Math.abs(diffDyCy-height)<=1&&(diffDyCy=height);var a=diffBxCx/width,b=diffByCy/width,c=diffDxCx/height,d=diffDyCy/height,baseX=x+points.c.x,baseY=y+points.c.y;return new PIXI.Matrix(a,b,c,d,baseX,baseY)}},996:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(62),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9),__webpack_require__(36),__webpack_require__(25),__webpack_require__(12);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StairCorner=void 0;var PIXI=__importStar(__webpack_require__(59)),matrixes_1=__webpack_require__(335),StairCorner=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(StairCorner,_PIXI$Container);var _super=_createSuper(StairCorner);function StairCorner(_props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StairCorner),(_this=_super.call(this))._props=_props,_this._tileHeight=0,_this._tileLeftColor=0,_this._tileRightColor=0,_this._tileTopColor=0,_this.sortableChildren=!0,_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(StairCorner,[{key:"update",value:function update(data){this._tileHeight=data.tileHeight,this._tileLeftColor=data.tileLeftColor,this._tileRightColor=data.tileRightColor,this._tileTopColor=data.tileTopColor,this._texture=data.tileTexture,this.updateSprites()}},{key:"updateSprites",value:function updateSprites(){this.removeChildren();for(var type=this._props.type,i=0;i<4;i++)"front"===type?this.addChild.apply(this,_toConsumableArray(this._createStairBoxFront(3-i))):"left"===type?this.addChild.apply(this,_toConsumableArray(this._createStairBoxLeft(3-i))):"right"===type&&this.addChild.apply(this,_toConsumableArray(this._createStairBoxRight(3-i)))}},{key:"destroySprites",value:function destroySprites(){var _a;null===(_a=this._container)||void 0===_a||_a.destroy()}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(StairCorner.prototype),"destroy",this).call(this),this.destroySprites()}},{key:"_createStairBoxFront",value:function _createStairBoxFront(index){var baseXLeft=+stairBase*index,baseYLeft=-stairBase*index*1.5,baseYRight=-stairBase*index*2,texture=this._texture;function createSprite(matrix,tint,tilePosition){var tile=new PIXI.TilingSprite(null!=texture?texture:PIXI.Texture.WHITE);return tile.tilePosition=tilePosition,tile.transform.setFromMatrix(matrix),tile.tint=tint,tile}var tileLeft=createSprite(matrixes_1.getFloorMatrix(baseXLeft,baseYLeft),this._tileTopColor,new PIXI.Point);tileLeft.width=32-8*index,tileLeft.height=8;var tileRight=createSprite(matrixes_1.getFloorMatrix(32-stairBase,baseYRight+1.5*stairBase),this._tileTopColor,new PIXI.Point(0,0));tileRight.width=stairBase,tileRight.height=32-8*index;var borderLeft=createSprite(matrixes_1.getLeftMatrix(baseXLeft-8*index,baseYLeft-8*index*.5,{width:32,height:this._tileHeight}),this._tileLeftColor,new PIXI.Point(0,0));borderLeft.width=32-8*index,borderLeft.height=this._tileHeight;var borderRight=createSprite(matrixes_1.getRightMatrix(0-stairBase*index,-stairBase*index*1.5,{width:32,height:this._tileHeight}),this._tileRightColor,new PIXI.Point(0,0));return borderRight.width=32-8*index,borderRight.height=this._tileHeight,[borderLeft,borderRight,tileLeft,tileRight]}},{key:"_createStairBoxLeft",value:function _createStairBoxLeft(index){var baseX=-stairBase*index,baseY=-stairBase*index*1.5,texture=this._texture;function createSprite(matrix,tint,tilePosition){var tile=new PIXI.TilingSprite(null!=texture?texture:PIXI.Texture.WHITE);return tile.tilePosition=tilePosition,tile.transform.setFromMatrix(matrix),tile.tint=tint,tile}var tileRight=createSprite(matrixes_1.getFloorMatrix(baseX+32-stairBase,baseY+1.5*stairBase),this._tileTopColor,new PIXI.Point(0,0));tileRight.width=stairBase,tileRight.height=32-8*index,tileRight.zIndex=2;var borderRight=createSprite(matrixes_1.getRightMatrix(baseX-stairBase*index,-stairBase*index,{width:32,height:this._tileHeight}),this._tileRightColor,new PIXI.Point(0,0));if(borderRight.width=32-8*index,borderRight.height=this._tileHeight,borderRight.zIndex=1,0==index){var cornerOne=createSprite(matrixes_1.getFloorMatrix(baseX+40,-4),this._tileTopColor,new PIXI.Point(0,0));cornerOne.width=8,cornerOne.height=8,cornerOne.zIndex=0;var cornerTwo=createSprite(matrixes_1.getFloorMatrix(baseX+24,-12),this._tileTopColor,new PIXI.Point(0,0));return cornerTwo.width=8,cornerTwo.height=8,cornerTwo.zIndex=0,[tileRight,borderRight,cornerOne,cornerTwo]}return[tileRight,borderRight]}},{key:"_createStairBoxRight",value:function _createStairBoxRight(index){var baseX=+stairBase*index,baseY=-stairBase*index*1.5,texture=this._texture;function createSprite(matrix,tint,tilePosition){var tile=new PIXI.TilingSprite(null!=texture?texture:PIXI.Texture.WHITE);return tile.tilePosition=tilePosition,tile.transform.setFromMatrix(matrix),tile.tint=tint,tile}var tile=createSprite(matrixes_1.getFloorMatrix(baseX+8*index,baseY+8*index*.5),this._tileTopColor,new PIXI.Point(0,0));tile.width=32-8*index,tile.height=8,tile.zIndex=2;var borderLeft=createSprite(matrixes_1.getLeftMatrix(baseX,baseY,{width:32,height:this._tileHeight}),this._tileLeftColor,new PIXI.Point(0,0));if(borderLeft.width=32-8*index,borderLeft.height=this._tileHeight,borderLeft.zIndex=1,0==index){var cornerOne=createSprite(matrixes_1.getFloorMatrix(baseX+8,-4),this._tileTopColor,new PIXI.Point(0,0));cornerOne.width=8,cornerOne.height=8,cornerOne.zIndex=0;var cornerTwo=createSprite(matrixes_1.getFloorMatrix(baseX+24,-12),this._tileTopColor,new PIXI.Point(0,0));return cornerTwo.width=8,cornerTwo.height=8,cornerTwo.zIndex=0,[tile,borderLeft,cornerOne,cornerTwo]}return[tile,borderLeft]}}]),StairCorner}(PIXI.Container);exports.StairCorner=StairCorner;var stairBase=8},997:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(15),__webpack_require__(19),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tile=void 0;var PIXI=__importStar(__webpack_require__(59)),matrixes_1=__webpack_require__(335),Tile=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Tile,_PIXI$Container);var _super=_createSuper(Tile);function Tile(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Tile),(_this=_super.call(this)).props=props,_this._sprites=[],_this._tilePositions=new PIXI.Point(0,0),_this._texture=props.texture,_this._color=props.color,_this._tileHeight=props.tileHeight,_this._updateSprites(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Tile,[{key:"color",get:function get(){return this._color},set:function set(value){this._color=value,this._updateSprites()}},{key:"tilePositions",get:function get(){return this._tilePositions},set:function set(value){this._tilePositions=value,this._updateSprites()}},{key:"tileHeight",get:function get(){return this._tileHeight},set:function set(value){this._tileHeight=value,this._updateSprites()}},{key:"update",value:function update(data){this.tileHeight=data.tileHeight,this._roomPartData=data,this._texture=data.tileTexture,this._updateSprites()}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(Tile.prototype),"destroy",this).call(this),this._destroySprites()}},{key:"_destroySprites",value:function _destroySprites(){this._sprites.forEach((function(sprite){return sprite.destroy()})),this._sprites=[]}},{key:"_updateSprites",value:function _updateSprites(){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;null===(_a=this._container)||void 0===_a||_a.destroy(),this._container=new PIXI.Container,this._destroySprites();var tileMatrix=matrixes_1.getFloorMatrix(0,0),tile=new PIXI.TilingSprite(null!==(_b=this._texture)&&void 0!==_b?_b:PIXI.Texture.WHITE);tile.tilePosition=this.tilePositions,tile.transform.setFromMatrix(tileMatrix),tile.width=32,tile.height=32,tile.tint=null!==(_d=null===(_c=this._roomPartData)||void 0===_c?void 0:_c.tileTopColor)&&void 0!==_d?_d:0;var borderLeftMatrix=matrixes_1.getLeftMatrix(0,0,{width:32,height:this.tileHeight}),borderRightMatrix=matrixes_1.getRightMatrix(0,0,{width:32,height:this.tileHeight}),borderLeft=new PIXI.TilingSprite(null!==(_e=this._texture)&&void 0!==_e?_e:PIXI.Texture.WHITE);borderLeft.tilePosition=this.tilePositions,borderLeft.transform.setFromMatrix(borderLeftMatrix),borderLeft.width=32,borderLeft.height=this.tileHeight,borderLeft.tint=null!==(_g=null===(_f=this._roomPartData)||void 0===_f?void 0:_f.tileLeftColor)&&void 0!==_g?_g:0;var borderRight=new PIXI.TilingSprite(null!==(_h=this._texture)&&void 0!==_h?_h:PIXI.Texture.WHITE);borderRight.tilePosition=this.tilePositions,borderRight.transform.setFromMatrix(borderRightMatrix),borderRight.width=32,borderRight.height=this.tileHeight,borderRight.tint=null!==(_k=null===(_j=this._roomPartData)||void 0===_j?void 0:_j.tileRightColor)&&void 0!==_k?_k:0,this._sprites.push(this._container),this._container.addChild(borderLeft),this._container.addChild(borderRight),this._container.addChild(tile),this.addChild(this._container)}}]),Tile}(PIXI.Container);exports.Tile=Tile},998:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(33),__webpack_require__(3),__webpack_require__(41),__webpack_require__(37),__webpack_require__(42),__webpack_require__(5),__webpack_require__(35),__webpack_require__(89),__webpack_require__(79),__webpack_require__(14),__webpack_require__(16),__webpack_require__(24),__webpack_require__(6),__webpack_require__(7),__webpack_require__(9);var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TileCursor=void 0;var PIXI=__importStar(__webpack_require__(59)),rxjs_1=__webpack_require__(358),isPointInside_1=__webpack_require__(999),IEventGroup_1=__webpack_require__(125),TileCursor=function(_PIXI$Container){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TileCursor,_PIXI$Container);var _super=_createSuper(TileCursor);function TileCursor(_eventManager,_position,onClick,onOver,onOut){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TileCursor),(_this=_super.call(this))._eventManager=_eventManager,_this._position=_position,_this.onClick=onClick,_this.onOver=onOver,_this.onOut=onOut,_this._hover=!1,_this._subject=new rxjs_1.BehaviorSubject(void 0),_this._roomX=_position.roomX,_this._roomY=_position.roomY,_this._roomZ=_position.roomZ,_this._graphics=_this._createGraphics(),_this._updateGraphics(),_this.addChild(_this._graphics),_this._eventManager.register(_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TileCursor,[{key:"getEventGroupIdentifier",value:function getEventGroupIdentifier(){return IEventGroup_1.TILE_CURSOR}},{key:"getGroup",value:function getGroup(){return this}},{key:"getRectangleObservable",value:function getRectangleObservable(){return this._subject}},{key:"getEventZOrder",value:function getEventZOrder(){return-1e3}},{key:"triggerPointerTargetChanged",value:function triggerPointerTargetChanged(event){}},{key:"triggerClick",value:function triggerClick(event){this.onClick({roomX:this._roomX,roomY:this._roomY,roomZ:this._roomZ},event)}},{key:"triggerPointerDown",value:function triggerPointerDown(event){}},{key:"triggerPointerUp",value:function triggerPointerUp(event){}},{key:"triggerPointerOver",value:function triggerPointerOver(event){this._updateHover(!0),this.onOver({roomX:this._roomX,roomY:this._roomY,roomZ:this._roomZ})}},{key:"triggerPointerOut",value:function triggerPointerOut(event){this._updateHover(!1),this.onOut({roomX:this._roomX,roomY:this._roomY,roomZ:this._roomZ})}},{key:"createDebugSprite",value:function createDebugSprite(){}},{key:"hits",value:function hits(x,y){var pos=this.getGlobalPosition(),diffX=x-pos.x,diffY=y-pos.y;return this._pointInside([diffX,diffY],[[points.p1.x,points.p1.y],[points.p2.x,points.p2.y],[points.p3.x,points.p3.y],[points.p4.x,points.p4.y]])}},{key:"getHitDetectionZIndex",value:function getHitDetectionZIndex(){return-1e3}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(TileCursor.prototype),"destroy",this).call(this),this._graphics.destroy(),this._eventManager.remove(this)}},{key:"updateTransform",value:function updateTransform(){_get(_getPrototypeOf(TileCursor.prototype),"updateTransform",this).call(this),this._subject.next(this._getCurrentRectangle())}},{key:"_getCurrentRectangle",value:function _getCurrentRectangle(){var position=this.getGlobalPosition();return{x:position.x,y:position.y,width:64,height:32}}},{key:"_createGraphics",value:function _createGraphics(){return new PIXI.Graphics}},{key:"_updateGraphics",value:function _updateGraphics(){var graphics=this._graphics;null!=graphics&&(graphics.clear(),this._hover&&(drawBorder(graphics,0,.33,0),drawBorder(graphics,10998240,1,-2),drawBorder(graphics,16777215,1,-3)))}},{key:"_updateHover",value:function _updateHover(hover){this._hover!==hover&&(this._hover=hover,this._updateGraphics(),hover?this.onOver(this._position):this.onOut(this._position))}},{key:"_pointInside",value:function _pointInside(point,vs){return isPointInside_1.isPointInside(point,vs)}}]),TileCursor}(PIXI.Container);exports.TileCursor=TileCursor;var points={p1:{x:0,y:16},p2:{x:32,y:0},p3:{x:64,y:16},p4:{x:32,y:32}};function drawBorder(graphics,color){var alpha=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,offsetY=arguments.length>3?arguments[3]:void 0;graphics.beginFill(color,alpha),graphics.moveTo(points.p1.x,points.p1.y+offsetY),graphics.lineTo(points.p2.x,points.p2.y+offsetY),graphics.lineTo(points.p3.x,points.p3.y+offsetY),graphics.lineTo(points.p4.x,points.p4.y+offsetY),graphics.endFill(),graphics.beginHole(),graphics.moveTo(points.p1.x+6,points.p1.y+offsetY),graphics.lineTo(points.p2.x,points.p2.y+3+offsetY),graphics.lineTo(points.p3.x-6,points.p3.y+offsetY),graphics.lineTo(points.p4.x,points.p4.y-3+offsetY),graphics.endHole()}},999:function(module,exports,__webpack_require__){"use strict";__webpack_require__(3),Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPointInside=void 0,exports.isPointInside=function isPointInside(point,vs){for(var x=point[0],y=point[1],inside=!1,i=0,j=vs.length-1;i<vs.length;j=i++){var xi=vs[i][0],yi=vs[i][1],xj=vs[j][0],yj=vs[j][1];yi>y!=yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi&&(inside=!inside)}return inside}}},[[616,2,3]]]);
//# sourceMappingURL=main.81325960e35d824145f4.bundle.js.map